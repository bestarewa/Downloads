if (self.CavalryLogger) { CavalryLogger.start_js(["h0084"]); }

__d("AdsAdgroupPreviewLoadErrorDataAction",["AdsDataAction"],(function(a,b,c,d,e,f){"use strict";a=b("AdsDataAction").create([],"AdgroupPreview.LOAD.ERROR");e.exports=a}),null);
__d("AdsAdgroupPreviewLoadFinishedDataAction",["AdsDataAction"],(function(a,b,c,d,e,f){"use strict";a=b("AdsDataAction").create([],"AdgroupPreview.LOAD.FINISHED");e.exports=a}),null);
__d("AdsAdgroupPreviewLoadStartDataAction",["AdsDataAction"],(function(a,b,c,d,e,f){"use strict";a=b("AdsDataAction").create([],"AdgroupPreview.LOAD.START");e.exports=a}),null);
__d("AdsAdgroupPreviewLoadSuccessDataAction",["AdsDataAction"],(function(a,b,c,d,e,f){"use strict";a=b("AdsDataAction").create([],"AdgroupPreview.LOAD.SUCCESS");e.exports=a}),null);
__d("AdsAdgroupPreviewSelectedPreviewLoadedDataAction",["AdsDataAction"],(function(a,b,c,d,e,f){"use strict";a=b("AdsDataAction").create([],"AdgroupPreview.SELECTED_PREVIEW_LOADED");e.exports=a}),null);
__d("AdsAdgroupPreviewSingleViewSwitchToFormatDataReducerPlugin",[],(function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){return babelHelpers["extends"]({},a,{formatIndexMap:a.formatIndexMap.set(b.data.adgroupID,b.data.formatIndex)})}};e.exports=a}),null);
__d("AdsAdgroupPreviewsV2SingleViewUIDataProviderPlugin",["immutable"],(function(a,b,c,d,e,f){"use strict";a=function(){return{formatIndexMap:b("immutable").Map([])}};c={initialState:a()};e.exports=c}),null);
__d("AdsAdgroupPreviewsV2SingleViewUIDataProvider",["AdsAdgroupPreviewsV2SingleViewUIDataProviderPlugin","AdsDataProvider"],(function(a,b,c,d,e,f){"use strict";e.exports=b("AdsDataProvider").create(b("AdsAdgroupPreviewsV2SingleViewUIDataProviderPlugin"),"AdsAdgroupPreviewsV2SingleViewUIDataProviderPlugin")}),null);
__d("AdsAdgroupPreviewSingleViewSwitchToFormatDataReducer",["AdsAdgroupPreviewSingleViewSwitchToFormatDataReducerPlugin","AdsAdgroupPreviewsV2SingleViewUIDataProvider","AdsDataReducer"],(function(a,b,c,d,e,f){"use strict";a=b("AdsDataReducer").create(b("AdsAdgroupPreviewsV2SingleViewUIDataProvider"),{},b("AdsAdgroupPreviewSingleViewSwitchToFormatDataReducerPlugin").reduce);e.exports=a}),null);
__d("AdsAdgroupPreviewSingleViewSwitchToFormatDataAction",["AdsAdgroupPreviewSingleViewSwitchToFormatDataReducer","AdsDataAction"],(function(a,b,c,d,e,f){"use strict";a=b("AdsDataAction").create([b("AdsAdgroupPreviewSingleViewSwitchToFormatDataReducer")],"AdgroupPreview.SINGLE_VIEW_SWITCH_TO_FORMAT");e.exports=a}),null);
__d("AdsAdgroupPreviewSwitchToFormatDataReducerPlugin",[],(function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){return a.set("formatIndexMap",a.get("formatIndexMap").set(b.data.adgroupIndex,b.data.formatIndex))}};e.exports=a}),null);
__d("AdsAdgroupPreviewsV2UIRecord",["immutable"],(function(a,b,c,d,e,f){"use strict";var g;c=b("immutable").Record({adgroupIndex:0,formatIndexMap:b("immutable").Map([]),dynamicItemIndexMap:b("immutable").Map([]),previewComponentDisplaySettings:b("immutable").Map([]),previewFormatMap:b("immutable").Map([])});g=babelHelpers.inherits(a,c);g&&g.prototype;function a(){g.apply(this,arguments)}e.exports=a}),null);
__d("AdsAdgroupPreviewsV2UIDataProviderPlugin",["AdsAdgroupPreviewsV2UIRecord"],(function(a,b,c,d,e,f){"use strict";a=function(){return new(b("AdsAdgroupPreviewsV2UIRecord"))()};c={initialState:a()};e.exports=c}),null);
__d("AdsAdgroupPreviewsV2UIDataProvider",["AdsAdgroupPreviewsV2UIDataProviderPlugin","AdsDataProvider"],(function(a,b,c,d,e,f){"use strict";e.exports=b("AdsDataProvider").create(b("AdsAdgroupPreviewsV2UIDataProviderPlugin"),"AdsAdgroupPreviewsV2UIDataProviderPlugin")}),null);
__d("AdsAdgroupPreviewSwitchToFormatDataReducer",["AdsAdgroupPreviewSwitchToFormatDataReducerPlugin","AdsAdgroupPreviewsV2UIDataProvider","AdsDataReducer"],(function(a,b,c,d,e,f){"use strict";a=b("AdsDataReducer").create(b("AdsAdgroupPreviewsV2UIDataProvider"),{},b("AdsAdgroupPreviewSwitchToFormatDataReducerPlugin").reduce);e.exports=a}),null);
__d("AdsAdgroupPreviewSwitchToFormatDataAction",["AdsAdgroupPreviewSwitchToFormatDataReducer","AdsDataAction"],(function(a,b,c,d,e,f){"use strict";a=b("AdsDataAction").create([b("AdsAdgroupPreviewSwitchToFormatDataReducer")],"AdgroupPreview.SWITCH_TO_FORMAT");e.exports=a}),null);
__d("AdsAdgroupPreviewActions",["AdsAdgroupPreviewLoadErrorDataAction","AdsAdgroupPreviewLoadFinishedDataAction","AdsAdgroupPreviewLoadStartDataAction","AdsAdgroupPreviewLoadSuccessDataAction","AdsAdgroupPreviewSelectedPreviewLoadedDataAction","AdsAdgroupPreviewSingleViewSwitchToFormatDataAction","AdsAdgroupPreviewSwitchToFormatDataAction"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={loadStart:function(a){b("AdsAdgroupPreviewLoadStartDataAction").dispatch({loggingData:a})},selectedPreviewLoaded:function(){b("AdsAdgroupPreviewSelectedPreviewLoadedDataAction").dispatch({})},loadSuccess:function(a){b("AdsAdgroupPreviewLoadSuccessDataAction").dispatch({loggingData:a})},loadFinished:function(a){b("AdsAdgroupPreviewLoadFinishedDataAction").dispatch({loggingData:a})},loadError:function(a){b("AdsAdgroupPreviewLoadErrorDataAction").dispatch({loggingData:a})},switchToPreviewForAdgroup:function(a,c,d,e,f){b("AdsAdgroupPreviewSwitchToFormatDataAction").dispatch({data:{format:a,formatIndex:c,adgroupIndex:d,shouldLog:e,loggingSource:f}})},singleViewSwitchToPreviewForAdgroup:function(a,c){b("AdsAdgroupPreviewSingleViewSwitchToFormatDataAction").dispatch({data:{adgroupID:a,formatIndex:c}})}};e.exports=a}),null);
__d("AdsBugReportUploader.react",["cx","fbt","AdsBugReportConfigSwitch","FileInput.react","FileInputUploader","List.react","React","SUIBusinessTheme","SUIButton.react","SUICloseButton.react","SUIText.react","getOwnObjectValues","objectEntries"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=b("React").PropTypes;var j=b("AdsBugReportConfigSwitch").module;d=b("getOwnObjectValues")(j.products);var k={FAILURE:"failure",REMOVED:"removed",SUCCESS:"success",UPLOADING:"progress"};function l(a){switch(a.status){case k.SUCCESS:return h._("(Upload Complete)");case k.UPLOADING:a=a.bytesLoaded/a.size*100;return h._("({percentage_uploaded}\u0025 Uploaded)",[h._param("percentage_uploaded",a.toFixed(2))]);case k.FAILURE:return h._("(Upload Failed)");default:return null}}function m(a,b,c){return function(){var d=babelHelpers["extends"]({},a);d[b].status=k.REMOVED;c(d)}}function n(a){var c=a.attachedFiles,d=a.onFileListChange;a=b("objectEntries")(c).filter(function(a){a[0];a=a[1];return a.status!==k.REMOVED}).map(function(a){var e=a[0];a=a[1];return b("React").createElement("li",{key:e},b("React").createElement(b("SUICloseButton.react"),{id:e,theme:b("SUIBusinessTheme"),onClick:m(c,e,d)}),b("React").createElement(b("SUIText.react"),{shade:"light",size:"meta1",theme:b("SUIBusinessTheme")},a.name," ",l(a)))});return a.length?b("React").createElement(b("List.react"),{border:"none",className:"_3-8x",spacing:"none"},a):null}f=babelHelpers.inherits(a,b("React").PureComponent);i=f&&f.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=i.constructor).call.apply(a,[this].concat(e)),this.$4=function(event,a){__p&&__p();var b=a.upload.getFile().lastModified,c={};Object.assign(c,this.props.attachedFiles);if(c[b]&&c[b].status===k.REMOVED){a.upload.abort();return}switch(event){case k.SUCCESS:c[b].status=k.SUCCESS;c[b].handle=a.response.payload.meta;break;case k.FAILURE:c[b].status=k.FAILURE;break;case k.UPLOADING:c[b]||(c[b]={status:k.UPLOADING,name:a.upload.getFile().name,size:a.event.total});c[b].bytesLoaded=a.event.loaded;break}this.props.onFileListChange(c)}.bind(this),this.$3=function(event){var a=event.target;a=new(b("FileInputUploader"))(a).setURI("/ajax/file_handle/upload.php");a.subscribe("success",this.$4);a.subscribe("failure",this.$4);a.subscribe("progress",this.$4);a.setUploadInParallel(!0);a.send()}.bind(this),c}a.prototype.render=function(){if(this.props.product!==j.products.ADS_CREATOR&&this.props.product!==j.products.ADS_MANAGER&&this.props.product!==j.products.POWER_EDITOR&&this.props.product!==j.products.CAMPAIGN_MANAGER&&this.props.product!==j.products.CREATIVE_STUDIO&&this.props.product!==j.products.BUSINESS_SITE)return null;var a=h._("Upload"),c=this.props.showLabel?b("React").createElement("div",{className:"_3-96"},b("React").createElement(b("SUIText.react"),{size:"medium_DEPRECATED",theme:b("SUIBusinessTheme"),weight:"bold"},this.$1())," ",b("React").createElement(b("SUIText.react"),{shade:"light",size:"meta1",theme:b("SUIBusinessTheme"),weight:"bold"},h._("(Optional)")),b("React").createElement(b("SUIText.react"),{display:"block",shade:"light",size:"meta1",theme:b("SUIBusinessTheme")},this.$2())):null;return b("React").createElement("div",null,c,b("React").createElement(b("FileInput.react"),{multiple:!0,name:"files[]",onChange:this.$3},b("React").createElement(b("SUIButton.react"),{href:"#",label:a,theme:b("SUIBusinessTheme")})),this.props.showAttachedFilesPreviewList?b("React").createElement(n,{attachedFiles:this.props.attachedFiles,onFileListChange:this.props.onFileListChange}):null)};a.prototype.$1=function(){switch(this.props.product){case j.products.ADS_CREATOR:return h._("Please add a screenshot or video");case j.products.ADS_MANAGER:case j.products.CAMPAIGN_MANAGER:case j.products.BUSINESS_SITE:case j.products.POWER_EDITOR:case j.products.CREATIVE_STUDIO:return h._("Please add a screenshot, video, or file");default:return null}};a.prototype.$2=function(){switch(this.props.product){case j.products.ADS_CREATOR:return h._("Attach a screenshot or video to help us understand the problem");case j.products.ADS_MANAGER:case j.products.BUSINESS_SITE:case j.products.CAMPAIGN_MANAGER:case j.products.CREATIVE_STUDIO:return h._("Attach a screenshot, video or file to help us understand the problem");case j.products.POWER_EDITOR:return h._("Attach a screenshot , video, or file to help us understand the problem. If you experienced a bulk import\/upload issue, please attach the excel spreadsheet that you were using");default:return null}};a.FileList=n;a.propTypes={attachedFiles:c.object.isRequired,product:c.oneOf(d).isRequired,showAttachedFilesPreviewList:c.bool,showLabel:c.bool,onFileListChange:c.func.isRequired};a.defaultProps={showAttachedFilesPreviewList:!0,showLabel:!0};e.exports=a;e.exports.UPLOAD_STATUS=k}),null);
__d("BugReportUtils",["keyMirror"],(function(a,b,c,d,e,f){"use strict";__p&&__p();d=b("keyMirror")({HIDDEN:null,FORM:null,SUBMISSION:null,CONFIRMATION:null});function a(a){var b=a.body,c=a.description;a=a.header;return"\n===== "+a+" =====\n"+c+"\n"+b+"\n========"}function c(a){return a.map(g.formatSection).join("\n")}var g={BUG_REPORT_FORM_STEP:d,formatSection:a,formatSectionList:c};e.exports=g}),null);
__d("AdsFeedStoryShim.react",["cx","React"],(function(a,b,c,d,e,f,g){"use strict";var h;h=babelHelpers.inherits(a,b("React").PureComponent);h&&h.prototype;a.prototype.render=function(){return b("React").createElement("div",{className:"_2iwo"},b("React").createElement("div",{className:"_2iwq"},b("React").createElement("div",{className:"_2iwr"}),b("React").createElement("div",{className:"_2iws"}),b("React").createElement("div",{className:"_2iwt"}),b("React").createElement("div",{className:"_2iwu"}),b("React").createElement("div",{className:"_2iwv"}),b("React").createElement("div",{className:"_2iww"}),b("React").createElement("div",{className:"_2iwx"}),b("React").createElement("div",{className:"_2iwy"}),b("React").createElement("div",{className:"_2iwz"}),b("React").createElement("div",{className:"_2iw-"}),b("React").createElement("div",{className:"_2iw_"}),b("React").createElement("div",{className:"_2ix0"})))};function a(){h.apply(this,arguments)}e.exports=a}),null);
__d("AdsDCONoticeUtils",["cx","fbt","AdsHelpTrayUIActions","AdsIntelligentBlueTip.react","Link.react","React","SUIText.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i="170372403538781",j={getDuplicationNoticeForCM:function(){return h._("The ad set you selected is using dynamic creative and can only include one ad. Please select a different ad set or create a new one.")},getQuickDuplicationNoticeForPE:function(){return h._("The ad set you selected is using dynamic creative and can only include one ad. Please select a different ad set or create a new one.")},getNotExportedWarning:function(){return h._("Ads using dynamic creative can't be imported or exported. You can still manage and edit these ads in Ads Manager.")},getDraftAndPublishedMixedStateNotice:function(){return h._("One or more of the ad sets you've selected uses dynamic creative and has already been confirmed. The setting for dynamic creative can't be changed in confirmed ad sets.")},getGeneralDCOMixedStateNotice:function(){return h._("One or more of the ad sets you've selected uses dynamic creative and can't be edited with other ad sets. Please edit dynamic creative ad sets separately.")},getCarouselFormatNotSupportedNotice:function(){return h._("Currently, carousel ads are only available for ads not using dynamic creative.")},getCarouselFormatSupportedTip:function(){return b("React").createElement(b("AdsIntelligentBlueTip.react"),{contextNodeID:"dcoCarouselNewTip",messageID:"dco_carousel_new_feature_tip",position:"right"})},getCannotCreateAdInAdsetWithExistingDCOAdNotice:function(){return h._("The ad set you selected is using dynamic creative and can only include one ad. Please select a different ad set or create a new one.")},getDeletionDialogBody:function(){return h._("You have selected at least one ad with dynamic creative. Deleting this type of ad will automatically delete the ad set as well.")},getNoAssetOption:function(){return h._("No values provided")},getCTATooltip:function(){return h._("Add a button that matches the action you want people to take when they see your ad. You can select up to 5 calls to action for your ad.")},getPreviewEntryDisabledTooltip:function(){return h._("To see more variations, upload more creative assets.")},getImageTooltip:function(){return h._("Add up to 10 images to use in your ad.")},getWebsiteURLTooltip:function(){return h._("Enter the website URL you want to promote. (Ex: http:\/\/www.example.com\/page) Only one URL can be promoted in your ad.")},getDisplayURLTooltip:function(){return h._("This is the URL that will be shown to people who see your ad. It can be a shortened or reformatted link, but it must direct to the same place as your destination URL. Only 1 display link can be used in your ad. This won't appear in all placements.")},getDCOHelpContentLink:function(){return h._("{link to learn more about dynamic creative}.",[h._param("link to learn more about dynamic creative",b("React").createElement(b("Link.react"),{onClick:j.openHelpTray(i)},h._("Learn more")))])},openHelpTray:function(a){return function(){b("AdsHelpTrayUIActions").pushCMSIDToHistory(a)}},getCTASelectionDisabledTooltip:function(a){return h._("Choose up to {Max number of CTA buttons allowed} call to actions for ads with dynamic creative.",[h._param("Max number of CTA buttons allowed",a)])},getDCOAdgroupInsightsTipMessage:function(){return b("React").createElement("div",null,b("React").createElement(b("SUIText.react"),{color:"white",display:"block",size:"meta1",weight:"bold"},j.adgroupInsightsTipTitle),b("React").createElement(b("SUIText.react"),{className:"_3-8x",display:"block",shade:"white",size:"meta1"},j.adgroupInsightsTipDesc))},getDuplicateValueErrorMessage:function(a){return h._("Please enter a unique {Field Name} for each field.",[h._param("Field Name",a)])},getTextLimitErrorMessage:function(a){return h._("This field must be at most {Max number of characters allowed} characters long.",[h._param("Max number of characters allowed",a)])},getAddButtonDisabledTooltip:function(a,b){return h._("You can only add up to {Max number of values allowed} {Field Name}.",[h._param("Max number of values allowed",a),h._param("Field Name",b)])},selectVideos:h._("Select Videos"),campaignTourStep1Title:h._("Create"),campaignTourStep1:h._("Use an assortment of images or videos, descriptions and other creative assets."),campaignTourStep2Title:h._("Deliver"),campaignTourStep2:h._("Facebook's dynamic creative system explores different combinations and delivers the one that performs best with your audience."),campaignTourStep3Title:h._("Learn"),campaignTourStep3:h._("See ads insights at the creative-asset level, so you can learn how to create better ad creative over time."),adgroupTourTitle:h._("Create Ads with Dynamic Creative"),adgroupTourDesc:h._("Now you can add multiple creative assets and create your ad. Our system will automatically find the most effective combinations of creative assets for your audience."),adgroupTourButton:h._("Take the Tour"),adgroupTourStep1Title:h._("Images or Videos"),adgroupTourStep1Desc:h._("See how different images or videos perform in your ad."),adgroupTourStep2Title:h._("Text, Headlines and Other Copy"),adgroupTourStep2Desc:h._("Use the button to quickly add different versions of your copy."),adgroupTourStep3Title:h._("Calls to Action"),adgroupTourStep3Desc:h._("Select multiple calls of action to see which one your audience responds to most."),adgroupInsightsTipTitle:h._("New! Dynamic Creative Asset Breakdown"),adgroupInsightsTipDesc:h._("Now you can view results at the creative-asset level for ads that use dynamic creative."),adgroupPreviewTip:h._("You can see other variations of your ad here."),cannotUseDCOCampaignInCF:h._("To use this ad set please edit using Quick Creation. Ads with dynamic creative aren't supported with guided creation.")};e.exports=j}),null);
__d("AdsAssetDropdownPicker.react",["cx","fbt","invariant","AdsCallToActionTypes","AdsDCONoticeUtils","AdsLoadState_LEGACY","AdsRichSelector.react","FDSSpinner.react","Image.react","React"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k=b("AdsRichSelector.react").Option,l=b("AdsDCONoticeUtils").getNoAssetOption(),m=276;function n(a){return b("React").createElement(b("Image.react"),{className:"_4v9p",height:24,src:a,width:50})}c=babelHelpers.inherits(a,b("React").PureComponent);j=c&&c.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=j.constructor).call.apply(a,[this].concat(d)),this.$1=function(a){this.props.onSelectAssetAtIndex(a.value)}.bind(this),b}a.prototype.$2=function(){__p&&__p();if(this.props.assets.length===0)return[b("React").createElement(k,{className:"_4v9q",key:0,label:l,value:0},l)];var a=this.props;switch(a.mode){case"text-asset":return a.assets.filter(function(b){b=b.get(a.fieldName);typeof b==="string"||i(0);return b!==""}).map(function(c,d){c=c.get(a.fieldName);return b("React").createElement(k,{className:"_4v9q",key:d,label:c,value:d},b("React").createElement("span",{className:"_4va4"},c))});case"cta-asset":return a.assets.map(function(a,c){a=b("AdsCallToActionTypes").TYPES[a];a=a&&a.text;return b("React").createElement(k,{className:"_4v9q",key:c,label:a,value:c},b("React").createElement("span",{className:"_4va4"},a))});case"video-asset":return a.assets.map(function(a,c){var d=n(a.video.preferredThumbnail.uri);a=a.video.title||a.video.description||h._("Video ({video ID})",[h._param("video ID",a.video.id)]);return b("React").createElement(k,{className:"_4v9q",icon:d,key:c,label:a,value:c},b("React").createElement("span",{className:"_4va4"},a))});default:return a.assets.map(function(a,c){var d=n(a.url);a=a.name;return b("React").createElement(k,{className:"_4v9q",icon:d,key:c,label:a,value:c},b("React").createElement("span",{className:"_4va4"},a))})}};a.prototype.render=function(){var a=this.props;return a.mode==="video-asset"&&a.assets.some(function(a){return a.video.loadState===b("AdsLoadState_LEGACY").LOADING})?b("React").createElement(b("FDSSpinner.react"),{size:"small"}):b("React").createElement(b("AdsRichSelector.react"),{className:"_4vaa",disabled:a.assets.length===0,maxwidth:m,size:"large",tooltip:a.helpText,useMenuDividers:!0,onChange:this.$1},this.$2())};e.exports=a}),null);
__d("AdFacebookStoryAdPreviewDisclaimer.react",["fbt","AdsAdgroupSpecUtils","React","SUIBusinessTheme","SUIText.react"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var c=a.adgroupSpec;a=a.className;c=b("AdsAdgroupSpecUtils").isCarouselAd(c)?g._("Carousel ads will not be delivered if you select placements other than Facebook stories."):g._("Text may not appear on all devices.");return b("React").createElement("div",{className:a},b("React").createElement(b("SUIText.react"),{color:"placeholder",size:"meta1",textAlign:"center",theme:b("SUIBusinessTheme"),width:"320px"},c))}e.exports=a}),null);
__d("AdsInstagramStoryAdPreviewDisclaimer.react",["fbt","AdsAdgroupSpecUtils","React","SUIBusinessTheme","SUIText.react"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var c=a.adgroupSpec;a=a.className;c=b("AdsAdgroupSpecUtils").isCarouselAd(c)?g._("Carousel ads will not be delivered if you select placements other than Instagram stories."):g._("Text appearance may vary by device.");return b("React").createElement("div",{className:a},b("React").createElement(b("SUIText.react"),{color:"placeholder",size:"meta1",textAlign:"center",theme:b("SUIBusinessTheme"),width:"320px"},c))}e.exports=a}),null);
__d("AdsStockImageWatermarkNotice.react",["ix","cx","fbt","Image.react","React","SUIBusinessTheme","SUIText.react","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";function a(a){a=a.className;var c=g("403742");return b("React").createElement("div",{className:a},b("React").createElement(b("Image.react"),{className:"_d6- _3-90",src:c}),b("React").createElement(b("SUIText.react"),{shade:"light",size:"meta1",theme:b("SUIBusinessTheme")},i._("Watermark won't appear in the final ad image.")))}e.exports=a}),null);
__d("AdPreviewBorderStyles",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({NONE:"none",STANDARD:"standard"})}),null);
__d("AdPreviewHotReloadDataProviderPlugin",[],(function(a,b,c,d,e,f){"use strict";a={initialState:{didHotReload:!1}};e.exports=a}),null);
__d("AdPreviewHotReloadDataProvider",["AdPreviewHotReloadDataProviderPlugin","AdsDataProvider"],(function(a,b,c,d,e,f){"use strict";e.exports=b("AdsDataProvider").create(b("AdPreviewHotReloadDataProviderPlugin"),"AdPreviewHotReloadDataProviderPlugin")}),null);
__d("AdPreviewHotReloadSelector",["AdPreviewHotReloadDataProvider"],(function(a,b,c,d,e,f){"use strict";e.exports=b("AdPreviewHotReloadDataProvider").toFluxSelector()}),null);
__d("AdsBugReportCategory",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({CREATING_OR_USING_CONVERSION_PIXEL:"creating_or_using_conversion_pixel",MANAGING_AUDIENCES:"managing_audiences",ACCOUNT_SETTINGS:"account_settings",BILLING:"billing",OTHER:"other",AD_DELIVERY:"ad_delivery",AD_POLICY_FRAUD:"ad_policy_fraud",ADS_REPORTING:"ads_reporting",CREATING_AN_AD:"creating_an_ad",EDITING_AN_AD:"editing_an_ad",PUBLISHING_CHANGES:"publishing_changes",CANVAS_ADS:"canvas_ads",CAROUSEL_ADS:"carousel_ads",EDITING_TEXT_AND_LINKS:"editing_text_and_links",LOADING_MOCKUPS:"loading_mockups",MOBILE_PREVIEW:"mobile_preview",SAVING_MOCKUPS:"saving_mockups",SELECTING_IMAGES:"selecting_images",SELECTING_VIDEOS:"selecting_videos",SHARING_MOCKUPS:"sharing_mockups",BUYING_PLAN:"buying_plan",CREATING_PLAN:"creating_plan",PLANNER_ACCESS:"planner_access",PLANNER_OTHER:"planner_other",PREDICTION:"prediction",SHARING_PLAN:"sharing_plan",CREATING_AUDIENCE:"creating_audience",COMPARING_AUDIENCE:"comparing_audience",VIEWING_INSIGHTS:"viewing_insights",SAVED_AUDIENCE:"saved_audience",CREATING_AD:"creating_ad",BUSINESS_AD_ACCOUNTS:"business_ad_accounts",BUSINESS_NAVIGATION:"business_navigation",BUSINESS_NOTIFICATIONS:"business_notifications",BUSINESS_PERMISSIONS:"business_permissions",BUSINESS_PROJECTS:"business_projects",BUSINESS_PAGES:"business_pages",PAGES_ERROR_MESSAGE:"pages_error_message",PAGES_IMAGE:"pages_image",PAGES_INCORRECT_LIKE_ESTIMATE:"pages_incorrect_like_estimate",PAGES_INCORRECT_CLICK_ESTIMATE:"pages_incorrect_click_estimate",PAGES_TARGETING:"pages_targeting",PAGES_BUDGET:"pages_budget",PAGES_AD_SCHEDULE:"pages_ad_schedule",PAGES_ACCOUNT_ISSUE:"pages_account_issue",PAGES_AD_REVIEW_DISAPPROVAL:"pages_ad_review_disapproval",PAGES_OTHER:"pages_other",BP_POST_ISSUE:"bp_post_issue",BP_POST_IS_NOT_DELIVERY:"bp_post_not_delivery",BP_WRONG_REACH_ESTIMATE:"bp_wrong_reach_estimate",BP_DURATION_OF_AD:"bp_duration_of_ad",PP_CANNOT_PROMOTE_PAGE:"pp_cannot_promote_page",PW_CANNOT_PROMOTE_WEBSITE:"pw_cannot_promote_website",BP_APP_INSTALL_CANNOT_PROMOTE_APP:"bp_cannot_promote_app",LA_CANNOT_PROMOTE_LOCAL_AWARENESS:"la_cannot_promote_local_awareness",CCTA_CANNOT_PROMOTE_CCTA:"ccta_cannot_promote_ccta",COUPON_CANNOT_CREATE:"coupon_cannot_create",LWI_IMAGE_AND_TEXT:"image_and_text",LWI_PERFORMANCE:"performance",LWI_AUDIENCE:"audience",LWI_SETTING_A_BUDGET:"setting_a_budget",LWI_SCHEDULE_OF_MY_AD:"schedule_of_my_ad",LWI_AD_REVIEW_AND_DISAPPROVAL:"ad_review_and_disapproval",LWI_ACCOUNT_ISSUES:"account_issues",LWI_OTHER_ISSUES:"other_issues",ANALYTICS:"analytics"})}),null);
__d("AdsBugReportSource",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({UNKNOWN:"unknown",HELP_TRAY:"help_tray",IN_PRODUCT:"in_product"})}),null);
__d("AdsBugReportSubCategory",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({OTHER:"other",BI_DISAPPROVALS:"bi_disapprovals",RISK_FRAUD:"risk_fraud",AD_SCHEDULE:"ad_schedule",SAVING_CHANGES:"saving_changes",OBJECTIVES:"objectives",ASSETS:"assets",PLACEMENTS:"placements",AUDIENCE:"audience",BUDGET:"budget",CREATIVE:"creative",AD_PREVIEW:"ad_preview",BULK_IMPORT:"bulk_import",SPLIT_TESTING:"split_testing",PLACING_ORDER:"placing_order",CREATION_DUP_EXISTING:"creation_dup_existing",DELIVERY_FLUCTUATIONS:"delivery_fluctuations",NO_DELIVERY:"no_delivery",OVER_SPEND:"over_spend",UNDER_DELIVERY:"under_delivery",ACCOUNT_PERMISSIONS:"account_permissions",ACCOUNT_CREATION_DELETION:"account_creation_deletion",ACCOUNT_INFORMATION:"account_information",AD_METRICS:"ad_metrics",BREAKDOWN:"breakdown",COLUMN_SELECTOR:"column_selector",EXPORTING:"exporting",FILTERS_DATES:"filters_dates",LOADING_ISSUE:"loading_issue",REPORTING_GRAPHS:"reporting_graphs",SCHEDULED_REPORTING:"scheduled_reporting",CHARGES_INVOICING_BALANCE:"charges_invoicing_balance",PAYMENT_METHODS:"payment_methods",SPEND_LIMITS:"spend_limits",BROWSING_LIBRARY:"browsing_library",CHOOSING_PLACEMENT:"choosing_placement",EDITING_HEADLINE:"editing_headline",EDITING_TEXT:"editing_text",UPLOADING_IMAGE:"uploading_image",PAGES_TARGETING_CANNOT_CHOOSE_AUDIENCE:"pages_targeting_cannot_choose_audience",PAGES_TARGETING_NOT_APPLIED:"pages_targeting_not_applied",PAGES_TARGETING_CANNOT_EDIT:"pages_targeting_cannot_edit",PAGES_TARGETING_WRONG_AUDIENCE:"pages_targeting_wrong_audience",PAGES_TARGETING_OTHER_ISSUE:"pages_targeting_other_issue",PAGES_BUDGET_CANNOT_SET_BUDGET:"pages_budget_cannot_set_budget",PAGES_BUDGET_OPTIONS_INCORRECT:"PAGES_BUDGET_OPTIONS_INCORRECT",PAGES_BUDGET_NOT_APPLIED:"pages_budget_not_applied",PAGES_BUDGET_CURRENCY_INCORRECT:"pages_budget_currency_incorrect",PAGES_BUDGET_OTHER_ISSUE:"pages_budget_other_issue",PAGES_SCHEDULE_CANNOT_SET:"pages_schedule_cannot_set",PAGES_SCHEDULE_OPTIONS_INCORRECT:"pages_schedule_options_incorrect",PAGES_SCHEDULE_CANNOT_PAUSESTOP_AD:"pages_schedule_cannot_pausestop_ad",PAGES_SCHEDULE_OTHER_ISSUE:"pages_schedule_other_issue",PAGES_REVIEW_INCORRECTLY_DISAPPROVED:"pages_review_incorrectly_disapproved",PAGES_REVIEW_BUDGET_WAS_SPENT_EVEN_AD_DISAPPROVED:"pages_review_budget_was_spent_even_ad_disapproved",PAGES_REVIEW_TAKING_TOO_LONG_TO_GET_REVIEWED:"pages_review_taking_too_long_to_get_reviewed",PAGES_REVIEW_OTHER_ISSUE:"pages_review_other_issue",BP_CANNOT_BOOST_MY_POST:"bp_cannnot_boost_my_post",BP_WRONG_POST_WAS_BOOSTED:"bp_wrong_post_was_boosted",BP_AD_IMAGE_IS_NOT_CORRECT:"bp_ad_image_is_not_correct",BP_DURATION_CANNOT_SET_DURATION:"bp_duration_cannot_set_duration",BP_DURATION_OPTIONS_INCORRECT:"bp_duration_options_incorrect",BP_DURATION_CANNOT_PAUSESTOP_AD:"bp_duration_cannot_pausestop_ad",BP_DURATION_OTHER_ISSUE:"bp_duration_other_issue",PAGES_ACCOUNT_AD_ACCOUNT:"pages_account_ad_account",PAGES_ACCOUNT_PAYMENT:"pages_account_payment",PAGES_ACCOUNT_TIMEZONE:"pages_account_timezone",PAGES_ACCOUNT_OTHER:"pages_account_other",LWI_CANT_EDIT_TEXT_OR_IMAGE:"pages_can_edit_text_or_image",LWI_PROMOTION_NOT_REACHING_PEOPLE:"pages_promotion_not_reacing_people",LWI_PROMOTION_REACHED_FEWER_THAN_EXPECTED:"pages_promotion_reached_fewer_than_expected",LWI_AUDIENCE_CANT_SELECT_AUDIENCE_I_WANT:"pages_audience_cant_select_audience_i_want",LWI_AUDIENCE_SELECTED_TARGETING_NOT_APPLIED:"pages_audience_selected_targeting_not_applied",LWI_AUDIENCE_CANT_EDIT_AUDIENCE:"pages_audience_cant_edit_audience",LWI_AUDIENCE_DELIVERING_TO_WRONG_AUDIENCE:"pages_audience_delivering_to_wrong_audience",LWI_PROMOTION_NOT_APPROVED:"pages_promotion_not_approved",LWI_PROMOTION_NOT_APPROVED_BUT_CHARGED:"pages_promotion_not_approved_but_charged",LWI_PROMOTION_TAKE_TOO_LONG_REVIEW:"pages_promotion_take_too_long_review",LWI_SOMETHING_ELSE:"pages_something_else",LWI_ACCOUNT_PAYMENT_METHOD_ISSUE:"pages_account_payment_method_issue",LWI_ACCOUNT_BILLING_ISSUE:"pages_account_billing_issue"})}),null);
__d("AdsLayerHideOnBlur",["csx","Parent"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=["#AdsPEHelpTrayContainer","#AdsCMHelpTrayContainer","._26fy"],i=2;function j(a){return!!a.parentElement&&a.parentElement.tagName==="BODY"}function k(a,c){a=b("Parent").find(a,j);c=b("Parent").find(c,j);return!!a&&!!c&&c.compareDocumentPosition(a)===i}function a(a){this.$1=a,this.$2=[],this.$3=null}a.prototype.enable=function(){this.$2=[this.$1.subscribe("show",this.$4.bind(this)),this.$1.subscribe("hide",this.$5.bind(this))],this.$1.isShown()&&this.$4()};a.prototype.disable=function(){this.$5();while(this.$2.length)this.$2.pop().unsubscribe();this.$2=[]};a.prototype.$5=function(){this.$3&&this.$3.unsubscribe(),this.$3=null};a.prototype.$4=function(){__p&&__p();this.$3=this.$1.subscribe("blur",function(event,a){var c=h.some(function(c){return b("Parent").bySelector(a.target,c)});if(c)return!1;c=this.$1.getContentRoot();if(c&&a.target&&k(c,a.target))return!1;this.$1.hide();return!0}.bind(this))};e.exports=a}),null);
__d("AdsPreviewBugReportUtils",["fbt","BugReportUtils","CurrentUser","URI","keyMirror"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=Object.freeze({INCORRECT_DETAILS:g._("Incorrect preview details"),LOADING_ISSUE:g._("Problems loading a preview"),SHARING_ISSUE:g._("Problems sharing a preview"),OTHER:"Other"});d=Object.freeze({CROPPING:g._("Incorrect cropping of image or video"),CTA:g._("Incorrect call to action or display link"),HEADLINE:g._("Incorrect headline or text"),LINK_DESCRIPTION:g._("Incorrect link description")});f=Object.freeze({INCORRECT_IMAGE_OR_VIDEO:g._("Incorrect image or video"),LOW_RESOLUTION:g._("Low resolution preview"),BLANK_PREVIEW:g._("Blank preview")});var i=Object.freeze({SHARING_LINK:g._("Share link doesn't work"),MOBILE_PREVIEW:g._("Can't preview on mobile device"),OTHER:g._("Other")}),j=Object.freeze({}),k=b("keyMirror")(c);d=Object.freeze((h={},h[k.INCORRECT_DETAILS]=d,h[k.LOADING_ISSUE]=f,h[k.SHARING_ISSUE]=i,h[k.OTHER]=j,h));f=Object.freeze({NO_CATEGORY_SELECTION:g._("No bug category selected"),PENDING_UPLOADS:g._("You have pending uploads")});var l=function(a){return new(b("URI"))("/intern/ads/previews").addQueryData({tab:"preview_params_json_parser_tab",preview_params:JSON.stringify(a),force_viewer:b("CurrentUser").getID()}).setDomain("our.intern.facebook.com").setProtocol("https").getQualifiedURI().toString()};function a(a){var c=a.category,d=a.subCategory,e=a.userDescription,f=a.fbtraceID,g=a.error;a=a.previewParams;f=[{header:"PREVIEW TOOL LINK",description:"Link to Preview tool to reproduce the visible preview during the report. (Reproducing the Preview in the Ads Interfaces is still the source of truth.)",body:l(a)},{header:"PREVIEW TRACE",description:"Preview trace logged in Ads Scuba Table (i adlog)",body:f},{header:"PREVIEW ERROR",description:"Preview component error(if any):",body:JSON.stringify(g)},{header:"PREVIEW PAGELET SPEC",description:"Preview spec:",body:JSON.stringify(a,null,"\t")}];return"\n"+e+"\n"+[c,d].join("-")+"\n========\n"+b("BugReportUtils").formatSectionList(f)}e.exports={reportSummary:a,PREVIEW_BUG_CATEGORY:c,PREVIEW_BUG_CATEGORY_KEYS:k,PREVIEW_BUG_CATEGORY_TO_SUBCATEGORY:d,SUBMIT_DISABLED_REASONS:f}}),null);
__d("LayerAbsorbWheel",["invariant","DOMEventListener"],(function(a,b,c,d,e,f,g){__p&&__p();function a(a){"use strict";this.$2=null,this.$1=a}a.prototype.enable=function(){"use strict";var a=this.$1.getRoot();a!=null||g(0);this.$2=b("DOMEventListener").add(a,"wheel",this.$3,{passive:!0})};a.prototype.disable=function(){"use strict";this.$2&&(this.$2.remove(),this.$2=null)};a.prototype.$3=function(event){"use strict";event.stopPropagation()};e.exports=a}),null);
__d("ScreenshotCaptureInputPreviews.react",["cx","Image.react","React","immutable"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.render=function(){return b("React").createElement("div",{className:"_2ya4 _3-8i"},this.props.screenshotDataURIs.map(function(a,c){return b("React").createElement("div",{className:"_2ya5",key:c},b("React").createElement(b("Image.react"),{onClick:function(){return this.props.onScreenshotListChange(this.props.screenshotDataURIs["delete"](c))}.bind(this),className:"_2ya6",src:a}))}.bind(this)))};function a(){h.apply(this,arguments)}e.exports=a}),null);
__d("AdsPreviewBugReportModal.react",["cx","fbt","invariant","AdsBugReportUploader.react","AdsLayerHideOnBlur","AdsSpinner.react","BootloadedComponent.react","BugReportUtils","CurrentUser","FDSSimplePopover.react","FDSSpinner.react","SUIHorizontalLayout.react","SUILink.react","SUIModalFillViewportHeight","SUIModalOkayButton.react","SUIRadioList.react","SUISelector.react","SUISelectorOption.react","immutable","JSResource","LayerAbsorbWheel","LayerHideOnEscape","React","ScreenshotCaptureInputPreviews.react","SUIBusinessTheme","SUIButton.react","SUIModal.react","SUIModalCancelButton.react","SUIModalFooter.react","SUIModalHeader.react","SUIText.react","SUITextArea.react","AdsPreviewBugReportUtils","objectEntries"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k=b("AdsBugReportUploader.react").FileList,l=b("BugReportUtils").BUG_REPORT_FORM_STEP,m=b("SUIRadioList.react").Item,n=b("AdsPreviewBugReportUtils").PREVIEW_BUG_CATEGORY,o=b("AdsPreviewBugReportUtils").PREVIEW_BUG_CATEGORY_TO_SUBCATEGORY,p=h._("Required"),q=h._("Optional");function r(a){var c=a.disableSubmitReasonList;a=a.onSurveyComplete;a=b("React").createElement(b("SUIButton.react"),{disabled:!!c,label:h._("Send Report"),layerAction:"confirm",theme:b("SUIBusinessTheme"),use:"confirm",onClick:a});return b("React").createElement(b("SUIModalFooter.react"),{primaryButton:c?b("React").createElement(b("FDSSimplePopover.react"),{content:c,position:"below",showIcon:!1},a):a,secondaryButton:b("React").createElement(b("SUIModalCancelButton.react"),null),theme:b("SUIBusinessTheme")})}function s(a){var c=a.title,d=a.subtitle,e=a.description;a=a.node;return b("React").createElement("div",null,b("React").createElement(b("SUIText.react"),{size:"meta1",theme:b("SUIBusinessTheme"),weight:"bold"},c),d?b("React").createElement(b("SUIText.react"),{size:"meta1",theme:b("SUIBusinessTheme")}," (",d,")"):null,e?b("React").createElement(b("SUIText.react"),{display:"block",size:"meta1",theme:b("SUIBusinessTheme")},e):null,b("React").createElement("div",{className:"_3-8x _3-96"},a))}function t(a){__p&&__p();var c=a.category,d=a.subCategory,e=a.onCategoryChange;a=a.onSubCategoryChange;var f=function(a){var c=a[0];a=a[1];return b("React").createElement(b("SUISelectorOption.react"),{key:c,theme:b("SUIBusinessTheme"),value:c},a)},g=b("objectEntries")(n).map(f);f=c?b("objectEntries")(o[c]).map(f):null;c=b("React").createElement(b("SUISelector.react"),{placeholder:h._("Select the type of issue"),theme:b("SUIBusinessTheme"),value:c,onChange:e},g);e=f&&f.length>0?b("React").createElement(b("SUISelector.react"),{placeholder:h._("Choose a specific issue"),theme:b("SUIBusinessTheme"),value:d,onChange:a},f):null;g=b("React").createElement("div",null,b("React").createElement("div",{className:"_3-95"},c),b("React").createElement("div",null,e));return b("React").createElement(s,{node:g,subtitle:p,title:h._("What type of problem are you experiencing?")})}function u(a){var c=a.value;a=a.onChange;c=b("React").createElement(b("SUITextArea.react"),{placeholder:h._("Explain the issue you are facing and possible steps to reproduce it"),theme:b("SUIBusinessTheme"),value:c,onChange:a});return b("React").createElement(s,{description:h._("Tell us more about what happened, including the steps we can take to reproduce the problem."),node:c,subtitle:q,title:h._("Please explain the problem")})}function v(a){var c=a.attachedFiles,d=a.product,e=a.screenshotDataURIs,f=a.onFileListChange,g=a.onPostScreenshot,i=a.onPreScreenshot;a=a.onScreenshotListChange;d=b("React").createElement(b("AdsBugReportUploader.react"),{attachedFiles:c,product:d,showAttachedFilesPreviewList:!1,showLabel:!1,onFileListChange:f});g=b("CurrentUser").isEmployee()?b("React").createElement(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("ScreenshotCaptureInput.react").__setRef("AdsPreviewBugReportModal.react"),bootloadPlaceholder:b("React").createElement(b("AdsSpinner.react"),null),screenshotDataURIs:e,showPreviews:!1,onPostScreenshot:g,onPreScreenshot:i,onScreenshotListChange:a}):null;i=b("React").createElement(k,{attachedFiles:c,onFileListChange:f});c=b("React").createElement(b("ScreenshotCaptureInputPreviews.react"),{screenshotDataURIs:e,onScreenshotListChange:a});f=b("React").createElement("div",null,b("React").createElement(b("SUIHorizontalLayout.react"),{theme:b("SUIBusinessTheme")},d,g),i,c);return b("React").createElement(s,{description:h._("Attach a screenshot or video to help us understand the problem."),node:f,subtitle:q,title:h._("Please add a screenshot, video, or file")})}function w(a){var c=a.loginAsPermission;a=a.onChange;if(!b("CurrentUser").isEmployee())return null;c=b("React").createElement(b("SUIRadioList.react"),{direction:"horizontal",theme:b("SUIBusinessTheme"),value:c,onChange:a},b("React").createElement(m,{value:!0},h._("Yes")),b("React").createElement(m,{value:!1},h._("No")));return b("React").createElement(s,{node:c,subtitle:h._("FB Employee Only"),title:h._("Can we log in to your account to investigate further?")})}function x(){return b("React").createElement("div",{className:"_63_3"},b("React").createElement(b("SUIText.react"),{display:"block",size:"meta1",textAlign:"center",theme:b("SUIBusinessTheme"),weight:"bold"},h._("Sending report")),b("React").createElement("div",null,b("React").createElement(b("FDSSpinner.react"),{shade:"dark"})))}function y(){return b("React").createElement("div",{className:"_3ae4"},b("React").createElement("div",{className:"_3ae5"},b("React").createElement(b("SUIText.react"),{size:"meta1",theme:b("SUIBusinessTheme"),weight:"bold"},h._("Thanks for providing feedback on your Facebook Ads Experience."))),b("React").createElement("div",{className:"_3ae6"},b("React").createElement(b("SUIText.react"),{size:"meta1",theme:b("SUIBusinessTheme")},h._("If you need immediate assistance, please visit our {support_page_link}",[h._param("support_page_link",b("React").createElement(b("SUILink.react"),{href:"/business/resources/",target:"_blank"},h._("Advertiser Support Page.")))]))),b("React").createElement("div",{className:"_3ae7"},b("React").createElement(b("SUIText.react"),{display:"block",size:"meta1",style:{marginBottom:12},theme:b("SUIBusinessTheme")},h._("While we are constantly working to improve your experience advertising on Facebook, we cannot guarantee that we will investigate or reply to every report. We may contact you for more details as we investigate.")),b("React").createElement(b("SUIText.react"),{display:"block",size:"meta1",theme:b("SUIBusinessTheme")},h._("This reporting tool does not constitute notice to Facebook or replace or modify any terms applicable to your purchase of advertising inventory from Facebook, which continue to apply to your ad campaigns."))))}function z(a){var c=a.additionalInfoValue,d=a.attachedFiles,e=a.category,f=a.product,g=a.loginAsPermission,h=a.screenshotDataURIs,i=a.step,j=a.subCategory,k=a.onCategorySelectorChange,m=a.onSubCategorySelectorChange,n=a.onAdditionalInfoTextFieldChange,o=a.onFileListChange,p=a.onLoginAsPermissionChange,q=a.onPreScreenshot,r=a.onPostScreenshot;a=a.onScreenshotListChange;switch(i){case l.FORM:return b("React").createElement("div",{className:"_2pi8"},b("React").createElement(t,{category:e,subCategory:j,onCategoryChange:k,onSubCategoryChange:m}),b("React").createElement(u,{value:c,onChange:n}),b("React").createElement(v,{attachedFiles:d,product:f,screenshotDataURIs:h,onFileListChange:o,onPostScreenshot:r,onPreScreenshot:q,onScreenshotListChange:a}),b("React").createElement(w,{loginAsPermission:g,onChange:p}));case l.SUBMISSION:return b("React").createElement(x,null);case l.CONFIRMATION:return b("React").createElement(y,null);case l.HIDDEN:return null}}function A(a){var c=a.disableSubmitReasonList,d=a.step,e=a.onHide;a=a.onSurveyComplete;switch(d){case l.FORM:return b("React").createElement(r,{disableSubmitReasonList:c,onSurveyComplete:a});case l.CONFIRMATION:return b("React").createElement(b("SUIModalFooter.react"),{primaryButton:b("React").createElement(b("SUIModalOkayButton.react"),{layerAction:"button",use:"confirm",onClick:e}),theme:b("SUIBusinessTheme")});case l.SUBMISSION:case l.HIDDEN:return null}}j=babelHelpers.inherits(a,b("React").Component);j&&j.prototype;a.prototype.render=function(){return b("React").createElement(b("SUIModal.react"),{behaviors:{LayerAbsorbWheel:b("LayerAbsorbWheel"),LayerHideOnEscape:b("LayerHideOnEscape"),LayerHideOnBlur:b("AdsLayerHideOnBlur"),SUIModalFillViewportHeight:b("SUIModalFillViewportHeight")},footer:b("React").createElement(A,{disableSubmitReasonList:this.props.disableSubmitReasonList,step:this.props.step,onHide:this.props.onHide,onSurveyComplete:this.props.onSurveyComplete}),header:b("React").createElement(b("SUIModalHeader.react"),{title:h._("Report a Problem")}),isShown:this.$1(),label:h._("Modal to report errors related to the Ads Preview Component"),theme:b("SUIBusinessTheme"),width:600,onHide:this.props.onHide},b("React").createElement(z,{additionalInfoValue:this.props.additionalInfoValue,attachedFiles:this.props.attachedFiles,category:this.props.category,loginAsPermission:this.props.loginAsPermission,product:this.props.product,screenshotDataURIs:this.props.screenshotDataURIs,step:this.props.step,subCategory:this.props.subCategory,onAdditionalInfoTextFieldChange:this.props.onAdditionalInfoTextFieldChange,onCategorySelectorChange:this.props.onCategorySelectorChange,onFileListChange:this.props.onFileListChange,onLoginAsPermissionChange:this.props.onLoginAsPermissionChange,onPostScreenshot:this.props.onPostScreenshot,onPreScreenshot:this.props.onPreScreenshot,onScreenshotListChange:this.props.onScreenshotListChange,onSubCategorySelectorChange:this.props.onSubCategorySelectorChange}))};a.prototype.$1=function(){switch(this.props.step){case l.FORM:case l.SUBMISSION:case l.CONFIRMATION:return!0;case l.HIDDEN:return!1;default:i(0)}};function a(){j.apply(this,arguments)}e.exports=a}),null);
__d("XAdsBugReportSubmitController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ads/ajax/bugs/submit/",{account_id:{type:"Int"},ad_object_identifier:{type:"String"},ad_objective:{type:"String"},attached_files:{type:"StringVector"},audience_id:{type:"String"},business_id:{type:"Int"},business_emails:{type:"StringVector"},category:{type:"String",required:!0},conversion_pixel_id:{type:"String"},description:{type:"String",defaultValue:""},page_id:{type:"Int"},permission_to_login_as:{type:"Bool",defaultValue:!1},post_id:{type:"Int"},post_url:{type:"String"},product:{type:"String"},session_id:{type:"String"},source:{type:"Enum",defaultValue:"unknown",enumType:1},sub_category:{type:"String"},url_tag_or_view_tag:{type:"String"},screenshot_data_uris:{type:"StringVector"}})}),null);
__d("AdsPreviewBugReportContainer.react",["cx","fbt","Promise","AdsAccountStore","AdsBugReportCategory","AdsBugReportConfig","AdsBugReportSource","AdsBugReportSubCategory","AdsBugReportUploader.react","AdsFluxContainer","AdsInterfacesLogEvents","AdsInterfacesLogger","AdsInterfacesLoggerConfigColumns","AdsInterfacesSessionConfig","AdsPreviewBugReportModal.react","AdsPreviewBugReportUtils","AsyncRequest","BugReportUtils","FBTraceIDsForFailedGraphAPIRequests","React","SUIBusinessTheme","SUILink.react","XAdsBugReportSubmitController","immutable","objectValues"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=b("AdsInterfacesLogEvents").Event,k=b("AdsPreviewBugReportUtils").PREVIEW_BUG_CATEGORY_KEYS,l=b("AdsPreviewBugReportUtils").SUBMIT_DISABLED_REASONS,m=b("AdsPreviewBugReportUtils").reportSummary,n=b("BugReportUtils").BUG_REPORT_FORM_STEP,o={attachedFiles:{},additionalInfo:"",category:null,loginAsPermission:!1,screenshotDataURIs:b("immutable").List(),subCategory:null},p=babelHelpers["extends"]({},o,{accountID:null,completed:!1,hasPendingUploads:!1,step:n.HIDDEN}),q=200;function r(a){a=a.onClick;return b("React").createElement(b("SUILink.react"),{className:"_1c70",theme:b("SUIBusinessTheme"),onClick:a},h._("Report a problem with this preview"))}c=babelHelpers.inherits(a,b("React").PureComponent);i=c&&c.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=i.constructor).call.apply(a,[this].concat(e)),this.state=babelHelpers["extends"]({},p),this.$4=function(a){this.setState({category:a,subCategory:null})}.bind(this),this.$11=function(a){this.setState({subCategory:a})}.bind(this),this.$3=function(a){this.setState({additionalInfo:a})}.bind(this),this.$5=function(a){var c=b("objectValues")(a).some(function(a){return a.status===b("AdsBugReportUploader.react").UPLOAD_STATUS.UPLOADING});this.setState({attachedFiles:a,hasPendingUploads:c})}.bind(this),this.$7=function(a){this.setState({loginAsPermission:a})}.bind(this),this.$12=function(){this.setState({step:n.SUBMISSION,completed:!0});var a=b("XAdsBugReportSubmitController").getURIBuilder(),c=[];Object.keys(this.state.attachedFiles).map(function(a){a=this.state.attachedFiles[a];a.status===b("AdsBugReportUploader.react").UPLOAD_STATUS.SUCCESS&&c.push(a.handle)}.bind(this));a.setInt("account_id",this.state.accountID).setString("category",b("AdsBugReportCategory").CREATING_AN_AD).setString("sub_category",b("AdsBugReportSubCategory").AD_PREVIEW).setEnum("source",b("AdsBugReportSource").IN_PRODUCT).setBool("permission_to_login_as",this.state.loginAsPermission);var d={attached_files:c,description:m({category:this.state.category||"",subCategory:this.state.subCategory||"",userDescription:this.state.additionalInfo,fbtraceID:this.props.fbtraceID||"",error:this.props.error||"",previewParams:this.props.previewParams}),error_fb_traces:b("FBTraceIDsForFailedGraphAPIRequests").errorFBTraces,screenshot_data_uris:this.state.screenshotDataURIs.toJSON(),session_id:b("AdsInterfacesSessionConfig").sessionID};new(b("AsyncRequest"))().setURI(a.getURI()).setData(d).setMethod("POST").setHandler(this.$13).setErrorHandler(this.$14).setFinallyHandler(function(){return this.setState(babelHelpers["extends"]({},o,{step:n.CONFIRMATION}))}.bind(this)).send()}.bind(this),this.$13=function(a){var c;b("AdsInterfacesLogger").log({eventName:j.ADGROUP_PREVIEW_BUG_REPORT_SUBMIT_SUCCESS,data:(c={},c[b("AdsInterfacesLoggerConfigColumns").AD_PREVIEW_FORMAT]=this.props.format,c[b("AdsInterfacesLoggerConfigColumns").BUG_ID]=a.payload.bug_id,c[b("AdsInterfacesLoggerConfigColumns").ERROR_TYPE]=[this.state.category,this.state.subCategory].join("-"),c[b("AdsInterfacesLoggerConfigColumns").FBTRACE_ID]=this.props.fbtraceID,c)})}.bind(this),this.$10=function(a){this.setState({screenshotDataURIs:a})}.bind(this),this.$9=function(){return new(b("Promise"))(function(a){this.setState({step:n.HIDDEN},function(){return setTimeout(a,q)})}.bind(this))}.bind(this),this.$8=function(){this.setState({step:n.FORM})}.bind(this),this.$1=function(){this.setState({step:n.FORM},function(){var a;b("AdsInterfacesLogger").log({eventName:j.ADGROUP_PREVIEW_BUG_REPORT_OPENED,data:(a={},a[b("AdsInterfacesLoggerConfigColumns").AD_PREVIEW_FORMAT]=this.props.format,a)})}.bind(this))}.bind(this),this.$6=function(){this.setState(babelHelpers["extends"]({},o,{step:n.HIDDEN}),function(){var a;return b("AdsInterfacesLogger").log({eventName:j.ADGROUP_PREVIEW_BUG_REPORT_CLOSED,data:(a={},a[b("AdsInterfacesLoggerConfigColumns").AD_PREVIEW_FORMAT]=this.props.format,a)})}.bind(this))}.bind(this),c}a.getStores=function(){return[b("AdsAccountStore")]};a.calculateState=function(a,c){c=b("AdsAccountStore").getSelectedAccountID();return babelHelpers["extends"]({},a,{accountID:c})};a.prototype.render=function(){return b("React").createElement(b("React").Fragment,null,this.state.completed?h._("Thank you for your report."):b("React").createElement(r,{onClick:this.$1}),b("React").createElement(b("AdsPreviewBugReportModal.react"),{additionalInfoValue:this.state.additionalInfo,attachedFiles:this.state.attachedFiles,category:this.state.category,disableSubmitReasonList:this.$2(),loginAsPermission:this.state.loginAsPermission,product:b("AdsBugReportConfig").products.ADS_CREATOR,screenshotDataURIs:this.state.screenshotDataURIs,step:this.state.step,subCategory:this.state.subCategory,onAdditionalInfoTextFieldChange:this.$3,onCategorySelectorChange:this.$4,onFileListChange:this.$5,onHide:this.$6,onLoginAsPermissionChange:this.$7,onPostScreenshot:this.$8,onPreScreenshot:this.$9,onScreenshotListChange:this.$10,onSubCategorySelectorChange:this.$11,onSurveyComplete:this.$12}))};a.prototype.$14=function(a){b("AdsInterfacesLogger").log({eventName:j.ADGROUP_PREVIEW_BUG_REPORT_SUBMIT_ERROR})};a.prototype.$2=function(){var a=[];(this.state.category===null||this.state.subCategory===null&&this.state.category!==k.OTHER)&&a.push(l.NO_CATEGORY_SELECTION);this.state.hasPendingUploads&&a.push(l.PENDING_UPLOADS);if(a.length>0){a=a.map(function(a){return b("React").createElement("li",{key:a},a)});return b("React").createElement("div",null,h._("You cannot submit the form for the following reasons:"),b("React").createElement("ul",{className:"_1mf8"},a))}return null};e.exports=b("AdsFluxContainer").create(a,{name:e.id+".exports"})}),null);
__d("AdsAdgroupPreview.react",["cx","fbt","AdPreviewIFrameResizeListener","AdFacebookStoryAdPreviewDisclaimer.react","AdPreviewBorderStyles","AdPreviewHotReloadSelector","AdPreviewLoadingOverlayTypes","AdsAdgroupPreviewActions","AdsAPIAdgroupPaths","AdsAPIAdgroupRecord","AdsAPIAdgroupRecordUtils","AdsAPIObjectives","AdsCCCategory","AdsCCNotificationWrapper.react","AdsFeedStoryShim.react","AdsInstagramStoryAdPreviewDisclaimer.react","AdsInterfaceCreativeLoggingEvents","AdsInterfacesLogEvents","AdsInterfacesLogger","AdsInterfacesLoggerConfigColumns","AdsLoadState_LEGACY","AdsPerfTiming","AdsPreviewApiFormats","AdsPreviewBugReportContainer.react","AdsPreviewUtils","AdsStockImageWatermarkNotice.react","AdsTestIDs","AdsUnifiedCreativeAPIFields","ApiAdObjectTypes","Arbiter","BUIProgressBar.react","CenteredContainer.react","ErrorMarker.react","React","ShutterstockImageUtils","SUIBusinessTheme","SUILink.react","UIPagelet","WaitTimeArea.react","WebApiApplication","areEqual","areSpecsEqual","getByPath","getObjectValues","gkx","guid","mergeDeep"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;b("AdPreviewIFrameResizeListener");var j=b("AdsInterfacesLogEvents").Event;c=b("React").PropTypes;var k=b("React").createElement("div",{className:"_1k43"},String.fromCodePoint(8226));function l(a){a=a.onRefreshClick;return b("React").createElement(b("React").Fragment,null,b("React").createElement(b("SUILink.react"),{theme:b("SUIBusinessTheme"),onClick:a},h._("Refresh preview")),k)}d=babelHelpers.inherits(a,b("React").Component);i=d&&d.prototype;function a(a){i.constructor.call(this,a),this.$1=!1,this.onRefreshClick=function(){var a;b("AdsInterfacesLogger").log({eventName:j.ADGROUP_PREVIEW_REFRESH_CLICK,data:(a={},a[b("AdsInterfacesLoggerConfigColumns").AD_PREVIEW_FORMAT]=this.props.format,a[b("AdsInterfacesLoggerConfigColumns").ADGROUP_SPEC]=this.props.adgroupSpec,a[b("AdsInterfacesLoggerConfigColumns").FBTRACE_ID]=this.state.fbtraceID,a)});this.$6(this.props)}.bind(this),this.state={error:null,loading:!1,pagelet:null,pageletElement:null,targetID:b("guid")(),loadingCount:0}}a.prototype.shouldComponentUpdate=function(a,c){return!b("areEqual")(this.props,a)||!b("areEqual")(this.state,c)};a.prototype.render=function(){__p&&__p();var a=null,c=null,d=null,e=this.props.parentContainerHeight;if(this.state.loading){e=e?e:"100%";this.props.loadingOverlay===b("AdPreviewLoadingOverlayTypes").PROGRESS_BAR?(d=b("React").createElement("div",{className:"_4aqb",style:{height:e}}),c=b("React").createElement(m,{isLoading:this.state.loading})):d=b("React").createElement("div",{className:"_1eg2",style:{height:e}},b("React").createElement(b("AdsFeedStoryShim.react"),null))}else this.state.error&&(a=b("React").createElement(b("ErrorMarker.react"),{name:"AdsAdgroupPreview"},b("React").createElement("div",{className:"_14-t"},b("React").createElement(b("AdsCCNotificationWrapper.react"),{ccCardProps:{category:b("AdsCCCategory").ERROR,messageID:"adgroup_preview_loading_error",textData:[{type:"PARAGRAPH",data:{text:this.state.error}}]},suiNoticeProps:{type:"error",messageBody:this.state.error}}))));e=this.props.decorator?b("React").createElement("div",{className:"_n3z",ref:"previewContainerOverlayPlaceHolder"}):null;var f=c||d||!this.props.showFooterSection?null:b("React").createElement("div",{className:"_1k44"},b("React").createElement(l,{onRefreshClick:this.onRefreshClick}),b("React").createElement(b("AdsPreviewBugReportContainer.react"),{error:this.state.error,fbtraceID:this.state.fbtraceID,format:this.props.format,previewParams:this.$2(this.props)})),g=this.props.imageURL&&b("ShutterstockImageUtils").isStockImageURL(this.props.imageURL)?b("React").createElement(b("AdsStockImageWatermarkNotice.react"),{className:"_3-94 _3-8x"}):null,h=this.props.format===b("AdsPreviewApiFormats").INSTAGRAM_STORY&&b("gkx")("AT5gTHWzPb9gKQAyeSlkH_YBoHd8u5vPOGrhfgo3Sf__Z2Bz7E14G3zlZRAdm-qX8Yr257cuNuewCZCRCM5yrbDh")?b("React").createElement(b("AdsInstagramStoryAdPreviewDisclaimer.react"),{adgroupSpec:this.props.adgroupSpec,className:"_3-94"+(g?" _3-8w":"")+(g?"":" _3-8x")}):null,i=this.props.format===b("AdsPreviewApiFormats").FACEBOOK_STORY_MOBILE?b("React").createElement(b("AdFacebookStoryAdPreviewDisclaimer.react"),{adgroupSpec:this.props.adgroupSpec,className:"_3-94"+(g?" _3-8w":"")+(g?"":" _3-8x")}):null;h=h||i;return b("React").createElement("div",null,b("React").createElement("div",{className:"_5zg"},c,d,b("React").createElement("div",{className:(this.props.borderStyle!==b("AdPreviewBorderStyles").NONE?"_2ph-":"")+" _228q","data-ad-preview":"previewContainer",id:this.state.targetID,key:this.state.targetID,ref:"previewContainer"}),g,h,b("React").createElement(b("CenteredContainer.react"),{className:(a?"":"hidden_elem")+(this.state.loading?" _5zm":""),vertical:!0},a),e),f)};a.prototype.UNSAFE_componentWillReceiveProps=function(a){if(b("AdPreviewHotReloadSelector")().didHotReload)return;var c=this.$3(this.props),d=this.$3(a);(!b("areSpecsEqual")(c,d)||!this.$4(c,d,a)||!this.$5(a)||this.props.lastForceUpdateTimeStamp!==a.lastForceUpdateTimeStamp)&&(a.placePageIDs&&a.placePageIDs.loadState===b("AdsLoadState_LEGACY").LOADING?(this.setState({loading:!0}),this.props.onStartedLoading&&this.props.onStartedLoading()):this.$6(a))};a.prototype.$4=function(a,c,d){var e,f=new(b("AdsAPIAdgroupRecord"))(this.props.adgroupSpec),g=new(b("AdsAPIAdgroupRecord"))(d.adgroupSpec);e=(e=f.creative)==null?void 0:e.object_type;if(e===b("ApiAdObjectTypes").INVALID)return!0;if(!b("AdsUnifiedCreativeAPIFields").childAttachments.isSupported(f,this.props.adgroupSpecPathPlugin)||!b("AdsUnifiedCreativeAPIFields").childAttachments.isSupported(g,d.adgroupSpecPathPlugin))return!0;e=b("AdsUnifiedCreativeAPIFields").childAttachments.getPathOrThrow(f,this.props.adgroupSpecPathPlugin);f=b("AdsUnifiedCreativeAPIFields").childAttachments.getPathOrThrow(g,d.adgroupSpecPathPlugin);return b("areEqual")(b("getByPath")(a,e),b("getByPath")(c,f))};a.prototype.$5=function(a){var c=b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.path;return b("areEqual")(b("getByPath")(this.props.adgroupSpec,c),b("getByPath")(a.adgroupSpec,c))};a.prototype.componentDidMount=function(){this.$1=!0,this.props.placePageIDs&&this.props.placePageIDs.loadState===b("AdsLoadState_LEGACY").LOADING?(this.setState({loading:!0}),this.props.onStartedLoading&&this.props.onStartedLoading()):this.$6(this.props),b("Arbiter").subscribe("AdPreview/IFrameLoadSuccess",function(){this.state.loading||b("AdsAdgroupPreviewActions").loadFinished(this.$7())}.bind(this))};a.prototype.componentDidUpdate=function(){this.$1&&!this.state.loading&&!this.state.pageletElement&&(this.props.onFinishedLoading&&this.props.onFinishedLoading())};a.prototype.componentWillUnmount=function(){this.$1=!1,this.$8()};a.prototype.$8=function(){this.state.pagelet&&this.state.pagelet.cancel()};a.prototype.$3=function(a){var c=a.accountID,d=a.adgroupSpec,e=a.assetLabel,f=a.borderStyle,g=a.dynamicCustomization,h=a.enableMsitePlayVideo,i=a.format,j=a.hideUfiInMobileNF,k=a.isShared,l=a.loadingOverlay,m=a.objective,n=a.pagePostDetails,o=a.placePageIDs,p=a.productItemIDs;a=a.isDCOPreviewWithFixedIndex;return{adaccountid:c,adid:d.id,appid:b("WebApiApplication").getClientID(),assetlabel:e,borderstyle:f,creative:d.creative,creativeID:d.creativeID,dynamiccustomization:g,enablemsiteplayvideo:!!h,format:i,hideufiinmobilefeed:j,isshared:!!k,loadingoverlay:l,pagePostDetails:n,placePageID:o&&o.loadState===b("AdsLoadState_LEGACY").LOADED&&o.list.length>0?o.list[0]:null,productitemids:p&&p.hasValue()?p.getValueEnforcing().toArray():null,videodata:{ad_objective:m},isDCOPreviewWithFixedIndex:a,canrenderwatchandbrowsepreview:m===b("AdsAPIObjectives").CONVERSIONS||m===b("AdsAPIObjectives").LINK_CLICKS||m===b("AdsAPIObjectives").WEBSITE_CONVERSIONS}};a.prototype.$2=function(a){__p&&__p();var c,d=this.$3(a),e=d.adid,f=d.creative,g=d.creativeID,h=d.isDCOPreviewWithFixedIndex;d=babelHelpers.objectWithoutProperties(d,["adid","creative","creativeID","isDCOPreviewWithFixedIndex"]);var i=a.enableComment,j=new(b("AdsAPIAdgroupRecord"))(a.adgroupSpec);c=(c=j.creative)==null?void 0:c.object_type;if(c!==b("ApiAdObjectTypes").INVALID){c=b("AdsUnifiedCreativeAPIFields").childAttachments.isSupported(j,a.adgroupSpecPathPlugin);c=c?b("AdsUnifiedCreativeAPIFields").childAttachments.getPathOrThrow(j,a.adgroupSpecPathPlugin):null;j=c?b("getByPath")(f,c.slice(1)):null;if(j&&c){j=j.some(function(a){return a.picture&&a.image_hash});if(j){j=b("mergeDeep")(f);b("getByPath")(j,c.slice(1)).forEach(function(a){a.picture&&a.image_hash&&delete a.picture});f=j}}}return a.shouldRenderPreviewByID?a.hasCreativeIDOverride?babelHelpers["extends"]({},d,{creativeid:g,enableComment:i}):babelHelpers["extends"]({},d,{adid:e,enableComment:i}):babelHelpers["extends"]({},d,{creative:f,isDCOPreviewWithFixedIndex:h,enableComment:i})};a.prototype.$6=function(a){__p&&__p();a=this.$2(a);this.$8();b("AdsAdgroupPreviewActions").loadStart(this.$7(1));this.setState(function(a){return{loadingCount:a.loadingCount+1}});var c=null;this.refs.previewContainer&&(c=b("UIPagelet").loadFromEndpoint("AdPreviewPageletController",this.refs.previewContainer,babelHelpers["extends"]({},a,{version:b("AdsPreviewUtils").getPageletAPIVersion()}),{append:!1,bundle:!1,crossPage:!0,displayCallback:function(a){this.$9(this.state.targetID,a)}.bind(this),errorHandler:function(){this.$10(this.state.targetID)}.bind(this),transportErrorHandler:function(){this.$10(this.state.targetID)}.bind(this),finallyHandler:function(a){return this.$11(a)}.bind(this)}));this.props.onStartedLoading&&this.props.onStartedLoading();this.setState({error:null,loading:!0,pagelet:c,pageletElement:this.refs.previewContainer||null})};a.prototype.$9=function(a,c){if(!this.$1||a!==this.state.targetID)return;b("AdsAdgroupPreviewActions").loadSuccess(this.$7());this.setState({error:null,loading:!1,pagelet:null},function(){try{c(),this.props.decorator&&this.props.decorator.decoratePagelet(this.refs.previewContainer,this.refs.previewContainerOverlayPlaceHolder,this.props.format),this.setState({pageletElement:null})}catch(a){this.setState({error:a.message}),b("AdsAdgroupPreviewActions").loadError(this.$7())}}.bind(this))};a.prototype.$10=function(a){if(!this.$1||a!==this.state.targetID)return;a=h._("Unable to generate preview");b("AdsAdgroupPreviewActions").loadError(this.$7());this.setState({error:a,loading:!1,pagelet:null,pageletElement:null});b("AdsInterfacesLogger").log({eventName:b("AdsInterfaceCreativeLoggingEvents").ADS_ADGROUP_PREVIEW_GENERATE_ERROR},b("AdsInterfacesLogger").LOG_TYPE_SECONDARY_APP)};a.prototype.$11=function(a){this.setState({fbtraceID:a&&a.getResponseHeader("X-FB-Trace-ID")})};a.prototype.$7=function(a){a===void 0&&(a=0);var c=new(b("AdsAPIAdgroupRecord"))(this.props.adgroupSpec);return{format:this.props.format,linkPostFormat:b("AdsAPIAdgroupRecordUtils").getLinkPostFormat(c,this.props.adgroupSpecPathPlugin),mediaFormat:b("AdsAPIAdgroupRecordUtils").getSingleMediaType(c),loadingCount:this.state.loadingCount+a,timeSinceLoad:Date.now()-b("AdsPerfTiming").start}};a.propTypes={accountID:c.string.isRequired,adgroupSpec:c.object.isRequired,adgroupSpecPathPlugin:c.object.isRequired,assetLabel:c.string,borderStyle:c.oneOf(b("getObjectValues")(b("AdPreviewBorderStyles"))),decorator:c.object,dynamicCustomization:c.object,enableComment:c.bool,enableMsitePlayVideo:c.bool,format:c.oneOf(b("getObjectValues")(b("AdsPreviewApiFormats"))).isRequired,hasCreativeIDOverride:c.bool,hideUfiInMobileNF:c.bool.isRequired,imageURL:c.string,isDCOPreviewWithFixedIndex:c.bool,lastForceUpdateTimeStamp:c.number,loadingOverlay:c.oneOf(b("getObjectValues")(b("AdPreviewLoadingOverlayTypes"))),objective:c.oneOf(Object.keys(b("AdsAPIObjectives"))).isRequired,pagePostDetails:c.object,parentContainerHeight:c.number,placePageIDs:c.object,productItemIDs:c.object,shouldRenderPreviewByID:c.bool.isRequired,showFooterSection:c.bool.isRequired,onFinishedLoading:c.func};a.defaultProps={borderStyle:b("AdPreviewBorderStyles").STANDARD,decorator:null,enableComment:!1,enableMsitePlayVideo:!0,hideUfiInMobileNF:!1,loadingOverlay:b("AdPreviewLoadingOverlayTypes").PROGRESS_BAR,showFooterSection:!0};function m(a){a=a.isLoading?"visible":"hidden";return b("React").createElement("div",{className:"_5f6f","data-testid":b("AdsTestIDs").ADS_PROGRESS_BAR,style:{visibility:a}},b("React").createElement(b("WaitTimeArea.react"),{name:"AdsAdgroupPreview",owner:"ads_advertiser_experience"},b("React").createElement(b("BUIProgressBar.react"),{flexibleWidth:!0,isBuffering:!0})))}e.exports=a}),null);
__d("AdsCanvasUnpublishedDocUpdatedDataActionPlugin",[],(function(a,b,c,d,e,f){"use strict";a={key:"canvasUnpublishedDocUpdated",actionType:"CANVAS.UNPUBLISHED_DOC_UPDATED"};e.exports=a}),null);
__d("AdsVideoCaptionUpdatePreviewDataActionPlugin",[],(function(a,b,c,d,e,f){"use strict";a={key:"videoCaptionUpdatePreview",actionType:"UPDATE_PREVIEW"};e.exports=a}),null);
__d("AdsAdgroupPreviewUpdateTimestampStore",["AdsCanvasUnpublishedDocUpdatedDataActionPlugin","AdsDataAtom","AdsMutatePostCTASuccessDataActionPlugin","AdsVideoAdsVideoCaptionEditSuccessDataActionPlugin","AdsVideoCaptionUpdatePreviewDataActionPlugin","FluxReduceStore","gkx","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h;c=b("immutable").Record({lastForceUpdateTimeStamp:0});g=babelHelpers.inherits(i,c);g&&g.prototype;function i(){g.apply(this,arguments)}h=babelHelpers.inherits(a,b("FluxReduceStore"));h&&h.prototype;a.prototype.getInitialState=function(){return new i()};a.prototype.reduce=function(a,c){c=c.action;switch(c.type){case b("AdsVideoAdsVideoCaptionEditSuccessDataActionPlugin").actionType:case b("AdsVideoCaptionUpdatePreviewDataActionPlugin").actionType:return!b("gkx")("AT52YHxxUqLI6JZ8cqwDUbXXcmkg8BlokdyP9kVToMY0eAoc9bovgb1lypxDz-hqBQayJemfo-csge-bOFjcVo3F")?a:a.set("lastForceUpdateTimeStamp",c.timestamp);case"CrStActionTypes.PAGE_EDIT_SUCCESS":case b("AdsCanvasUnpublishedDocUpdatedDataActionPlugin").actionType:case b("AdsMutatePostCTASuccessDataActionPlugin").actionType:return a.set("lastForceUpdateTimeStamp",c.timestamp)}return a};function a(){h.apply(this,arguments)}a.__moduleID=e.id;e.exports=new a(b("AdsDataAtom"))}),null);
__d("AdsAdgroupPreviewsLoggingConstants",[],(function(a,b,c,d,e,f){"use strict";a={COMPONENT_CLAMP:"preview-component-clamp",PAGINATION:"pagination",SELECTOR:"selector"};e.exports=a}),null);
__d("AdsAdgroupPreviewsV2Header.react",["cx","fbt","invariant","AdsAdgroupPreviewsLoggingConstants","AdsAdgroupPreviewsV2NavigationSection.react","AdsAdgroupPreviewsV2Selector.react","React","SUIBusinessThemeContainer.react"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j;c=babelHelpers.inherits(a,b("React").PureComponent);j=c&&c.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=j.constructor).call.apply(a,[this].concat(e)),this.$3=function(event){this.$4(1)}.bind(this),this.$2=function(event){this.$4(-1)}.bind(this),this.$1=function(a){this.props.onChange&&this.props.onChange(a,b("AdsAdgroupPreviewsLoggingConstants").SELECTOR)}.bind(this),c}a.prototype.render=function(){var a=this.props,c=a.index,d=a.maxIndex;a=a.minIndex;d>=a||i(0);return b("React").createElement(b("SUIBusinessThemeContainer.react"),null,b("React").createElement("div",{className:"_5q46"},b("React").createElement(b("AdsAdgroupPreviewsV2Selector.react"),{defaultAdFormat:this.props.previewPlugins.toIndexedSeq().get(c).apiFormat,previewPlugins:this.props.previewPlugins,onPreviewItemSelected:this.$1}),b("React").createElement(b("AdsAdgroupPreviewsV2NavigationSection.react"),{className:"_5q47",handleDecrementClick:this.$2,handleIncrementClick:this.$3,index:c,maxIndex:d,minIndex:a,nextLabel:h._("Next Ad Format"),previousLabel:h._("Previous Ad Format")})))};a.prototype.$4=function(a){var c=this.props.maxIndex-this.props.minIndex+1,d=this.props.index;d=(d+a)%c;this.props.onChange&&this.props.onChange(d,b("AdsAdgroupPreviewsLoggingConstants").PAGINATION)};a.defaultProps={index:0};e.exports=a}),null);
__d("AdsImageInfoStoreUtils",["AdsAdgroupSpecUtils","AdsAPIAdgroupPaths","AdsAPIAdgroupRecord","AdsImageIDUtils","AdsImageInfoStore","AdsUnifiedCreativeAPIFields","ApiObjectStorySpecLinkFields","getByPath","mergeDeep","nullthrows","setByPath"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a.prototype.generateFullSizeURLAdgroup=function(a,c){a=b("mergeDeep")({},a);return b("AdsAdgroupSpecUtils").isStaticCarouselAd(a)?this.$1(a,c):this.$2(a)};a.prototype.getFullSizeAdsSimpleImageFromHash=function(a,c){c=b("AdsImageIDUtils").getImageID({accountID:c,hash:a});return c?b("AdsImageInfoStore").getFullSize(c).getValue():null};a.prototype.$2=function(a){this.$3(a,[b("AdsAPIAdgroupPaths").CREATIVE.IMAGE_URL,b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.PICTURE,b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.TEMPLATE_DATA.PICTURE]);return a};a.prototype.$1=function(a,c){c=b("nullthrows")(b("getByPath")(a,b("AdsUnifiedCreativeAPIFields").childAttachments.getPathOrThrow(new(b("AdsAPIAdgroupRecord"))(a),c)));c.forEach(function(a){return this.$3(a,[[b("ApiObjectStorySpecLinkFields").PICTURE]])}.bind(this));return a};a.prototype.$3=function(a,c){c.some(function(c){var d=b("getByPath")(a,c);d=b("AdsImageIDUtils").getImageID({url:d});if(!d)return!1;d=b("AdsImageInfoStore").getFullSizeURL(d);d=d.hasValue()?d.getValueEnforcing():null;b("setByPath")(a,c,d);return!0})};function a(){}e.exports=new a()}),null);
__d("AdsSphericalPhotoErrorUtils",["errorCode","AdsImageInfoStoreUtils"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("AdsImageInfoStoreUtils").getFullSizeAdsSimpleImageFromHash,i={isSphericalPhotoSpecificError:function(a){return a.key===2240001||a.key===2240002},isAnySphericalPhotoAd:function(a,b){return i.isSphericalPhotoPostAd(a,b)||i.isSphericalPhotoLinkAd(a,b)},isSphericalPhotoPostAd:function(a,b){a=a==null?void 0:(a=a.creative)==null?void 0:(a=a.object_story_spec)==null?void 0:(a=a.photo_data)==null?void 0:a.image_hash;a=a?h(a,b):null;return!a?!1:a.isSphericalPhoto},isSphericalPhotoLinkAd:function(a,b){a=a==null?void 0:(a=a.creative)==null?void 0:(a=a.object_story_spec)==null?void 0:(a=a.link_data)==null?void 0:a.image_hash;a=a?h(a,b):null;return!a?!1:a.isSphericalPhoto}};e.exports=i}),null);
__d("AdsAdPreviewUtils",["errorCode","errorDesc","fbt","AdPreview.react","AdsAccountCapabilities","AdsAccountUtils","AdsAdgroupSpecUtils","AdsAPIAdAssetFeedFields","AdsAPIAdAssetFeedLinkURLsFields","AdsAPIAdgroupPaths","AdsAPIObjectives","AdsAssetFeedFieldUtils","AdsAssetFeedUtils","AdsCanvasAdUtils","AdsCollectionsAdUtils","AdsError","AdsLocalAwarenessUtils","AdsObjectStorySpecUtils","AdsPageLikeUtils","AdsPreviewApiFormats","AdsSphericalPhotoErrorUtils","AdsWebsiteAdUtils","getByPath"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j={getErrorsForAdgroup:function(a,c,d,e,f,g){__p&&__p();var k=[];switch(e){case b("AdsPreviewApiFormats").DESKTOP_FEED_STANDARD:j._adgroupSupportsDesktopFeed(c,d,f,g)||k.push(b("AdsError").createError("desktopnewsfeed-preview-unavailable",i._("This ad format is not currently supported on desktop news feed"),b("AdPreview.react").PREVIEW_MESSAGE_FIELD_NAME));break;case b("AdsPreviewApiFormats").MOBILE_FEED_BASIC:j._adgroupSupportsMbasic(c,d,g)||k.push(b("AdsError").createError("featurephone-preview-unavailable",i._("This ad format is not currently supported on feature phones"),b("AdPreview.react").PREVIEW_MESSAGE_FIELD_NAME));break;case b("AdsPreviewApiFormats").MOBILE_BANNER:case b("AdsPreviewApiFormats").MOBILE_INTERSTITIAL:case b("AdsPreviewApiFormats").MOBILE_MEDIUM_RECTANGLE:case b("AdsPreviewApiFormats").MOBILE_NATIVE:case b("AdsPreviewApiFormats").AUDIENCE_NETWORK_MEDIUM_RECTANGLE_DESKTOP:j._adgroupSupportsPartnerNetwork(e,c,d,g)||k.push(b("AdsError").createNotice("adnetwork-preview-unavailable",i._("This ad format is not currently supported on the Audience Network"),b("AdPreview.react").PREVIEW_MESSAGE_FIELD_NAME));break;case b("AdsPreviewApiFormats").RIGHT_COLUMN_STANDARD:j.adgroupSupportsRightColumn(c,d,g)||k.push(b("AdsError").createError("rightcolumn-preview-unavailable",i._("This ad format is not currently supported on the right column"),b("AdPreview.react").PREVIEW_MESSAGE_FIELD_NAME));break;case b("AdsPreviewApiFormats").INSTAGRAM_STANDARD:case b("AdsPreviewApiFormats").INSTAGRAM_STORY:j.adgroupSupportsInstagram(c,g)||k.push(b("AdsError").createError("instagram-preview-unavailable",i._("This ad format is not currently supported on Instagram"),b("AdPreview.react").PREVIEW_MESSAGE_FIELD_NAME));break;case b("AdsPreviewApiFormats").MESSENGER_MOBILE_INBOX_MEDIA:j._adgroupSupportsMessengerInbox(c,g)||k.push(b("AdsError").createError(2016030,h._(function(a,b){return a._("This ad format is not currently supported on Messenger Inbox.")},{}),b("AdPreview.react").PREVIEW_MESSAGE_FIELD_NAME));break;case b("AdsPreviewApiFormats").INSTREAM_VIDEO_MOBILE:case b("AdsPreviewApiFormats").INSTREAM_VIDEO_DESKTOP:if(b("AdsAdgroupSpecUtils").isVideoAd(c)&&d===b("AdsAPIObjectives").CONVERSIONS&&b("AdsAccountUtils").hasCapabilityFromList(a,b("AdsAccountCapabilities").ALLOW_INSTREAM_ONLY_FOR_NON_INTERRUPTIVE_PREVIEW)){k.push(b("AdsError").createError(2016033,h._(function(a,b){return a._("This ad format is not supported on In-Stream Videos currently")},{}),b("AdPreview.react").PREVIEW_MESSAGE_FIELD_NAME));break}if(e===b("AdsPreviewApiFormats").INSTREAM_VIDEO_MOBILE&&d===b("AdsAPIObjectives").CONVERSIONS&&b("AdsAccountUtils").hasCapabilityFromList(a,b("AdsAccountCapabilities").ALLOW_INSTREAM_ONLY_FOR_NON_INTERRUPTIVE_PREVIEW))break;if(!j._adgroupSupportsInstreamVideo(c)){k.push(b("AdsError").createError(2016033,h._(function(a,b){return a._("This ad format is not supported on In-Stream Videos currently")},{}),b("AdPreview.react").PREVIEW_MESSAGE_FIELD_NAME));break}f=j._getErrorForConversions(c,d);f&&k.push(f);break;case b("AdsPreviewApiFormats").AUDIENCE_NETWORK_INSTREAM_VIDEO:j._adgroupSupportsInstreamVideo(c)||k.push(b("AdsError").createError(2016049,h._(function(a,b){return a._("This ad format is not supported on In-Stream Videos currently")},{}),b("AdPreview.react").PREVIEW_MESSAGE_FIELD_NAME));break;case b("AdsPreviewApiFormats").AUDIENCE_NETWORK_REWARDED_VIDEO:j._adgroupSupportsRewardedVideo(c)||k.push(b("AdsError").createError(2016054,h._(function(a,b){return a._("This ad format is not currently supported on Rewarded Video")},{}),b("AdPreview.react").PREVIEW_MESSAGE_FIELD_NAME));break;case b("AdsPreviewApiFormats").INSTANT_ARTICLE_STANDARD:j._adgroupSupportsInstantArticle(c,d,g)||k.push(b("AdsError").createError(2016034,h._(function(a,b){return a._("This ad format is not supported on Instant Article currently")},{}),b("AdPreview.react").PREVIEW_MESSAGE_FIELD_NAME));break;case b("AdsPreviewApiFormats").SUGGESTED_VIDEO_MOBILE:case b("AdsPreviewApiFormats").SUGGESTED_VIDEO_DESKTOP:j._adgroupSupportsSuggestedVideo(c)||k.push(b("AdsError").createError(2016048,h._(function(a,b){return a._("This ad format is not currently supported on Suggested Videos")},{}),b("AdPreview.react").PREVIEW_MESSAGE_FIELD_NAME));break;case b("AdsPreviewApiFormats").FACEBOOK_STORY_MOBILE:j._adgroupSupportsFBStories(c,g)||k.push(b("AdsError").createError(2016070,h._(function(a,b){return a._("This ad format is not supported on Facebook Stories currently")},{}),b("AdPreview.react").PREVIEW_MESSAGE_FIELD_NAME));break}return k},_adgroupSupportsDesktopFeed:function(a,c,d,e){return!b("AdsLocalAwarenessUtils").isLocalAwarenessAndHasCallNowCallToAction(a,c,d)&&!b("AdsCanvasAdUtils").isCanvasAd(a.creative)&&!b("AdsCollectionsAdUtils").isCollectionsAd(a.creative)&&!b("AdsSphericalPhotoErrorUtils").isSphericalPhotoLinkAd(a,e)},_adgroupSupportsMbasic:function(a,c,d){return!b("AdsCanvasAdUtils").isCanvasAd(a.creative)&&!b("AdsCollectionsAdUtils").isCollectionsAd(a.creative)&&!b("AdsLocalAwarenessUtils").isLocalAwarenessVideo(a,c)&&!b("AdsWebsiteAdUtils").isMultiProductAdgroup(a)&&!b("AdsPageLikeUtils").isPageLikeVideo(a,c)&&!b("AdsWebsiteAdUtils").isWebsiteVideoAdgroup(a,c)&&!b("AdsSphericalPhotoErrorUtils").isAnySphericalPhotoAd(a,d)&&!b("AdsAdgroupSpecUtils").isVideoAd(a)},_adgroupSupportsPartnerNetwork:function(a,c,d,e){return d===b("AdsAPIObjectives").BRAND_AWARENESS&&!b("AdsAdgroupSpecUtils").isVideoAd(c)?!1:!b("AdsCanvasAdUtils").isCanvasAd(c.creative)&&!b("AdsCollectionsAdUtils").isCollectionsAd(c.creative)&&(a===b("AdsPreviewApiFormats").MOBILE_BANNER?!b("AdsAdgroupSpecUtils").isVideoAd(c)&&!b("AdsAdgroupSpecUtils").isStaticCarouselAd(c):!(b("AdsWebsiteAdUtils").getMultiVideoProductCount(c.creative)>0))&&!b("AdsSphericalPhotoErrorUtils").isAnySphericalPhotoAd(c,e)},adgroupSupportsRightColumn:function(a,c,d){d=d&&b("AdsSphericalPhotoErrorUtils").isAnySphericalPhotoAd(a,d);return!b("AdsPageLikeUtils").isPageLikeVideo(a,c)&&!b("AdsCanvasAdUtils").isCanvasAd(a.creative)&&!b("AdsCollectionsAdUtils").isCollectionsAd(a.creative)&&!d&&!b("AdsAdgroupSpecUtils").isVideoAd(a)},adgroupSupportsInstagram:function(a,c){a=c&&b("AdsSphericalPhotoErrorUtils").isAnySphericalPhotoAd(a,c);return!a},_adgroupSupportsMessengerInbox:function(a,c){return!b("AdsCanvasAdUtils").isCanvasAd(a.creative)&&!b("AdsSphericalPhotoErrorUtils").isAnySphericalPhotoAd(a,c)},_adgroupSupportsInstreamVideo:function(a){return b("AdsAdgroupSpecUtils").isVideoAd(a)&&!b("AdsCanvasAdUtils").isCanvasAd(a.creative)},_getErrorForConversions:function(a,c){__p&&__p();if(c===b("AdsAPIObjectives").CONVERSIONS)if(b("AdsObjectStorySpecUtils").isUsingObjectStorySpec(a)){c=b("getByPath")(a,b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.VIDEO_DATA.CALL_TO_ACTION.VALUE.LINK);!c&&b("AdsAssetFeedUtils").isSpecUsingAssetFeed(a)&&(c=b("getByPath")(a,b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.LINK_URLS.concat(b("AdsAssetFeedFieldUtils").getDefaultAssetIndex(a,b("AdsAPIAdAssetFeedFields").LINK_URLS),b("AdsAPIAdAssetFeedLinkURLsFields").WEBSITE_URL)));if(c==null||c=="")return b("AdsError").createError(2016056,h._(function(a,b){return a._("To use the in-stream videos placement, please provide your website URL.")},{}),b("AdPreview.react").PREVIEW_MESSAGE_FIELD_NAME)}else return b("AdsError").createError(2016057,h._(function(a,b){return a._("This ad won't deliver to in-stream videos because it's missing a website URL or a call to action. This objective needs both to deliver to the in-stream videos placement.")},{}),b("AdPreview.react").PREVIEW_MESSAGE_FIELD_NAME);return null},_adgroupSupportsRewardedVideo:function(a){return b("AdsAdgroupSpecUtils").isVideoAd(a)&&!b("AdsCanvasAdUtils").isCanvasAd(a.creative)},_adgroupSupportsInstantArticle:function(a,c,d){return!b("AdsCanvasAdUtils").isCanvasAd(a.creative)&&!b("AdsCollectionsAdUtils").isCollectionsAd(a.creative)&&!b("AdsSphericalPhotoErrorUtils").isAnySphericalPhotoAd(a,d)},_adgroupSupportsSuggestedVideo:function(a){return b("AdsAdgroupSpecUtils").isVideoAd(a)&&!b("AdsCanvasAdUtils").isCanvasAd(a.creative)},_adgroupSupportsFBStories:function(a,c){return!b("AdsCanvasAdUtils").isCanvasAd(a.creative)&&!b("AdsCollectionsAdUtils").isCollectionsAd(a.creative)&&!b("AdsAdgroupSpecUtils").isStaticCarouselAd(a)&&!b("AdsSphericalPhotoErrorUtils").isAnySphericalPhotoAd(a,c)}};e.exports=j}),null);
__d("AdsPreviewApiFormatLabels",["fbt","AdsPreviewApiFormats"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a={};a[b("AdsPreviewApiFormats").RIGHT_COLUMN_STANDARD]=g._("Desktop Right Column");a[b("AdsPreviewApiFormats").DESKTOP_FEED_STANDARD]=g._("Desktop News Feed");a[b("AdsPreviewApiFormats").MESSENGER_MOBILE_THREAD_MEDIA]=g._("Messenger");a[b("AdsPreviewApiFormats").MESSENGER_DESKTOP_THREAD_MEDIA]=g._("Messenger");a[b("AdsPreviewApiFormats").MOBILE_FEED_STANDARD]=g._("Mobile News Feed");a[b("AdsPreviewApiFormats").MOBILE_FEED_BASIC]=g._("Feature Phone");a[b("AdsPreviewApiFormats").MOBILE_INTERSTITIAL]=g._("Audience Network Interstitial");a[b("AdsPreviewApiFormats").MOBILE_BANNER]=g._("Audience Network Banner");a[b("AdsPreviewApiFormats").MOBILE_MEDIUM_RECTANGLE]=g._("Audience Network Medium Rectangle");a[b("AdsPreviewApiFormats").MOBILE_NATIVE]=g._("Audience Network Native");a[b("AdsPreviewApiFormats").INSTAGRAM_STANDARD]=g._("Instagram");a[b("AdsPreviewApiFormats").AUDIENCE_NETWORK_INSTREAM_VIDEO]=g._("Audience Network In-Stream Video");a[b("AdsPreviewApiFormats").AUDIENCE_NETWORK_INSTREAM_VIDEO_TV]=g._("Connected TV");a[b("AdsPreviewApiFormats").INSTREAM_VIDEO_DESKTOP]=g._("Facebook In-Stream Video (Desktop)");a[b("AdsPreviewApiFormats").INSTREAM_VIDEO_MOBILE]=g._("Facebook In-Stream Video (Mobile)");a[b("AdsPreviewApiFormats").INSTANT_ARTICLE_STANDARD]=g._("Instant Articles");a[b("AdsPreviewApiFormats").GROUPS_DESKTOP]=g._("Facebook Groups (Desktop)");a[b("AdsPreviewApiFormats").GROUPS_MOBILE]=g._("Facebook Groups (Mobile)");a[b("AdsPreviewApiFormats").SUGGESTED_VIDEO_DESKTOP]=g._("Suggested Videos (Desktop)");a[b("AdsPreviewApiFormats").SUGGESTED_VIDEO_MOBILE]=g._("Suggested Videos (Mobile)");e.exports=a}),null);
__d("AdsAdgroupPreviewsV2UnsupportedFeatureNotice.react",["cx","fbt","AdsCCCategory","AdsIntelligentNotificationContainer.react","AdsOverlaysUtils","AdsPreviewApiFormatLabels","React"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;i=babelHelpers.inherits(a,b("React").PureComponent);i&&i.prototype;a.prototype.render=function(){var a=this.props.previewPlugin.isCustomOverlaysSupported&&this.props.previewPlugin.isCustomOverlaysSupported(),c=null;if(b("AdsOverlaysUtils").hasCustomOverlaysFromSpec(this.props.adgroupSpec)&&!a){a=h._("this placement");this.props.format&&b("AdsPreviewApiFormatLabels")[this.props.format]&&(a=b("AdsPreviewApiFormatLabels")[this.props.format]);c=b("React").createElement("div",{className:"_101l"},b("React").createElement(b("AdsIntelligentNotificationContainer.react"),{ccCardProps:{category:b("AdsCCCategory").ACTIVE_FEEDBACK,messageID:"placement_that_does_not_support_showing_custom_overlays",textData:[{type:"PARAGRAPH",data:{text:h._("Overlays aren't supported on this placement yet, so people on {Placement Label} will see your ad without the overlay.",[h._param("Placement Label",a)])}}]}}))}return b("React").createElement("div",null,c)};function a(){i.apply(this,arguments)}e.exports=a}),null);
__d("AdsAdgroupPreviewActorValidator",["errorCode","errorDesc","AdsAbstractValidator","AdsAdgroupUtils","AdsAPIAdgroupPaths","AdsAPICampaignGroupPaths","AdsAPIObjectives","AdsError","AdsMediaFormat","AdsPageUtils","expandPaths","getByPath"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;i=babelHelpers.inherits(a,b("AdsAbstractValidator"));i&&i.prototype;a.prototype.getDependencies=function(){return{adgroup:b("expandPaths")([b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.PAGE_ID,b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_ID,b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_ID]),campaignGroup:b("expandPaths")([b("AdsAPICampaignGroupPaths").OBJECTIVE])}};a.prototype.shouldValidate=function(a){a.adgroupData;return!0};a.prototype.validate=function(a){__p&&__p();var c=a.adgroup;a=a.campaignGroup;a=b("getByPath")(a,b("AdsAPICampaignGroupPaths").OBJECTIVE);var d=new(b("AdsError"))(2016023,h._(function(a,b){return a._("Create a Facebook Page to show this type of ad")},{}),{level:b("AdsError").Level.WARN});switch(a){case b("AdsAPIObjectives").LINK_CLICKS:case b("AdsAPIObjectives").CONVERSIONS:if(b("AdsAdgroupUtils").hasObjectStorySpec(c)&&!b("AdsPageUtils").getPageID(c)&&b("AdsAdgroupUtils").getMediaContentType(c.creative)===b("AdsMediaFormat").IMAGE)return[d];break;case b("AdsAPIObjectives").POST_ENGAGEMENT:return[];default:if(!b("AdsPageUtils").getPageID(c))return[d]}return[]};function a(){i.apply(this,arguments)}c=new a();e.exports=c}),null);
__d("AdsAdgroupPreviewAssetFeedLinkValidator",["errorCode","errorDesc","AdsAbstractValidator","AdsAPIAdAssetFeedFields","AdsAPIAdgroupPaths","AdsAPICampaignGroupPaths","AdsAPIObjectives","AdsAssetFeedFieldUtils","AdsAssetFeedUtils","AdsError","ApiDynamicCreativeOptimizationAdFormat","ApiDynamicCreativeOptimizationTypes","expandPaths","getByPath"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;i=babelHelpers.inherits(a,b("AdsAbstractValidator"));i&&i.prototype;a.prototype.getDependencies=function(){return{adgroup:b("expandPaths")([b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.AD_FORMATS,b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.GROUPS,b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.LINK_URLS,b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.OPTIMIZATION_TYPE]),campaignGroup:b("expandPaths")([b("AdsAPICampaignGroupPaths").OBJECTIVE])}};a.prototype.shouldValidate=function(a){var c=a.adgroup;a=a.campaignGroup;return b("AdsAssetFeedUtils").isAdgroupUsingAssetFeedFromSpec(c)&&!this.isWeblinkOptional(c,a)};a.prototype.isWeblinkOptional=function(a,c){if(!b("AdsAssetFeedUtils").isRegularDCOAdgroupFromSpec(a))return!1;a=b("getByPath")(c,b("AdsAPICampaignGroupPaths").OBJECTIVE);switch(a){case b("AdsAPIObjectives").VIDEO_VIEWS:case b("AdsAPIObjectives").REACH:case b("AdsAPIObjectives").BRAND_AWARENESS:return!0;default:return!1}};a.prototype.validate=function(a){__p&&__p();a=a.adgroup;var c=b("AdsAPIAdAssetFeedFields").LINK_URLS,d=b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.LINK_URLS;c=b("AdsAssetFeedFieldUtils").getDefaultAssetIndex(a,c);d=!!b("getByPath")(a,d.concat(c));c=b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.OPTIMIZATION_TYPE;c=b("getByPath")(a,c);var e=b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.AD_FORMATS;a=b("getByPath")(a,e.concat(0));if(!d&&!(c===b("ApiDynamicCreativeOptimizationTypes").ASSET_CUSTOMIZATION&&a===b("ApiDynamicCreativeOptimizationAdFormat").SINGLE_VIDEO)){e=new(b("AdsError"))(2016066,h._(function(a,b){return a._("Please select destination link for your ad")},{}),{level:b("AdsError").Level.WARN});return[e]}return[]};function a(){i.apply(this,arguments)}e.exports=new a()}),null);
__d("AdsAdgroupPreviewAssetFeedMediaValidator",["errorCode","errorDesc","AdsAbstractValidator","AdsAPIAdAssetFeedFields","AdsAPIAdgroupPaths","AdsAssetFeedFieldUtils","AdsAssetFeedUtils","AdsError","expandPaths","getByPath"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;i=babelHelpers.inherits(a,b("AdsAbstractValidator"));i&&i.prototype;a.prototype.getDependencies=function(){return{adgroup:b("expandPaths")([b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.AD_FORMATS,b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.IMAGES,b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.GROUPS,b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.OPTIMIZATION_TYPE,b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.VIDEOS])}};a.prototype.shouldValidate=function(a){a=a.adgroup;return b("AdsAssetFeedUtils").isAdgroupUsingAssetFeedFromSpec(a)};a.prototype.validate=function(a){__p&&__p();a=a.adgroup;var c=null,d=null;b("AdsAssetFeedUtils").hasSingleImageFormat(a)?(c=b("AdsAPIAdAssetFeedFields").IMAGES,d=b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.IMAGES):b("AdsAssetFeedUtils").hasSingleVideoFormat(a)?(c=b("AdsAPIAdAssetFeedFields").VIDEOS,d=b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.VIDEOS):b("AdsAssetFeedUtils").isAssetFeedAdWithCarouselImageFormat(a)&&(c=b("AdsAPIAdAssetFeedFields").IMAGES,d=b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.IMAGES);var e=!1;if(!!c&&!!d){c=b("AdsAssetFeedFieldUtils").getDefaultAssetIndex(a,c);e=!!b("getByPath")(a,d.concat(c))}if(!e){a=new(b("AdsError"))(2016024,h._(function(a,b){return a._("Please select media for your ad")},{}),{level:b("AdsError").Level.WARN});return[a]}return[]};function a(){i.apply(this,arguments)}e.exports=new a()}),null);
__d("AdsAdgroupPreviewMediaValidator",["errorCode","errorDesc","AdsAbstractValidator","AdsAdgroupUtils","AdsAPIAdgroupFields","AdsAPIAdgroupPaths","AdsAPIAdgroupRecord","AdsAPIAdgroupRecordUtils","AdsApplicationUtils","AdsAssetFeedUtils","AdsCanvasAdUtils","AdsDynamicPreviewItemTypes","AdsEditorMPAConstants","AdsError","AdsSponsoredMessageUtils","AdsWhatsAppUtils","ApiObjectStorySpecLinkChildFields","expandPaths","getByPath"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=b("AdsAPIAdgroupFields").CREATIVE;i=babelHelpers.inherits(a,b("AdsAbstractValidator"));i&&i.prototype;a.prototype.getDependencies=function(){return{adgroup:b("expandPaths")([b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_ID,b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.path,b("AdsAPIAdgroupPaths").CREATIVE.IMAGE_HASH,b("AdsAPIAdgroupPaths").CREATIVE.IMAGE_URL,b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_ID,b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.path,b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_TYPE]),dynamicPreviewItemType:undefined}};a.prototype.shouldValidate=function(a){var c=a.dynamicPreviewItemType;a=a.adgroup;return c&&c!==b("AdsDynamicPreviewItemTypes").NONE&&c!==b("AdsDynamicPreviewItemTypes").LOCATION||b("AdsAssetFeedUtils").isAdgroupUsingAssetFeedFromSpec(a)||b("AdsSponsoredMessageUtils").isSponsoredMessageFromSpec(a)?!1:!0};a.prototype.validate=function(a){__p&&__p();var c=a.adgroup;a=a.adgroupRecord;a=a||new(b("AdsAPIAdgroupRecord"))(c);if(b("AdsAPIAdgroupRecordUtils").isExistingPostAd(a))return[];if(k(c,a)){c=new(b("AdsError"))(2016024,h._(function(a,b){return a._("Please select media for your ad")},{}),{level:b("AdsError").Level.WARN});return[c]}return[]};function a(){i.apply(this,arguments)}var k=function(a,c){var d=a[j],e=!(n(a)&&!b("AdsWhatsAppUtils").isWhatsAppDestinationAd(c))&&!l(a)&&!b("AdsApplicationUtils").isCreativeStudio()&&!b("AdsCanvasAdUtils").isCanvasAd(d);if((e||b("AdsAPIAdgroupRecordUtils").isVideoAd(c))&&!b("AdsAdgroupUtils").getMediaContentType(d))return!0;e=b("getByPath")(a,b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.CHILD_ATTACHMENTS)||b("getByPath")(a,b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.TEMPLATE_DATA.CHILD_ATTACHMENTS);return e!=null&&e.some(m)},l=function(a){var c=b("getByPath")(a,b("AdsAPIAdgroupPaths").CREATIVE.PRODUCT_SET_ID);c=c!=null&&c!="";a=b("getByPath")(a,b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.TEMPLATE_DATA.path);return c&&a!=null},m=function(a){return a[b("ApiObjectStorySpecLinkChildFields").VIDEO_ID]===b("AdsEditorMPAConstants").MPA_PLACEHOLDER_VIDEO_ID},n=function(a){return!!b("getByPath")(a,b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.LINK)||!!b("getByPath")(a,b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.TEMPLATE_DATA.LINK)};c=new a();e.exports=c}),null);
__d("AdsAdgroupPreviewPagePostValidator",["errorCode","errorDesc","AdsAbstractValidator","AdsAdgroupUtils","AdsAPIAdgroupFields","AdsAPIAdgroupPaths","AdsAPIAdgroupRecord","AdsAPIAdgroupRecordUtils","AdsDynamicPreviewItemTypes","AdsError","expandPaths"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=b("AdsAPIAdgroupFields").CREATIVE;i=babelHelpers.inherits(a,b("AdsAbstractValidator"));i&&i.prototype;a.prototype.getDependencies=function(){return{adgroup:b("expandPaths")([b("AdsAPIAdgroupPaths").CREATIVE.INSTAGRAM_STORY_ID,b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_ID,b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.path,b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_TYPE]),dynamicPreviewItemType:undefined}};a.prototype.shouldValidate=function(a){a=a.dynamicPreviewItemType;return a&&a!==b("AdsDynamicPreviewItemTypes").NONE?!1:!0};a.prototype.validate=function(a){__p&&__p();var c=a.adgroup;a=a.adgroupRecord;a=a||new(b("AdsAPIAdgroupRecord"))(c);c=c[j];if(b("AdsAPIAdgroupRecordUtils").isExistingPostAd(a)&&!b("AdsAdgroupUtils").isInstagramStoryIDLoaded(c)&&!b("AdsAdgroupUtils").isPageAndPostIDLoaded(c)){a=new(b("AdsError"))(2016025,h._(function(a,b){return a._("Please select a Facebook Page post to show this type of ad")},{}),{level:b("AdsError").Level.WARN});return[a]}return[]};function a(){i.apply(this,arguments)}c=new a();e.exports=c}),null);
__d("AdsAdgroupPreviewPageSetValidator",["errorCode","errorDesc","AdsAbstractValidator","AdsAPICampaignPaths","AdsDynamicPreviewItemTypes","AdsError","expandPaths","getByPath"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;i=babelHelpers.inherits(a,b("AdsAbstractValidator"));i&&i.prototype;a.prototype.getDependencies=function(){return{adgroup:b("expandPaths")([]),campaign:b("expandPaths")([b("AdsAPICampaignPaths").TARGETING.GEO_LOCATIONS.path,b("AdsAPICampaignPaths").TARGETING.PLACE_PAGE_SET_IDS]),dynamicPreviewItemType:undefined}};a.prototype.shouldValidate=function(a){var c=a.dynamicPreviewItemType;a.campaign;return c&&c===b("AdsDynamicPreviewItemTypes").LOCATION?!0:!1};a.prototype.validate=function(a){a=a.campaign;var c=b("getByPath")(a,b("AdsAPICampaignPaths").TARGETING.PLACE_PAGE_SET_IDS);a=b("getByPath")(a,b("AdsAPICampaignPaths").TARGETING.GEO_LOCATIONS.path);return!c&&!a?[new(b("AdsError"))(1443176,h._(function(a,b){return a._("Please select at least one location, or choose a Custom Audience.")},{}))]:[]};function a(){i.apply(this,arguments)}c=new a();e.exports=c}),null);
__d("AdsAdgroupPreviewProductSetValidator",["errorCode","errorDesc","AdsAbstractValidator","AdsAPIAdgroupPaths","AdsDynamicPreviewItemTypes","AdsError","expandPaths","getByPath"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;i=babelHelpers.inherits(a,b("AdsAbstractValidator"));i&&i.prototype;a.prototype.getDependencies=function(){return{adgroup:b("expandPaths")([b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.path,b("AdsAPIAdgroupPaths").CREATIVE.PRODUCT_SET_ID]),dynamicPreviewItemType:undefined}};a.prototype.shouldValidate=function(a){var c=a.dynamicPreviewItemType;a=a.adgroup;return c&&c!==b("AdsDynamicPreviewItemTypes").PRODUCT||!b("getByPath")(a,b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.TEMPLATE_DATA.path)?!1:!0};a.prototype.validate=function(a){a=a.adgroup;return!b("getByPath")(a,b("AdsAPIAdgroupPaths").CREATIVE.PRODUCT_SET_ID)?[new(b("AdsError"))(1885027,h._(function(a,b){return a._("Please select a product set to use with your ad.")},{}))]:[]};function a(){i.apply(this,arguments)}c=new a();e.exports=c}),null);
__d("AdsPreviewsV2Constants",["cssVar"],(function(a,b,c,d,e,f,g){"use strict";e.exports={DEFAULT_PREVIEWS_HEIGHT:601,DEFAULT_PREVIEWS_WIDTH:540,HEADER_HEIGHT:parseInt("48",10)}}),null);
__d("AdsPreviewV2ErrorUtils",["cx","AdsAdgroupPreviewActorValidator","AdsAdgroupPreviewAssetFeedLinkValidator","AdsAdgroupPreviewAssetFeedMediaValidator","AdsAdgroupPreviewMediaValidator","AdsAdgroupPreviewPagePostValidator","AdsAdgroupPreviewPageSetValidator","AdsAdgroupPreviewProductSetValidator","AdsDynamicPreviewItemTypes","AdsPreviewsV2Constants","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=[b("AdsAdgroupPreviewActorValidator"),b("AdsAdgroupPreviewPageSetValidator"),b("AdsAdgroupPreviewMediaValidator"),b("AdsAdgroupPreviewPagePostValidator"),b("AdsAdgroupPreviewProductSetValidator"),b("AdsAdgroupPreviewAssetFeedMediaValidator"),b("AdsAdgroupPreviewAssetFeedLinkValidator")];function a(a,c,d,e){__p&&__p();c===void 0&&(c=b("AdsDynamicPreviewItemTypes").NONE);a={adgroup:a,campaign:e,dynamicPreviewItemType:c,campaignGroup:{objective:d}};for(var e=0;e<h.length;e++){c=h[e];if(c.shouldValidate(a)){d=c.validate(a);if(d.length>0)return d}}return[]}function c(a,c){c===void 0&&(c=b("AdsPreviewsV2Constants").DEFAULT_PREVIEWS_HEIGHT);a=a.message;return b("React").createElement("div",{className:"_2r6m",style:{height:c}},b("React").createElement("div",{className:"_2r6n"}),b("React").createElement("div",{className:"_2r6o"},a))}e.exports={getValidationErrors:a,renderPreviewErrorMessage:c}}),null);
__d("AdsAdgroupPreviewsV2Section.react",["cx","errorCode","fbt","AdsAdgroupPreview.react","AdsAdgroupPreviewsV2UnsupportedFeatureNotice.react","AdsAdPreviewUtils","AdsCCCategory","AdsError","AdsIntelligentNotificationContainer.react","AdsPreviewV2ErrorUtils","ApiAdCreativeFields","React"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j;j=babelHelpers.inherits(a,b("React").PureComponent);j&&j.prototype;a.prototype.render=function(){return b("React").createElement("div",{className:"_41qe"},b("React").createElement(k,this.props))};function a(){j.apply(this,arguments)}function k(a){__p&&__p();var c=a.previewSpec,d=c.adgroupSpec;c=c.objective;var e=b("AdsAdPreviewUtils").getErrorsForAdgroup(a.accountCapabilities,d,c,a.format,null,a.accountID);if(e.length){e=e[0].message;return b("React").createElement("div",{className:"_2ph-",style:{height:a.sectionHeight}},b("React").createElement(b("AdsIntelligentNotificationContainer.react"),{ccCardProps:{category:b("AdsCCCategory").WARNING,messageID:"ads_previews_section_error",textData:[{type:"PARAGRAPH",data:{text:e}}]}}))}if(d.creative){e=b("AdsPreviewV2ErrorUtils").getValidationErrors(d,a.previewSpec.dynamicPreviewItemType,c,a.previewSpec.campaign);if(e.length>0)return b("AdsPreviewV2ErrorUtils").renderPreviewErrorMessage(e[0],a.sectionHeight)}if(a.processingInstagramOrganicVideo)return b("AdsPreviewV2ErrorUtils").renderPreviewErrorMessage(b("AdsError").createError(1815279,i._("Your video is processing. You'll see a preview here once it's finished.")),a.sectionHeight);if(d.creative&&d.creative[b("ApiAdCreativeFields").ASSET_FEED_ID]&&d.creative[b("ApiAdCreativeFields").ASSET_FEED_SPEC]){c=d.creative;e=babelHelpers["extends"]({},c);!a.shouldRenderPreviewByID?delete e[b("ApiAdCreativeFields").ASSET_FEED_ID]:delete e[b("ApiAdCreativeFields").ASSET_FEED_SPEC];d.creative=e}c=babelHelpers["extends"]({},a.previewSpec,{adgroupSpec:d});e=a.sectionHeight?a.sectionHeight:"100%";return b("React").createElement("div",{className:"_30ub",style:{height:e}},b("React").createElement(b("AdsAdgroupPreviewsV2UnsupportedFeatureNotice.react"),{adgroupSpec:d,format:a.format,previewPlugin:a.plugin}),b("React").createElement(b("AdsAdgroupPreview.react"),babelHelpers["extends"]({},c,{accountID:a.accountID,adgroupSpecPathPlugin:a.adgroupSpecPathPlugin,decorator:a.previewSpec.decorator,enableComment:a.enableComment,enableMsitePlayVideo:!0,format:a.format,imageURL:a.imageURL,key:"ad-preview-"+d.id,lastForceUpdateTimeStamp:a.lastForceUpdateTimeStamp,loadingOverlay:a.loadingOverlay,parentContainerHeight:a.sectionHeight,onFinishedLoading:a.onFinishedLoading,onStartedLoading:a.onStartedLoading})))}e.exports=a}),null);
__d("LatchBoundary.react",["React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=babelHelpers.inherits(a,b("React").Component);g=c&&c.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=g.constructor).call.apply(a,[this].concat(d)),this.$1=!1,b}a.prototype.render=function(){var a=this.props.shouldRender;this.$1=this.$1||a;return this.$1?b("React").Children.only(this.props.children):null};e.exports=a}),null);
__d("AdsAdgroupPreviewsV2.react",["cx","fbt","AdPreviewHotReloadSelector","AdsAdgroupPreviewActions","AdsAdgroupPreviewsLoggingConstants","AdsAdgroupPreviewsV2DCOPreviewEntry.react","AdsAdgroupPreviewsV2Header.react","AdsAdgroupPreviewsV2Section.react","AdsAdgroupSpecUtils","AdsCCCategory","AdsIntelligentNotificationContainer.react","AdsLoadState_LEGACY","AdsObjectivesV2Utils","AdsPreviewsV2Constants","AdsTestIDs","LatchBoundary.react","React","SpecsUtils","XUICarousel.react","XUICarouselItem.react","areEqual","emptyFunction","gkx"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=0;c=babelHelpers.inherits(a,b("React").Component);i=c&&c.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=i.constructor).call.apply(a,[this].concat(d)),this.$1=function(a,b,c){c===void 0&&(c=!0);var d=this.props.previewSpec.previewPlugins;this.props.onAdFormatIndexChange(d.toIndexedSeq().get(a).apiFormat,a,this.props.previewSpec.adgroupIndex,c,b)}.bind(this),b}a.prototype.shouldComponentUpdate=function(a){return!b("areEqual")(this.props,a)};a.prototype.componentDidMount=function(){var a=this.props.previewSpec.previewPlugins.valueSeq().toJS().map(function(a){return a.apiFormat});this.props.setPreviewFormatsForAdgroup(a,this.props.previewSpec.adgroupIndex)};a.prototype.UNSAFE_componentWillReceiveProps=function(a){__p&&__p();var c;!b("areEqual")((c=this.props.previewSpec.adgroupSpec)!=null?c.creative:c,(c=a.previewSpec.adgroupSpec)!=null?c.creative:c)&&!b("AdPreviewHotReloadSelector")().didHotReload&&j++;c=this.props.previewSpec.previewPlugins;var d=a.previewSpec.previewPlugins;if(c.size===0||d.size===0)return;var e=d.size;a=a.formatIndex;a==null||a>=e||a<0?(this.refs.carousel&&this.refs.carousel.setIndex(0),this.$1(0,b("AdsAdgroupPreviewsLoggingConstants").COMPONENT_CLAMP,!1)):this.refs.carousel&&this.refs.carousel.setIndex(a);e=d.valueSeq().toJS().map(function(a){return a.apiFormat});a=c.valueSeq().toJS().map(function(a){return a.apiFormat});b("SpecsUtils").deepCompare(e,a)||this.props.setPreviewFormatsForAdgroup(e,this.props.previewSpec.adgroupIndex)};a.prototype.render=function(){__p&&__p();var a=this.props.previewSpec;a=a.objective;var c=this.props.hideAdgroupPreview?"none":"block";if(!b("AdsObjectivesV2Utils").isObjectiveSupported(a))return null;if(this.props.previewSpec.previewPlugins.size===0)return b("React").createElement("div",{className:"_39ui",style:{display:c}},b("React").createElement(b("AdsIntelligentNotificationContainer.react"),{ccCardProps:{category:b("AdsCCCategory").ACTIVE_FEEDBACK,messageID:"error_message_that_ad_set_doesn't_have_placements_selected",textData:[{type:"PARAGRAPH",data:{text:h._("No placements have been selected for the ad set containing this ad. Please update the placement section.")}}]}}));a=this.props.previewSpec.previewPlugins;var d=this.props.formatIndex||0;(d<0||d>=a.size)&&(d=0);return b("React").createElement("div",{className:"_39ui","data-testid":b("AdsTestIDs").PREVIEW_CAROUSEL,style:{display:c}},this.$2(d),b("React").createElement(b("AdsAdgroupPreviewsV2DCOPreviewEntry.react"),{accountCapabilities:this.props.accountCapabilities,accountID:this.props.accountID,previewSpec:this.props.previewSpec}),this.$3(d))};a.prototype.$2=function(a){var c=this.props.previewSpec.previewPlugins;return b("React").createElement(b("AdsAdgroupPreviewsV2Header.react"),{index:a,maxIndex:c.size-1,minIndex:0,previewPlugins:c,onChange:this.$1})};a.prototype.$3=function(a){__p&&__p();var c=this.$4(),d=this.props,e=d.customContainerHeight,f=d.previewSpec;d=d.width;c=c&&c.loadState===b("AdsLoadState_LEGACY").ERROR;var g=e>b("AdsPreviewsV2Constants").DEFAULT_PREVIEWS_HEIGHT?e-b("AdsPreviewsV2Constants").HEADER_HEIGHT:b("AdsPreviewsV2Constants").DEFAULT_PREVIEWS_HEIGHT;if(c)return b("React").createElement("div",{style:{marginBottom:"16px",marginLeft:"16px",marginRight:"16px"}},b("React").createElement(b("AdsIntelligentNotificationContainer.react"),{ccCardProps:{category:b("AdsCCCategory").ACTIVE_FEEDBACK,messageID:"ad_preview_is_unavailable_because_the_page_post_cannot_be_loaded",textData:[{type:"PARAGRAPH",data:{text:h._("Sorry, we can't show a preview, because the Page post of this ad is unavailable.")}}]}}));var i=f.adgroupIndex,k=f.adgroupSpec;e=f.previewPlugins;c=e.valueSeq().toJS();e=c.map(function(c,d){var e=c.apiFormat,h=Math.abs(a-d)<=(this.props.renderMore?1:0);d=!this.props.hideAdgroupPreview&&a===d?b("AdsAdgroupPreviewActions").selectedPreviewLoaded:undefined;var l="adgroup-"+i+"-"+e+"-"+j;c=b("React").createElement(b("AdsAdgroupPreviewsV2Section.react"),{accountCapabilities:this.props.accountCapabilities,accountID:this.props.accountID,adgroupSpec:k,adgroupSpecPathPlugin:this.props.adgroupSpecPathPlugin,enableComment:this.props.enableComment,format:e,imageURL:this.props.imageURL,key:l,lastForceUpdateTimeStamp:this.props.lastForceUpdateTimeStamp,plugin:c,previewSpec:f,processingInstagramOrganicVideo:this.props.processingInstagramOrganicVideo,sectionHeight:g,onFinishedLoading:d});return b("React").createElement(b("XUICarouselItem.react"),{key:e,style:{width:this.props.width}},b("React").createElement(b("LatchBoundary.react"),{key:l,shouldRender:h},c))}.bind(this));return b("React").createElement(b("XUICarousel.react"),{initialAutoplay:!1,initialIndex:a,ref:"carousel",resizeViewport:"disabled",viewportHeight:g,viewportWidth:d,wrapAround:!1},e)};a.prototype.$4=function(){var a=this.props.previewSpec,c=a.adgroupSpec;a=a.pagePostDetails;c=b("AdsAdgroupSpecUtils").getPagePostID(c);return a&&a[c]};a.defaultProps={customContainerHeight:b("AdsPreviewsV2Constants").DEFAULT_PREVIEWS_HEIGHT,renderMore:!0,width:b("AdsPreviewsV2Constants").DEFAULT_PREVIEWS_WIDTH,onAdFormatIndexChange:b("emptyFunction").thatReturnsNull};e.exports=a}),null);
__d("AdsAdgroupPreviewLoadErrorDataActionPlugin",[],(function(a,b,c,d,e,f){"use strict";a={key:"adgroupPreviewLoadError",actionType:"AdgroupPreview.LOAD.ERROR"};e.exports=a}),null);
__d("AdsAdgroupPreviewLoadFinishedDataActionPlugin",[],(function(a,b,c,d,e,f){"use strict";a={key:"adgroupPreviewLoadFinished",actionType:"AdgroupPreview.LOAD.FINISHED"};e.exports=a}),null);
__d("AdsAdgroupPreviewLoadStartDataActionPlugin",[],(function(a,b,c,d,e,f){"use strict";a={key:"adgroupPreviewLoadStart",actionType:"AdgroupPreview.LOAD.START"};e.exports=a}),null);
__d("AdsAdgroupPreviewLoadSuccessDataActionPlugin",[],(function(a,b,c,d,e,f){"use strict";a={key:"adgroupPreviewLoadSuccess",actionType:"AdgroupPreview.LOAD.SUCCESS"};e.exports=a}),null);
__d("AdsAdgroupPreviewSelectedPreviewLoadedDataActionPlugin",[],(function(a,b,c,d,e,f){"use strict";a={key:"adgroupPreviewSelectedPreviewLoaded",actionType:"AdgroupPreview.SELECTED_PREVIEW_LOADED"};e.exports=a}),null);
__d("AdsAdgroupPreviewSwitchToFormatDataActionPlugin",[],(function(a,b,c,d,e,f){"use strict";a={key:"adgroupPreviewSwitchToFormat",actionType:"AdgroupPreview.SWITCH_TO_FORMAT"};e.exports=a}),null);
__d("AdsAdgroupPreviewsLoggerStore",["AdsAdgroupPreviewLoadErrorDataActionPlugin","AdsAdgroupPreviewLoadFinishedDataActionPlugin","AdsAdgroupPreviewLoadStartDataActionPlugin","AdsAdgroupPreviewLoadSuccessDataActionPlugin","AdsAdgroupPreviewSelectedPreviewLoadedDataActionPlugin","AdsAdgroupPreviewSwitchToFormatDataActionPlugin","AdsDataAtom","AdsInterfacesLogger","FluxReduceStore"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;g=babelHelpers.inherits(a,b("FluxReduceStore"));g&&g.prototype;a.prototype.getInitialState=function(){return{}};a.prototype.$AdsAdgroupPreviewsLoggerStore1=function(a,c){b("AdsInterfacesLogger").log({eventName:a,data:{ad_preview_format:c.format,link_post_format:c.linkPostFormat,media_format:c.mediaFormat,loading_count:c.loadingCount,time_since_load:c.timeSinceLoad}})};a.prototype.reduce=function(a,c){__p&&__p();switch(c.action.actionType){case b("AdsAdgroupPreviewLoadStartDataActionPlugin").actionType:this.$AdsAdgroupPreviewsLoggerStore1("preview_load_start",c.action.loggingData);return a;case b("AdsAdgroupPreviewSelectedPreviewLoadedDataActionPlugin").actionType:b("AdsInterfacesLogger").log({eventName:"selected_preview_loaded",data:{}});return a;case b("AdsAdgroupPreviewLoadSuccessDataActionPlugin").actionType:this.$AdsAdgroupPreviewsLoggerStore1("preview_load_success",c.action.loggingData);return a;case b("AdsAdgroupPreviewLoadFinishedDataActionPlugin").actionType:this.$AdsAdgroupPreviewsLoggerStore1("preview_load_finished",c.action.loggingData);return a;case b("AdsAdgroupPreviewLoadErrorDataActionPlugin").actionType:this.$AdsAdgroupPreviewsLoggerStore1("preview_load_error",c.action.loggingData);return a;case b("AdsAdgroupPreviewSwitchToFormatDataActionPlugin").actionType:c.action.data.shouldLog&&b("AdsInterfacesLogger").log({eventName:"select_preview_section",data:{ad_preview_format:c.action.data.format,event_source:c.action.data.loggingSource}});return a}return a};function a(){g.apply(this,arguments)}a.__moduleID=e.id;e.exports=new a(b("AdsDataAtom"))}),null);
__d("AdsPreviewsV2SetPreviewFormatsForAdgroupDataReducerPlugin",[],(function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){return a.set("previewFormatMap",a.get("previewFormatMap").set(b.data.adgroupIndex,b.data.previewFormats))}};e.exports=a}),null);
__d("AdsPreviewsV2SetPreviewFormatsForAdgroupDataReducer",["AdsAdgroupPreviewsV2UIDataProvider","AdsDataReducer","AdsPreviewsV2SetPreviewFormatsForAdgroupDataReducerPlugin"],(function(a,b,c,d,e,f){"use strict";a=b("AdsDataReducer").create(b("AdsAdgroupPreviewsV2UIDataProvider"),{},b("AdsPreviewsV2SetPreviewFormatsForAdgroupDataReducerPlugin").reduce);e.exports=a}),null);
__d("AdsPreviewsV2SetPreviewFormatsForAdgroupDataAction",["AdsDataAction","AdsPreviewsV2SetPreviewFormatsForAdgroupDataReducer"],(function(a,b,c,d,e,f){"use strict";a=b("AdsDataAction").create([b("AdsPreviewsV2SetPreviewFormatsForAdgroupDataReducer")],"PREVIEWS_V2.SET_PREVIEW_FORMATS_FOR_ADGROUP");e.exports=a}),null);
__d("AdsAdgroupPreviewsV2UIStore",["AdsAdgroupPreviewsV2UIDataProvider"],(function(a,b,c,d,e,f){"use strict";e.exports=b("AdsAdgroupPreviewsV2UIDataProvider").toFluxStore()}),null);
__d("adsAdgroupPreviewsV2Selector",["AdsAdgroupPreviewsV2UIStore","adsCreateStoreSelector"],(function(a,b,c,d,e,f){"use strict";a=b("adsCreateStoreSelector")([b("AdsAdgroupPreviewsV2UIStore")],function(){return b("AdsAdgroupPreviewsV2UIStore").getState()},e.id+".adsAdgroupPreviewsV2Selector");e.exports=a}),null);
__d("adsAdgroupPreviewsV2FormatIndexSelector",["adsAdgroupPreviewsV2Selector","adsCreateSelector","adsCreateStoreSelector"],(function(a,b,c,d,e,f){"use strict";a=b("adsCreateStoreSelector")([],function(a){return a.previewSpec.adgroupIndex},e.id+".adgroupIndexPropSelector");c=b("adsCreateSelector")([b("adsAdgroupPreviewsV2Selector"),a],function(a,b){return a.formatIndexMap.get(b)},{name:e.id+".adsAdgroupPreviewsV2FormatIndexSelector"});e.exports=c}),null);
__d("AdsAdgroupPreviewsV2Container.react",["AdsAdgroupPreviewActions","AdsAdgroupPreviewsLoggerStore","AdsAdgroupPreviewsV2.react","AdsAdgroupPreviewUpdateTimestampStore","AdsAdgroupSpecPathPluginResolver","AdsAudienceDirectConfig","AdsCampaignUtils","AdsDefaultAdgroupSpecPathPlugin","AdsFluxContainer","AdsImageInfoStoreUtils","AdsInstagramVideoUploaderStore","AdsPreviewsV2SetPreviewFormatsForAdgroupDataAction","AdsSimpleTipShowTipDataAction","AdsSimpleTipTypes","Arbiter","MouseEventAccumulator.react","React","adsAdgroupPreviewsV2FormatIndexSelector","gkx"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=b("React").Component;d=babelHelpers.inherits(a,c);g=d&&d.prototype;function a(a){g.constructor.call(this,a),this.state={adgroupSpecPathPlugin:b("AdsDefaultAdgroupSpecPathPlugin"),formatIndex:0,lastForceUpdateTimeStamp:0,processingInstagramOrganicVideo:!1}}a.prototype.componentDidMount=function(){b("AdsSimpleTipShowTipDataAction").dispatch({tip:b("AdsSimpleTipTypes").DYNAMIC_ADS_UPSELL_ADGROUP_PREVIEW_V2})};a.getStores=function(){return[].concat(b("adsAdgroupPreviewsV2FormatIndexSelector").getStores(),[b("AdsAdgroupPreviewsLoggerStore"),b("AdsAdgroupPreviewUpdateTimestampStore"),b("AdsInstagramVideoUploaderStore")])};a.calculateState=function(a,c){a=c.previewSpec;var d=b("AdsAdgroupPreviewUpdateTimestampStore").getState().get("lastForceUpdateTimeStamp");c=b("adsAdgroupPreviewsV2FormatIndexSelector")(c);a=b("AdsAdgroupSpecPathPluginResolver").resolve({accountType:b("AdsAudienceDirectConfig").accountType,objective:a.objective,promotedObjectType:b("AdsCampaignUtils").getPromotedObjectType(a.objective,a.campaign)});var e=b("AdsInstagramVideoUploaderStore").getState().get("isProcessing");return{adgroupSpecPathPlugin:a,formatIndex:c,lastForceUpdateTimeStamp:d,processingInstagramOrganicVideo:e}};a.prototype.render=function(){var a=this.props.previewSpec;a.adgroupSpec=b("AdsImageInfoStoreUtils").generateFullSizeURLAdgroup(a.adgroupSpec,this.state.adgroupSpecPathPlugin);return b("React").createElement(b("MouseEventAccumulator.react"),{render:function(a){a=a.hover;return b("React").createElement(b("AdsAdgroupPreviewsV2.react"),{accountCapabilities:this.props.accountCapabilities,accountID:this.props.accountID,adgroupSpecPathPlugin:this.state.adgroupSpecPathPlugin,customContainerHeight:this.props.customContainerHeight,enableComment:this.props.enableComment,formatIndex:this.state.formatIndex,hideAdgroupPreview:this.props.hideAdgroupPreview,imageURL:this.props.imageURL,lastForceUpdateTimeStamp:this.state.lastForceUpdateTimeStamp,previewSpec:this.props.previewSpec,processingInstagramOrganicVideo:this.state.processingInstagramOrganicVideo,renderMore:a,setPreviewFormatsForAdgroup:this.$1,width:this.props.width,onAdFormatIndexChange:this.$2})}.bind(this)})};a.prototype.$2=function(a,c,d,e,f){b("AdsAdgroupPreviewActions").switchToPreviewForAdgroup(a,c,d,e,f)};a.prototype.$1=function(a,c){b("AdsPreviewsV2SetPreviewFormatsForAdgroupDataAction").dispatch({data:{previewFormats:a,adgroupIndex:c}})};e.exports=b("AdsFluxContainer").create(a,{withProps:!0,name:e.id+".exports"})}),null);
__d("AdsDCOPreviewUtils",["invariant","AdsAPIAdAssetFeedBodiesFields","AdsAPIAdgroupPaths","AdsAssetFeedFieldUtils","AdsAssetFeedUtils","getByPath","immutable"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=function(a){return a&&a.filter(function(a){return a.get(b("AdsAPIAdAssetFeedBodiesFields").TEXT).trim().length>0})};a={normalizeAdgroupForPreview:function(a){return!b("AdsAssetFeedUtils").isRegularDCOAdgroupFromRecord(a)?a:a.deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_ID).deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_ID).deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.INSTAGRAM_STORY_ID).updateIn(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.BODIES,h).updateIn(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.DESCRIPTIONS,h).updateIn(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.TITLES,h)},getDefaultSingleAssetAdgroup:function(a){b("AdsAssetFeedUtils").isRegularDCOAdgroupFromRecord(a)||g(0);return[b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.BODIES,b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.CALL_TO_ACTIONS,b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.CALL_TO_ACTION_TYPES,b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.DESCRIPTIONS,b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.IMAGES,b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.TITLES,b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.VIDEOS].reduce(function(a,c){return a.setIn(c,b("AdsAssetFeedFieldUtils").getSingleValueAssetForType(a.getIn(c),0))},a)},updateSingleAssetAdgroupField:function(a,c,d,e){return c.setIn(e,b("AdsAssetFeedFieldUtils").getSingleValueAssetForType(a.getIn(e),d))},updateFullCarouselAssetAdgroupField:function(a,c,d,e){__p&&__p();var f=b("AdsAssetFeedFieldUtils").getAssetsForType(a.getIn(e)),h=e.concat("0"),i=e.concat(d),j=b("AdsAssetFeedFieldUtils").getSingleValueAssetForType(a.getIn(e),0);j instanceof b("immutable").List||j==null||g(0);a=b("AdsAssetFeedFieldUtils").getSingleValueAssetForType(a.getIn(e),d);a instanceof b("immutable").List||a==null||g(0);if(j&&a){d=j.get(0);j=a.get(0);return c.setIn(e,f).setIn(i,d).setIn(h,j)}return c.setIn(e,f)},getValidAdVariationCount:function(a){a=b("getByPath")(a,b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.path);var c=a.images&&a.images.length||0,d=a.videos&&a.videos.length||0,e=a.bodies&&a.bodies.length||1,f=a.call_to_action_types&&a.call_to_action_types.length||0,g=a.titles&&a.titles.length||1;a=a.descriptions&&a.descriptions.length||1;f=f*g*a||1;return(c+d)*f*e}};e.exports=a}),null);
__d("AdsDynamicCreativeOptimizationLoggerEvents",[],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({CAMPAIGN_DYNAMIC_CREATIVE_SECTION_MOUNTED:"dco_campaign_dynamic_creative_section_mounted",NOTIFICATION_DIALOG_CONFIRMED:"dco_notification_dialog_confirmed",NOTIFICATION_DIALOG_DISMISSED:"dco_notification_dialog_dismissed",NOTIFICATION_DIALOG_OPEN:"dco_notification_dialog_open",DCO_FLOW_INITIATED:"dco_flow_initiated",PREVIEW_ENTRY_MOUNTED:"dco_preview_entry_mounted",CLICK_ASSET_DROPDOWNS:"dco_click_asset_dropdowns",CLICK_TO_OPEN_PREVIEW_DIALOG:"dco_click_to_open_preview_dialog",CLOSE_PREVIEW_DIALOG:"dco_close_preview_dialog",SELECT_IMAGES_DIALOG_SHOW:"dco_select_images_dialog_show",SELECT_IMAGES_DIALOG_HIDE:"dco_select_images_dialog_hide",CTA_DROPDOWN_OPENED:"cta_dropdown_opened"});e.exports=a}),null);
__d("AdsAdgroupPreviewsV2DCOPreviewEntry.react",["cx","fbt","AdsDCONoticeUtils","AdsDCOPreviewDialogContainer.react","AdsDCOPreviewUtils","AdsDynamicCreativeOptimizationLoggerEvents","AdsIntelligentBlueTip.react","AdsInterfacesLogEvents","AdsInterfacesLogger","AdsTestIDs","React","SUIBusinessTheme","SUIBusinessThemeContainer.react","SUIButton.react","SUIText.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j="dynamic_creative_preview_entry_button",k="ax_ads_adgroup_dco_preview_entry_tip";function l(a){a.accountID;return b("React").createElement(b("AdsIntelligentBlueTip.react"),{contextNodeID:j,messageID:k,position:"left"})}c=babelHelpers.inherits(a,b("React").PureComponent);i=c&&c.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=i.constructor).call.apply(a,[this].concat(e)),this.state={isDialogShown:!1},this.$1=function(){this.setState({isDialogShown:!1}),b("AdsInterfacesLogger").log({eventName:b("AdsDynamicCreativeOptimizationLoggerEvents").CLOSE_PREVIEW_DIALOG,eventCategory:b("AdsInterfacesLogEvents").EventCategory.USER_ACTION})}.bind(this),this.$2=function(){this.setState({isDialogShown:!0}),b("AdsInterfacesLogger").log({eventName:b("AdsDynamicCreativeOptimizationLoggerEvents").CLICK_TO_OPEN_PREVIEW_DIALOG,eventCategory:b("AdsInterfacesLogEvents").EventCategory.USER_ACTION})}.bind(this),c}a.prototype.componentDidMount=function(){b("AdsInterfacesLogger").log({eventName:b("AdsDynamicCreativeOptimizationLoggerEvents").PREVIEW_ENTRY_MOUNTED,eventCategory:b("AdsInterfacesLogEvents").EventCategory.AD_EDIT})};a.prototype.render=function(){__p&&__p();var a=this.props.previewSpec,c=a.adgroupSpec;a=a.useDCOPreviewEntry;if(!a)return null;a=c==null?void 0:c.id;a=this.state.isDialogShown?b("React").createElement(b("AdsDCOPreviewDialogContainer.react"),{adgroupID:a,onHide:this.$1}):null;var d=b("React").createElement(b("SUIBusinessThemeContainer.react"),null,b("React").createElement(b("SUIText.react"),{display:"block",shade:"medium",size:"meta1",weight:"bold"},h._("Ad Variations")));c=b("AdsDCOPreviewUtils").getValidAdVariationCount(c);var e=c<=1,f=e?null:b("React").createElement(l,{accountID:this.props.accountID});f=b("React").createElement("div",null,f,b("React").createElement(b("SUIButton.react"),{"data-testid":b("AdsTestIDs").PREVIEW_DCO_VARIATIONS_BUTTON,disabled:e,id:j,label:h._("View More Variations"),theme:b("SUIBusinessTheme"),tooltip:c<=1?b("AdsDCONoticeUtils").getPreviewEntryDisabledTooltip():null,onClick:this.$2}));return b("React").createElement("div",{className:"_17gl"},b("React").createElement("div",{className:"_17hm"},d,f),a)};e.exports=a}),null);
__d("AdsDynamicCreativeCarouselPreviewMoreVariationsNUX",["fbt","React"],(function(a,b,c,d,e,f,g){"use strict";a=g._("The preview ad will automatically refresh when you select a new option for any asset.");b=g._("Preview Possible Ad Variations");e.exports={BODY:a,TITLE:b}}),null);
__d("AdsDCOCarouselPreviewNuxConfig",["AdsCCCategory","AdsDynamicCreativeCarouselPreviewMoreVariationsNUX","AdsRecommendationTipConfig"],(function(a,b,c,d,e,f){"use strict";var g;c=babelHelpers.inherits(a,b("AdsRecommendationTipConfig"));g=c&&c.prototype;function a(){g.constructor.call(this,{category:b("AdsCCCategory").ACTIVE_FEEDBACK,header:b("AdsDynamicCreativeCarouselPreviewMoreVariationsNUX").TITLE,messageID:"dco_carousel_preview_more_variations",textData:[{type:"PARAGRAPH",data:{text:b("AdsDynamicCreativeCarouselPreviewMoreVariationsNUX").BODY}}]})}e.exports={AdsDCOCarousePreviewNuxConfig:a}}),null);
__d("AdsLinkDescriptionTypes",["keyMirror"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirror")({NEWS_FEED:null,GENERAL:null});e.exports=a}),null);
__d("AdsLinkDescriptionUtils",["fbt","invariant","AdsLinkDescriptionTypes","AdsObjectStorySpecFieldLabels","ApiObjectStorySpecLinkFields"],(function(a,b,c,d,e,f,g,h){"use strict";a={getLabel:function(a){switch(a){case b("AdsLinkDescriptionTypes").NEWS_FEED:return g._("News Feed Link Description");case b("AdsLinkDescriptionTypes").GENERAL:return b("AdsObjectStorySpecFieldLabels").get(b("ApiObjectStorySpecLinkFields").DESCRIPTION);default:h(0)}}};e.exports=a}),null);
__d("AdsDCOPreviewAssetSelectionPanel.react",["cx","AdsAPIAdAssetFeedBodiesFields","AdsAPIAdAssetFeedDescriptionsFields","AdsAPIAdAssetFeedTitlesFields","AdsAPIAdgroupPaths","AdsAPIObjectives","AdsAssetDropdownPicker.react","AdsAssetFeedUtils","AdsBrandAwarenessUtils","AdsCreativeFieldLabels","AdsDCOCarouselPreviewNuxConfig","AdsIntelligentInlineNux.react","AdsLabeledField.react","AdsLinkDescriptionTypes","AdsLinkDescriptionUtils","AdsObjectStorySpecFieldLabels","ApiAdCreativeFields","ApiCallToActionFields","ApiObjectStorySpecLinkFields","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("AdsDCOCarouselPreviewNuxConfig").AdsDCOCarousePreviewNuxConfig;function j(a){return a.isDisabled===!0?null:b("React").createElement(b("AdsLabeledField.react"),{className:"_3-98",label:a.label},a.children)}c=babelHelpers.inherits(a,b("React").PureComponent);h=c&&c.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=h.constructor).call.apply(a,[this].concat(e)),this.$1=function(a){this.props.onSelectAssetbyPathAtIndex(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.BODIES,a)}.bind(this),this.$2=function(a){this.props.onSelectAssetbyPathAtIndex(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.CALL_TO_ACTION_TYPES,a),this.props.objective===b("AdsAPIObjectives").LEAD_GENERATION&&this.props.onSelectAssetbyPathAtIndex(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.CALL_TO_ACTIONS,a)}.bind(this),this.$3=function(a){this.props.onSelectAssetbyPathAtIndex(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.DESCRIPTIONS,a)}.bind(this),this.$4=function(a){this.props.onSelectAssetbyPathAtIndex(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.IMAGES,a)}.bind(this),this.$5=function(a){this.props.onSelectAssetbyPathAtIndex(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.TITLES,a)}.bind(this),this.$6=function(a){this.props.onSelectAssetbyPathAtIndex(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.VIDEOS,a)}.bind(this),c}a.prototype.$7=function(a){a=this.props.fullAssetsAdgroup.getIn(a);return a?a.toArray():[]};a.prototype.$8=function(){var a=new i();a=a.getTipProps();var c=a.category,d=a.header,e=a.messageID;a=a.textData;return b("React").createElement("div",{className:"_3-98"},b("React").createElement(b("AdsIntelligentInlineNux.react"),{ccCardProps:{category:c,header:d,textData:a},messageID:e}))};a.prototype.render=function(){var a=b("AdsAssetFeedUtils").hasSingleVideoFormat(this.props.fullAssetsAdgroup),c=b("AdsAssetFeedUtils").hasCarouselFormat(this.props.fullAssetsAdgroup);c=c?this.$8():null;var d=b("AdsBrandAwarenessUtils").isWebsiteLinkEnabled(this.props.fullAssetsAdgroup);return b("React").createElement("div",null,c,b("React").createElement(j,{label:b("AdsObjectStorySpecFieldLabels").get(b("ApiObjectStorySpecLinkFields").MESSAGE)},b("React").createElement(b("AdsAssetDropdownPicker.react"),{assets:this.$7(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.BODIES),fieldName:b("AdsAPIAdAssetFeedBodiesFields").TEXT,mode:"text-asset",onSelectAssetAtIndex:this.$1})),b("React").createElement(j,{isDisabled:a,label:b("AdsCreativeFieldLabels").get(b("ApiAdCreativeFields").IMAGE_HASH)},b("React").createElement(b("AdsAssetDropdownPicker.react"),{assets:this.props.imageAssets,mode:"image-asset",onSelectAssetAtIndex:this.$4})),b("React").createElement(j,{isDisabled:!a,label:b("AdsCreativeFieldLabels").get(b("ApiAdCreativeFields").VIDEO_ID)},b("React").createElement(b("AdsAssetDropdownPicker.react"),{assets:this.props.videoAssets,mode:"video-asset",onSelectAssetAtIndex:this.$6})),b("React").createElement(j,{isDisabled:!d,label:b("AdsObjectStorySpecFieldLabels").get(b("ApiObjectStorySpecLinkFields").NAME)},b("React").createElement(b("AdsAssetDropdownPicker.react"),{assets:this.$7(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.TITLES),fieldName:b("AdsAPIAdAssetFeedTitlesFields").TEXT,mode:"text-asset",onSelectAssetAtIndex:this.$5})),b("React").createElement(j,{isDisabled:this.props.objective===b("AdsAPIObjectives").APP_INSTALLS||!d,label:b("AdsLinkDescriptionUtils").getLabel(b("AdsLinkDescriptionTypes").NEWS_FEED)},b("React").createElement(b("AdsAssetDropdownPicker.react"),{assets:this.$7(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.DESCRIPTIONS),fieldName:b("AdsAPIAdAssetFeedDescriptionsFields").TEXT,mode:"text-asset",onSelectAssetAtIndex:this.$3})),b("React").createElement(j,{isDisabled:!d,label:b("AdsObjectStorySpecFieldLabels").get(b("ApiObjectStorySpecLinkFields").CALL_TO_ACTION).get(b("ApiCallToActionFields").TYPE)},b("React").createElement(b("AdsAssetDropdownPicker.react"),{assets:this.$7(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.CALL_TO_ACTION_TYPES),mode:"cta-asset",onSelectAssetAtIndex:this.$2})))};e.exports=a}),null);
__d("AdsDCOPreviewDialog.react",["cx","fbt","AdsAssetFeedUtils","AdsDCOPreviewAssetSelectionPanel.react","AdsDCOPreviewPanelContainer.react","AdsDCOPreviewUtils","AdsDynamicCreativeOptimizationLoggerEvents","AdsInterfacesLogEvents","AdsInterfacesLogger","AdsModalBodyNoPadding.react","AdsTestIDs","LayerFadeOnHide","React","SUIBusinessThemeContainer.react","SUIModal.react","SUIModalCloseButton.react","SUIModalFillViewportHeight","SUIModalFooter.react","SUIModalHeader.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=864;function k(a){return b("React").createElement("div",{className:"_4edn"},b("React").createElement(b("AdsDCOPreviewPanelContainer.react"),{adgroup:a.adgroup.toJS()}))}function l(a){return b("React").createElement("div",{className:"_4edo"},b("React").createElement(b("AdsDCOPreviewAssetSelectionPanel.react"),{fullAssetsAdgroup:a.fullAssetsAdgroup,imageAssets:a.imageAssets,objective:a.objective,videoAssets:a.videoAssets,onSelectAssetbyPathAtIndex:a.onSelectAssetbyPathAtIndex}))}c=babelHelpers.inherits(a,b("React").PureComponent);i=c&&c.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=i.constructor).call.apply(a,[this].concat(e)),this.state={singleAssetAdgroup:b("AdsDCOPreviewUtils").getDefaultSingleAssetAdgroup(this.props.fullAssetsAdgroup),fullCarouselAssetAdgroup:this.props.fullAssetsAdgroup},this.$1=function(a,c){var d=b("AdsAssetFeedUtils").hasCarouselFormat(this.props.fullAssetsAdgroup);if(!d){d=b("AdsDCOPreviewUtils").updateSingleAssetAdgroupField(this.props.fullAssetsAdgroup,this.state.singleAssetAdgroup,c,a);this.setState({singleAssetAdgroup:d})}else{d=b("AdsDCOPreviewUtils").updateFullCarouselAssetAdgroupField(this.props.fullAssetsAdgroup,this.state.fullCarouselAssetAdgroup,c,a);this.setState({fullCarouselAssetAdgroup:d})}b("AdsInterfacesLogger").log({eventName:b("AdsDynamicCreativeOptimizationLoggerEvents").CLICK_ASSET_DROPDOWNS,eventCategory:b("AdsInterfacesLogEvents").EventCategory.USER_ACTION})}.bind(this),c}a.prototype.render=function(){var a=b("AdsAssetFeedUtils").hasCarouselFormat(this.props.fullAssetsAdgroup);return b("React").createElement(b("SUIBusinessThemeContainer.react"),null,b("React").createElement(b("SUIModal.react"),{behaviors:{LayerFadeOnHide:b("LayerFadeOnHide"),SUIModalFillViewportHeight:b("SUIModalFillViewportHeight")},footer:b("React").createElement(b("SUIModalFooter.react"),{primaryButton:b("React").createElement(b("SUIModalCloseButton.react"),{onClick:this.props.onHide})}),header:b("React").createElement(b("SUIModalHeader.react"),{title:h._("Preview Ad Variations")}),isShown:!0,width:j,onHide:this.props.onHide},b("React").createElement(b("AdsModalBodyNoPadding.react"),null,b("React").createElement("div",{className:"_4edp","data-testid":b("AdsTestIDs").PREVIEW_DCO_VARIATIONS},b("React").createElement(l,{fullAssetsAdgroup:this.props.fullAssetsAdgroup,imageAssets:this.props.imageAssets,objective:this.props.objective,videoAssets:this.props.videoAssets,onSelectAssetbyPathAtIndex:this.$1}),b("React").createElement(k,{adgroup:a?this.state.fullCarouselAssetAdgroup:this.state.singleAssetAdgroup})))))};e.exports=a}),null);
__d("AdsAssetFeedVideoAssetsUtils",["invariant","AdsAPIAdAssetFeedVideosFields","AdsAssetFeedFieldUtils","AdsLoadState_LEGACY","LoadObject","immutable"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=[];a={getVideoAssetIDs:function(a){return!a?[]:a.map(function(a){return b("AdsAssetFeedFieldUtils").getAssetFieldStringValue(a,b("AdsAPIAdAssetFeedVideosFields").VIDEO_ID)}).toArray().filter(Boolean)},getVideoThumbnailUrlMap:function(a){var c=new Map();a&&a.forEach(function(a){var d=b("AdsAssetFeedFieldUtils").getAssetFieldStringValue(a,b("AdsAPIAdAssetFeedVideosFields").VIDEO_ID);d!=null&&c.set(d,b("AdsAssetFeedFieldUtils").getAssetFieldStringValue(a,b("AdsAPIAdAssetFeedVideosFields").THUMBNAIL_URL))});return c},getVideoCaptionIDsMap:function(a){__p&&__p();var c=new Map();a&&a.forEach(function(a){var d=b("AdsAssetFeedFieldUtils").getAssetFieldStringValue(a,b("AdsAPIAdAssetFeedVideosFields").VIDEO_ID);if(d!=null){a=a.get(b("AdsAPIAdAssetFeedVideosFields").CAPTION_IDS);a instanceof b("immutable").List&&(a=a.map(String).toArray());Array.isArray(a)||(a=h);c.set(d,a)}});return c},getVideoAssetsSelect:function(a,c,d,e){__p&&__p();if(a.length===0)return b("LoadObject").empty();if(c.some(function(a){return a&&a.loadState!==b("AdsLoadState_LEGACY").LOADED}))return b("LoadObject").loading();a instanceof Array||g(0);a=a.reduce(function(a,b){var f=c.get(b);f&&(a[b]={captionIDs:e.get(b)||[],format:"video",thumbnailUrl:d.get(b),video:f});return a},{});return b("LoadObject").withValue(b("immutable").Map(a))}};e.exports=a}),null);
__d("AdsAssetSelectorsUtils",["AdsImageIDClasses","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsImageIDClasses").AdsImageID;a={compactMap:function(a){var c=b("immutable").Map().asMutable();a.forEach(function(a,b){a!=null&&c.set(b,a)});return c},getImageID:function(a,b,c){if(b!=null)return g.fromAcountAndHash(a,b);else if(c)return g.fromExternalURL(c);return null}};e.exports=a}),null);
__d("AdsImageAssetSelectors",["invariant","AdsAssetSelectorsUtils","AdsImageDimensionStore","AdsImageIDClasses","AdsImageInfoStore","AdsShutterstockImageByIDStore","AdsUEditorAdgroupBulkSelectors","AdsUnifiedCreativeAPIFields","LoadObject","ShutterstockImageUtils","adsCreateMapSelector","adsCreateSelector","adsCreateStoreSelector","immutable"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("AdsImageIDClasses").AdsAccountImageID,i=b("AdsImageIDClasses").AdsExternalImageID,j=b("AdsImageIDClasses").AdsImageID;function k(a,b){if(!b.hasValue())return null;b=b.getValueEnforcing();var c=b.width;b=b.height;return{format:"image",hash:null,name:null,url:a,width:c,height:b}}function l(a,b,c){return!b.hasValue()?null:{format:"image",hash:a,name:c.hasValue()?c.getValueEnforcing():null,url:b.getValueEnforcing().get("url"),width:b.getValueEnforcing().get("width"),height:b.getValueEnforcing().get("height"),isSphericalPhoto:b.getValueEnforcing().get("isSphericalPhoto")}}a=b("adsCreateStoreSelector")([],function(a){return a.assetImageIDs},e.id+".imageAssetIDsSelector");c=b("adsCreateSelector")([a],function(a){return a?Array.from(a.values()):[]},{name:e.id+".imageAssetImageIDSelector"});d=b("adsCreateStoreSelector")([b("AdsShutterstockImageByIDStore")],function(a){if(a instanceof i){a=a.getUrl();if(b("ShutterstockImageUtils").isStockImageURL(a)){a=b("ShutterstockImageUtils").urlToID(a);return b("AdsShutterstockImageByIDStore").get(a)}}return null},e.id+".shutterstockImageSelector");f=b("adsCreateStoreSelector")([b("AdsImageInfoStore")],function(a){return b("AdsImageInfoStore").getFullSize(a)},e.id+".fullSizeImageSelector");b("adsCreateStoreSelector")([b("AdsImageInfoStore")],function(a){return b("AdsImageInfoStore").getFullSizeLegacyImage_DEPRECATED(j.fromSignature(a))},e.id+".legacyImageSelector");var m=b("adsCreateStoreSelector")([b("AdsImageInfoStore")],function(a){return b("AdsImageInfoStore").getName(a)},e.id+".imageNameSelector"),n=b("adsCreateStoreSelector")([b("AdsImageDimensionStore")],function(a){if(a instanceof i){a=a.getUrl();if(!b("ShutterstockImageUtils").isStockImageURL(a))return b("AdsImageDimensionStore").get(a)}return null},e.id+".imageDimensionsSelector"),o=b("adsCreateMapSelector")(c,d,e.id+".shutterstockImageMapSelector");d=b("adsCreateMapSelector")(c,f,e.id+".fullSizeImageMapSelector");f=b("adsCreateMapSelector")(c,m,e.id+".imageNameMapSelector");m=b("adsCreateMapSelector")(c,n,e.id+".imageDimensionsMapSelector");function p(a){return!!a&&(a.isLoading()||a.isEmpty())}c=b("adsCreateStoreSelector")([].concat(o.getStores(),[b("AdsImageDimensionStore")]),function(a){__p&&__p();var c=o(a);if(c.some(p))return b("LoadObject").loading();var d=b("immutable").Map().asMutable();for(var a=a.assetImageIDs.values(),e=Array.isArray(a),f=0,a=e?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=a.length)break;g=a[f++]}else{f=a.next();if(f.done)break;g=f.value}g=g;var h=c.get(g);!h?d.set(g,null):d.set(g,b("AdsImageDimensionStore").get(h.getValueEnforcing().preview_url))}return b("LoadObject").withValue(d.asImmutable())},e.id+".shutterstockImageDimensionsMapSelector");n=b("adsCreateSelector")([a,d,f,m,o,c],function(a,c,d,e,f,j){__p&&__p();if(a==null||a.isEmpty())return b("LoadObject").withValue(null);if(j.isLoading())return b("LoadObject").loading();var m=j.getValueEnforcing();if(c.some(function(a){return a.isLoading()})||d.some(function(a){return a.isLoading()})||e.some(p)||f.some(p)||m.some(p))return b("LoadObject").loading();j=a.map(function(a){__p&&__p();if(a instanceof h){var j=a.getHash(),n=c.get(a),o=d.get(a);return l(j,n,o)}else if(a instanceof i){j=a.getUrl();n=e.get(a);if(b("ShutterstockImageUtils").isStockImageURL(j)){o=f.get(a);o||g(0);o=o.getValueEnforcing();j=o.preview_url;n=m.get(a)}n!=null||g(0);return k(j,n)}else return null});return b("LoadObject").withValue(b("AdsAssetSelectorsUtils").compactMap(j))},{name:e.id+".imageAssetsSelector"});d=b("AdsUEditorAdgroupBulkSelectors").selectorByCreativeField(b("AdsUnifiedCreativeAPIFields").imageHash);e.exports={assetFeedBulkImageHashSelector:d,imageAssetsSelector:n,imageAssetIDsSelector:a}}),null);
__d("AdsUEditorAdgroupImageDCOAssetSelectors",["invariant","AdsAccountStore","AdsAPIAdAssetFeedImagesFields","AdsAssetFeedFieldUtils","AdsAssetSelectorsUtils","AdsImageAssetSelectors","LoadObject","adsCreateSelector","adsCreateStoreSelector","immutable"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=b("AdsImageAssetSelectors").imageAssetsSelector;var h=10;function i(a,c){var d=b("immutable").Map();c!=null&&(d=b("immutable").Map(c.map(function(c,d){return[""+d,b("AdsAssetSelectorsUtils").getImageID(a,b("AdsAssetFeedFieldUtils").getAssetFieldStringValue(c,b("AdsAPIAdAssetFeedImagesFields").HASH),b("AdsAssetFeedFieldUtils").getAssetFieldStringValue(c,b("AdsAPIAdAssetFeedImagesFields").URL))]})));return b("AdsAssetSelectorsUtils").compactMap(d)}function j(a,c){__p&&__p();if(!a||!c)return b("immutable").Map();c.size===a.size||g(0);return c.map(function(c,d){c.format==="image"||g(0);d=parseInt(d,10);d>=0&&d<=h||g(0);a||g(0);d=a.get(d);d=b("AdsAssetFeedFieldUtils").getImageAssetCrops(d);return babelHelpers["extends"]({},c,{crops:d?d.toJS():d})})}var k=b("adsCreateSelector")([a],function(a){return a.map(function(a){if(!a)return b("immutable").Map();var c={};a.forEach(function(a,b){a.format==="image"&&(c[b]=a)});return b("immutable").Map(c)})},{name:e.id+".dcoImageAssetsSelector"});c=b("adsCreateStoreSelector")([].concat(b("AdsAccountStore").getSelectedAccount.getStores(),k.getStores()),function(a){var c=b("AdsAccountStore").getSelectedAccount();c=k({assetImageIDs:i(c.account_id,a)});return c.map(function(b){return j(a,b)})},e.id+".adsUEditorAdgroupDCOImageAssetByIndexSelector");e.exports={adsUEditorAdgroupDCOImageAssetByIndexSelector:c}}),null);
__d("AdsDCOPreviewDialogContainer.react",["invariant","AdsAdgroupCombinedStore","AdsAdgroupDerivedPaths","AdsAdgroupDerivedStore","AdsAPIAdgroupPaths","AdsAssetFeedVideoAssetsUtils","AdsDCOPreviewDialog.react","AdsDCOPreviewUtils","AdsFluxContainer","AdsLoadState_LEGACY","AdsSelectorUtils","AdsUEditorAdgroupImageDCOAssetSelectors","AdsVideoStore","LoadingDialog.react","LoadObject","React","getByPath","immutable"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("AdsUEditorAdgroupImageDCOAssetSelectors").adsUEditorAdgroupDCOImageAssetByIndexSelector,j={mode:"loading"};function k(a){return a.valueSeq().toArray()}h=babelHelpers.inherits(a,b("React").PureComponent);h&&h.prototype;a.getStores=function(a){return[b("AdsAdgroupCombinedStore"),b("AdsAdgroupDerivedStore"),b("AdsVideoStore")].concat(b("AdsSelectorUtils").getStores([i]))};a.getImageAssets=function(a){a=a.getIn(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.IMAGES);a=i(a);return a.isLoading()?b("LoadObject").loading():b("LoadObject").withValue(k(a.getValueEnforcing()))};a.getVideoAssets=function(a){__p&&__p();a=a.getIn(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.VIDEOS);var c=b("AdsAssetFeedVideoAssetsUtils").getVideoAssetIDs(a);a=b("AdsAssetFeedVideoAssetsUtils").getVideoAssetsSelect(c,b("immutable").Map(b("AdsVideoStore").getAll(c)),b("AdsAssetFeedVideoAssetsUtils").getVideoThumbnailUrlMap(a),b("AdsAssetFeedVideoAssetsUtils").getVideoCaptionIDsMap(a));if(a.isLoading())return b("LoadObject").loading();if(a.isEmpty())return b("LoadObject").withValue([]);var d=a.getValueEnforcing();a=c.reduce(function(a,b,c){a[c]=d.get(b);return a},{});c=k(b("immutable").Map(a));return b("LoadObject").withValue(c)};a.calculateState=function(a,c){__p&&__p();a=!1;var d=b("AdsAdgroupCombinedStore").getRecord(c.adgroupID),e=null,f=null,h=null;if(d.isLoading())a=!0;else{e=b("AdsDCOPreviewUtils").normalizeAdgroupForPreview(d.getValueEnforcing());d=this.getImageAssets(e);d.isLoading()?a=!0:f=d.getValueEnforcing();d=this.getVideoAssets(e);d.isLoading()?a=!0:h=d.getValueEnforcing()}d=null;c=b("AdsAdgroupDerivedStore").get(c.adgroupID);c.loadState===b("AdsLoadState_LEGACY").LOADING?a=!0:d=b("getByPath")(c,b("AdsAdgroupDerivedPaths").OBJECTIVE);if(a)return j;else{e!=null&&h!=null&&f!=null&&d!=null||g(0);return{adgroup:e,imageAssets:f,mode:"shown",objective:d,videoAssets:h}}};a.prototype.render=function(){return this.state.mode==="loading"?b("React").createElement(b("LoadingDialog.react"),null):b("React").createElement(b("AdsDCOPreviewDialog.react"),{fullAssetsAdgroup:this.state.adgroup,imageAssets:this.state.imageAssets,objective:this.state.objective,videoAssets:this.state.videoAssets,onHide:this.props.onHide})};function a(){h.apply(this,arguments)}e.exports=b("AdsFluxContainer").create(a,{withProps:!0,name:e.id+".exports"})}),null);
__d("AdsPreviewTypes",["keyMirror"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirror")({AUTO_CAROUSEL:null,DYNAMIC_LOCAL_ADS:null,DYNAMIC_LOCAL_ADS_WITH_PRODUCT:null,DYNAMIC_PRODUCT:null,STANDARD:null});e.exports=a}),null);
__d("AdsPreviewV2Utils",["AdsAdgroupImageMutators","AdsAPIAdgroupPaths","AdsAPICampaignGroupRecordUtils","AdsAPICampaignPaths","AdsAPIObjectives","AdsAppUtils","AdsAssetFeedUtils","AdsCampaignUtils","AdsDynamicPreviewItemTypes","AdsLocalUtils","AdsPlacementEligibilityInfoUtils","AdsPreviewsPlugins","AdsPreviewTypes","AdsUEditorAdgroupSpecPathPluginAdObjectsUtils","AdsUnifiedCreativeAPIFields","ApiAdCreativeFields","ApiAdCreativeStorySpecFields","FBJSON","getByPath","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ApiAdCreativeFields").OBJECT_STORY_SPEC,h=b("ApiAdCreativeFields").PRODUCT_SET_ID,i=b("ApiAdCreativeStorySpecFields").TEMPLATE_DATA,j="NEW_ADGROUP_ID";function a(a){return a.includes(j)}function k(a,c,d,e){__p&&__p();d=b("AdsCampaignUtils").getPromotedObjectType(c,d);var f=b("AdsPreviewTypes").STANDARD;if(!c)return l(b("AdsPreviewTypes").STANDARD);switch(c){case b("AdsAPIObjectives").PRODUCT_CATALOG_SALES:f=b("getByPath")(a,[g,i])?b("AdsPreviewTypes").DYNAMIC_PRODUCT:b("AdsPreviewTypes").STANDARD;break;case b("AdsAPIObjectives").APP_INSTALLS:case b("AdsAPIObjectives").MOBILE_APP_INSTALLS:case b("AdsAPIObjectives").CONVERSIONS:case b("AdsAPIObjectives").LINK_CLICKS:case b("AdsAPIObjectives").LEAD_GENERATION:if(c===b("AdsAPIObjectives").APP_INSTALLS&&!b("AdsAppUtils").isMobileAppInstall(c,d))break;d=b("getByPath")(a,[g,i]);f=d&&!b("AdsAssetFeedUtils").isCreativeWithAssetFeed(a)?b("AdsPreviewTypes").DYNAMIC_PRODUCT:b("AdsPreviewTypes").STANDARD;break;case b("AdsLocalUtils").isLocalObjectiveSwitch(c):if(!e){f=b("AdsPreviewTypes").STANDARD;break}d=a[h];f=d?b("AdsPreviewTypes").DYNAMIC_LOCAL_ADS_WITH_PRODUCT:b("AdsPreviewTypes").DYNAMIC_LOCAL_ADS;break}return l(f)}function l(a){switch(a){case b("AdsPreviewTypes").STANDARD:return b("AdsDynamicPreviewItemTypes").NONE;case b("AdsPreviewTypes").AUTO_CAROUSEL:return b("AdsDynamicPreviewItemTypes").AUTO_CAROUSEL;case b("AdsPreviewTypes").DYNAMIC_LOCAL_ADS:return b("AdsDynamicPreviewItemTypes").LOCATION;case b("AdsPreviewTypes").DYNAMIC_LOCAL_ADS_WITH_PRODUCT:return b("AdsDynamicPreviewItemTypes").LOCATION_AND_PRODUCT;case b("AdsPreviewTypes").DYNAMIC_PRODUCT:return b("AdsDynamicPreviewItemTypes").PRODUCT;default:return b("AdsDynamicPreviewItemTypes").NONE}}function c(a,c,d,e){if(a==null||e==null||c==null||d==null)return null;d=d.buying_type;var f=c.getIn(b("AdsAPICampaignPaths").PROMOTED_OBJECT.OBJECT_STORE_URL);c=b("AdsPlacementEligibilityInfoUtils").buildEligibilityInformationFromCampaignSpec(c,d,a,e,[],f);d=b("AdsPlacementEligibilityInfoUtils").getPreviews(c).toJS();a=b("AdsPreviewsPlugins").keys(d).getList();return b("immutable").OrderedMap(a.map(function(a){return[a.apiFormat,a]}))}function m(a){return a===b("AdsAPIObjectives").STORE_VISITS}function d(a,c,d){return d.creative?k(d.creative.toJS(),b("AdsAPICampaignGroupRecordUtils").getObjective(a),c,b("AdsAPICampaignGroupRecordUtils").getPromotedObjectPageID(a)):b("AdsDynamicPreviewItemTypes").NONE}function f(a,c,d){a=b("AdsAPICampaignGroupRecordUtils").getObjective(a);if(!m(a))return undefined;a=b("AdsCampaignUtils").getPlacePageSetID(c);c=b("AdsCampaignUtils").getTargetingApiSpec(c);return a?d(b("FBJSON").stringify({targeting:c,placePageSetID:a})):undefined}function n(a,c,d){a=b("AdsUEditorAdgroupSpecPathPluginAdObjectsUtils").getAdgroupSpecPathPlugin({campaignGroup:a,campaign:c,adgroup:d});c=b("AdsUnifiedCreativeAPIFields").pageWelcomeMessage.getPath(d,a);c&&(d=d.deleteIn(c));c=!!((a=d.creative)==null?void 0:a.object_story_spec);c&&(d=d.deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_ID).deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.INSTAGRAM_STORY_ID));d=b("AdsAdgroupImageMutators").removeRedundantImageURL(d);c=!!((a=d.creative)==null?void 0:a.asset_feed_spec);d=c?d.deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_ID):d;return d}e.exports={getDynamicPreviewItemTypeForPreviewType:l,getDynamicPreviewItemTypeFromAdgroupSpec:k,getDynamicPreviewItemTypeFromAdObjects:d,getPlacePageIDs:f,getPreviewPlugins:c,isAdBeingCreated:a,needsPlacePageID:m,cleanAdgroupForPreview:n}}),null);
__d("AdsDCOPreviewPanelContainer.react",["AdsAccountStore","AdsAdgroupPreviewsV2Container.react","AdsAssetFeedUtils","AdsCampaignCombinedStore","AdsCampaignGroupCombinedStore","AdsDynamicPreviewItemTypes","AdsFluxContainer","AdsPreviewV2Utils","FDSSpinner.react","React","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=618,i=524,j={mode:"loading"};g=babelHelpers.inherits(a,b("React").Component);g&&g.prototype;a.getStores=function(a){return[b("AdsAccountStore"),b("AdsCampaignCombinedStore"),b("AdsCampaignGroupCombinedStore")]};a.calculateState=function(a,c){__p&&__p();a=b("AdsAccountStore").getSelectedAccount();var d=a.capabilities;a=a.account_id;c=c.adgroup.adset_id;c=b("AdsCampaignCombinedStore").getRecord(c);if(c.isLoading())return j;c=c.getValueEnforcing();var e=c.campaign_id;e=b("AdsCampaignGroupCombinedStore").getRecord(e);if(e.isLoading())return j;e=e.getValueEnforcing();return{accountCapabilities:d,accountID:a,campaign:c,campaignGroup:e,mode:"shown",objective:e.objective}};a.prototype.render=function(){var a=this.state;if(a.mode==="loading")return b("React").createElement(b("FDSSpinner.react"),{size:"small"});var c=b("AdsPreviewV2Utils").getPreviewPlugins(a.accountCapabilities,a.campaign,a.campaignGroup,a.objective)||b("immutable").OrderedMap(),d=b("AdsAssetFeedUtils").hasCarouselFormat(this.props.adgroup);c={adgroupIndex:-1,adgroupSpec:this.props.adgroup,dynamicPreviewItemType:b("AdsDynamicPreviewItemTypes").NONE,campaign:a.campaign,objective:a.objective,previewPlugins:c,shouldRenderExternalLinksSection:!1,shouldRenderPreviewByID:!1,useDCOPreviewEntry:!1,isDCOPreviewWithFixedIndex:d};return b("React").createElement(b("AdsAdgroupPreviewsV2Container.react"),{accountCapabilities:a.accountCapabilities,accountID:a.accountID,customContainerHeight:h,dynamicPreviewItemType:b("AdsDynamicPreviewItemTypes").NONE,previewSpec:c,width:i})};function a(){g.apply(this,arguments)}e.exports=b("AdsFluxContainer").create(a,{withProps:!0,name:e.id+".exports"})}),null);
__d("AdsBulkMultiProductAdUtils",["AdsAPIAdgroupPaths","AdsAPIObjectives","AdsBrandAwarenessUtils","AdsBulkValueTypesConfig","AdsBulkValueUtils","AdsChildAttachmentsUtils","AdsEmptyValue","AdsLinkPostFormat","AdsLocalUtils","AdsPromotedObjectTypes","AdsUniformValue","getBulkByPath"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g={isStaticAndDynamicCarousel:function(a){var c=!1;a=b("getBulkByPath")(a,b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.TEMPLATE_DATA.CHILD_ATTACHMENTS);a instanceof b("AdsUniformValue")&&(a=a.getValue(),c=b("AdsChildAttachmentsUtils").isStaticAndDynamicCarouselChildAttachments(a));return c},isMultiProductCreative:function(a){a=b("getBulkByPath")(a,b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.CHILD_ATTACHMENTS.slice(1));return!!a&&!(a instanceof b("AdsEmptyValue"))},isMultiProduct:function(a){return!(a instanceof b("AdsUniformValue")&&(a.getValue()===b("AdsLinkPostFormat").SINGLE||a.getValue()===b("AdsLinkPostFormat").COLLECTIONS))},isNonLinkVideoCarouselEligible:function(a){return!(a instanceof b("AdsUniformValue"))?!1:a.getValue()===b("AdsAPIObjectives").VIDEO_VIEWS},isVideoCarouselEligible:function(a,c,d){if(!(a instanceof b("AdsUniformValue")))return!1;if(d)return!1;d=a.getValue();a=d===b("AdsAPIObjectives").APP_INSTALLS&&c instanceof b("AdsUniformValue")&&c.getValue()===b("AdsPromotedObjectTypes").MOBILE_APP;return a||d===b("AdsAPIObjectives").MOBILE_APP_ENGAGEMENT||d===b("AdsAPIObjectives").MOBILE_APP_INSTALLS||d===b("AdsAPIObjectives").LINK_CLICKS||d===b("AdsAPIObjectives").CONVERSIONS||b("AdsBrandAwarenessUtils").isBrandObjective(d)||b("AdsLocalUtils").isLocalObjective(d)||d===b("AdsAPIObjectives").LEAD_GENERATION||d===b("AdsAPIObjectives").MESSAGES},isMediaSelectorFirst:function(){return!0},getLinkPostFormat:function(a){a=b("getBulkByPath")(a,b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.CHILD_ATTACHMENTS)||b("AdsEmptyValue").instance();var c;if(a instanceof b("AdsEmptyValue"))c=[b("AdsLinkPostFormat").SINGLE];else{a=a.getValues();c=a.map(function(a){return a?b("AdsLinkPostFormat").MULTIPLE:b("AdsLinkPostFormat").SINGLE})}return b("AdsBulkValueUtils").aggregate(c)},getIsChildlessCarousel:function(a){var c=b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.TEMPLATE_DATA;a=b("getBulkByPath")(a,c.FORCE_SINGLE_LINK)||b("AdsEmptyValue").instance();c=a instanceof b("AdsEmptyValue")?[!0]:a.getValues().map(function(a){return!a});return b("AdsBulkValueUtils").aggregate(c)},getTemplatePostFormat:function(a){var c=g.getIsChildlessCarousel(a);a=b("getBulkByPath")(a,b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.TEMPLATE_DATA.CHILD_ATTACHMENTS)||b("AdsEmptyValue").instance();if(b("AdsBulkValueUtils").getUniformValue(c)===!1&&a instanceof b("AdsEmptyValue"))return new(b("AdsUniformValue"))(b("AdsLinkPostFormat").SINGLE);var d=Math.max(c.getValues().length,a.getValues().length),e=[];for(var f=0;f<d;f++)c.getValueForIndex(f)||a.getValueForIndex(f)?e.push(b("AdsLinkPostFormat").MULTIPLE):e.push(b("AdsLinkPostFormat").SINGLE);return b("AdsBulkValueUtils").aggregate(e)},getChildAttachments:function(a){__p&&__p();var c=[];a=b("getBulkByPath")(a,b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.CHILD_ATTACHMENTS)||b("AdsEmptyValue").instance();if(a instanceof b("AdsEmptyValue"))return null;a=a.getValues();var d,e=a[0]instanceof Array?a[0].length:0;if(!e)return null;for(d=1;d<a.length;d++)if(!(a[d]instanceof Array)||e!=a[d].length)return null;var f={link:b("AdsBulkValueTypesConfig").EMPTY_UNIFORM_MIXED,name:b("AdsBulkValueTypesConfig").EMPTY_UNIFORM_MIXED,description:b("AdsBulkValueTypesConfig").EMPTY_UNIFORM_MIXED,picture:b("AdsBulkValueTypesConfig").EMPTY_UNIFORM_MIXED,image_hash:b("AdsBulkValueTypesConfig").EMPTY_UNIFORM_MIXED,image_crops:b("AdsBulkValueTypesConfig").EMPTY_UNIFORM_MIXED,video_id:b("AdsBulkValueTypesConfig").EMPTY_UNIFORM_MIXED,call_to_action:{type:b("AdsBulkValueTypesConfig").EMPTY_UNIFORM_MIXED,value:{app_link:b("AdsBulkValueTypesConfig").EMPTY_UNIFORM_MIXED,link:b("AdsBulkValueTypesConfig").EMPTY_UNIFORM_MIXED,link_title:b("AdsBulkValueTypesConfig").EMPTY_UNIFORM_MIXED,product_link:b("AdsBulkValueTypesConfig").EMPTY_UNIFORM_MIXED}}};for(d=0;d<e;d++){var g=b("AdsBulkValueUtils").aggregateDeep(f,a.map(function(a){return a[d]}));c.push(g)}return c}};e.exports=g}),null);
__d("AdsPreviewTypeUtils",["AdsAdgroupDerivedPaths","AdsAPIAdgroupPaths","AdsAPIObjectives","AdsBulkMultiProductAdUtils","AdsBulkValueUtils","AdsEmptyValue","AdsLocalUtils","AdsPreviewTypes","AdsWebsiteAdUtils","getBulkByPath","getByPath"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={fromAdgroupSpec:function(a,c){__p&&__p();var d;c=b("AdsBulkValueUtils").cleanBulkSpec(c);var e=b("getByPath")(a,b("AdsAdgroupDerivedPaths").OBJECTIVE);if(b("AdsWebsiteAdUtils").isWebsiteObjective(e)&&b("AdsBulkMultiProductAdUtils").isStaticAndDynamicCarousel(c))return b("AdsPreviewTypes").AUTO_CAROUSEL;switch(e){case b("AdsAPIObjectives").PRODUCT_CATALOG_SALES:return b("AdsPreviewTypes").DYNAMIC_PRODUCT;case b("AdsAPIObjectives").APP_INSTALLS:case b("AdsAPIObjectives").MOBILE_APP_INSTALLS:d=(d=c)==null?void 0:(d=d.creative)==null?void 0:(d=d.object_story_spec)==null?void 0:d.template_data;return d?b("AdsPreviewTypes").DYNAMIC_PRODUCT:b("AdsPreviewTypes").STANDARD;case b("AdsLocalUtils").isLocalObjectiveSwitch(e):d=b("getByPath")(a,b("AdsAdgroupDerivedPaths").L3_PROMOTED_PAGE_ID);if(!d)return b("AdsPreviewTypes").STANDARD;e=b("getBulkByPath")(c,b("AdsAPIAdgroupPaths").CREATIVE.PRODUCT_SET_ID);return e&&!(e instanceof b("AdsEmptyValue"))?b("AdsPreviewTypes").DYNAMIC_LOCAL_ADS_WITH_PRODUCT:b("AdsPreviewTypes").DYNAMIC_LOCAL_ADS;default:return b("AdsPreviewTypes").STANDARD}}};e.exports=a}),null);
__d("AdsAdgroupSharedPreviewsV2.react",["AdsAdgroupPreviewsV2.react","AdsAPICampaignGroupPaths","AdsCampaignUtils","AdsPreviewsV2Constants","AdsPreviewTypeUtils","AdsPreviewV2Utils","React","emptyFunction","getByPath","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=babelHelpers.inherits(a,b("React").Component);g=c&&c.prototype;function a(a){g.constructor.call(this,a);this.$2=function(a,b,c,d){b!==this.state.formatIndex&&this.setState({formatIndex:b})}.bind(this);var c=a.pluginResolver.resolve({accountType:a.accountType,objective:a.objective,promotedObjectType:b("AdsCampaignUtils").getPromotedObjectType(a.objective,a.campaign)}),d=b("AdsPreviewV2Utils").getPreviewPlugins(a.adAccountSpec.capabilities,a.campaign,a.campaignGroup,a.objective)||b("immutable").OrderedMap();a=this.$1(a.campaignGroup);this.state={adgroupDerivedSpec:a,adgroupSpecPathPlugin:c,formatIndex:0,previewPlugins:d}}a.prototype.render=function(){var a=b("AdsPreviewTypeUtils").fromAdgroupSpec(this.state.adgroupDerivedSpec,this.props.adgroupSpec);a=b("AdsPreviewV2Utils").getDynamicPreviewItemTypeForPreviewType(a);a={adgroupIndex:0,adgroupSpec:this.props.adgroupSpec,campaign:this.props.campaign,dynamicPreviewItemType:a,isShared:!0,objective:this.props.objective,previewPlugins:this.state.previewPlugins,shouldRenderPreviewByID:!0};return b("React").createElement(b("AdsAdgroupPreviewsV2.react"),{accountCapabilities:this.props.adgroupSpec.capabilities,accountID:this.props.accountID,adgroupSpecPathPlugin:this.state.adgroupSpecPathPlugin,customContainerHeight:b("AdsPreviewsV2Constants").DEFAULT_PREVIEWS_HEIGHT-b("AdsPreviewsV2Constants").HEADER_HEIGHT,formatIndex:this.state.formatIndex,previewSpec:a,renderAlternatePreview:b("emptyFunction"),setPreviewFormatsForAdgroup:b("emptyFunction"),shouldRenderDesktopExLinks:!1,shouldRenderMobileExLinks:!1,width:b("AdsPreviewsV2Constants").DEFAULT_PREVIEWS_WIDTH,onAdFormatIndexChange:this.$2})};a.prototype.$1=function(a){var c=b("getByPath")(a,b("AdsAPICampaignGroupPaths").PROMOTED_OBJECT.PAGE_ID);a=a.objective;return{l3PromotedPageID:c,objective:a}};e.exports=a}),null);
__d("AdsSharedPreviewV2Bootstrapper",["AdsAdgroupSharedPreviewsV2.react","AdsAdgroupSpecPathPluginResolver","AdsAPICampaignGroupRecord","AdsAPICampaignRecord","ReactRenderer"],(function(a,b,c,d,e,f){"use strict";a={init:function(a,c){var d=new(b("AdsAPICampaignRecord"))(a.campaignSpec),e=new(b("AdsAPICampaignGroupRecord"))(a.campaignGroupSpec);d={accountID:a.accountID,accountType:a.accountType,adAccountSpec:a.adAccountSpec,adgroupSpec:a.adgroupSpec,campaign:d,campaignGroup:e,objective:a.objective,pluginResolver:b("AdsAdgroupSpecPathPluginResolver")};b("ReactRenderer").constructAndRenderComponentAcrossTransitions(b("AdsAdgroupSharedPreviewsV2.react"),d,c)}};e.exports=a}),null);