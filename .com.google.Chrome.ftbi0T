if (self.CavalryLogger) { CavalryLogger.start_js(["eoalU"]); }

__d("BLRouting",["EventListener","HistoryManager","Run","URI"],(function(a,b,c,d,e,f){"use strict";a=function(a,c){var d=a.addListener(function(){var c=a.getURI().toString(),d=new(b("URI"))(window.location.href).getUnqualifiedURI().toString();c!==d&&b("HistoryManager").go(c,!1,!1)}),e=b("EventListener").listen(window,"popstate",c);b("Run").onLeave(function(){d.remove(),e.remove()})};e.exports={init:a}}),null);
__d("AdsNotAvailable.react",["cx","React","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";var h;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.render=function(){return b("React").createElement("div",babelHelpers["extends"]({},this.props,{className:b("joinClasses")("_1s03",this.props.className)}),"\u2014")};function a(){h.apply(this,arguments)}e.exports=a}),null);
__d("AdsPageLatLongEditor.react",["cx","fbt","ix","FBOverlayElement.react","FBTilesMap.react","FBTilesMapZoomOverlay.react","GeoCoordinates","Image.react","LeafletMarker.react","LeafletUtils","LeafletView","React","TilesMapConfig","XUIButton.react","leaflet"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j;c=b("React").PropTypes;d=b("React").Component;var k=200,l=[b("TilesMapConfig").ZOOM_RANGE.MIN,b("TilesMapConfig").ZOOM_RANGE.MAX],m=b("leaflet").divIcon({className:"_5ek8",iconSize:[24,32],iconAnchor:[12,32]}),n={boxZoom:!1,doubleClickZoom:!0,dragging:!0,scrollWheelZoom:!1,touchZoom:!0,zoomControl:!1},o={boxZoom:!1,doubleClickZoom:!1,dragging:!1,scrollWheelZoom:!1,touchZoom:!1,zoomControl:!1},p=b("React").createElement(b("Image.react"),{src:i("22149"),width:"12"}),q=new(b("LeafletView"))({center:new(b("GeoCoordinates"))(27,9),zoom:1});function r(a,c,d){if(!a||!c)return q;a=b("LeafletUtils").circleBounds(b("LeafletUtils").toLatLng(a),k);a=b("LeafletUtils").fitBounds(a,{width:c.x,height:c.y},{zoomRange:l});return d!=null?a.setZoom(d):a}f=babelHelpers.inherits(a,d);j=f&&f.prototype;function a(a){__p&&__p();j.constructor.call(this,a),this.$6=function(){var a=this.state.view;a.zoom<l[1]&&this.$2(a.setZoom(a.zoom+1))}.bind(this),this.$7=function(){var a=this.state.view;a.zoom>l[0]&&this.$2(a.setZoom(a.zoom-1))}.bind(this),this.$8=function(){this.setState({view:r(this.props.coordinates,this.state.mapSize,null)})}.bind(this),this.$1=function(a){this.state.mapSize||this.setState({mapSize:a,view:r(this.props.coordinates,a,null)})}.bind(this),this.$2=function(a){this.props.coordinates&&a.center.nearlyEquals(this.props.coordinates)&&(a=new(b("LeafletView"))({center:this.props.coordinates,zoom:a.zoom})),this.setState({view:a})}.bind(this),this.$5=function(a){var c=this.props.onChange;if(c){a=a.target.getLatLng();c(b("LeafletUtils").fromLatLng(a))}}.bind(this),this.state={mapSize:null,view:r(a.coordinates,null,null)}}a.prototype.UNSAFE_componentWillReceiveProps=function(a){var b=this.props.coordinates;a=a.coordinates;if(a!==b&&(b==null||a==null||!b.nearlyEquals(a))){b=r(a,this.state.mapSize,this.props.shouldResetZoomOnChange?null:this.state.view.zoom);this.setState({view:b})}};a.prototype.render=function(){return b("React").createElement(b("FBTilesMap.react"),{className:this.props.className,options:this.props.coordinates?n:o,showZoomControls:!1,style:this.props.style,view:this.state.view,onSizeSettled:this.$1,onViewChange:this.$2},this.$3(),this.$4())};a.prototype.$3=function(){return!this.props.coordinates?null:b("React").createElement(b("LeafletMarker.react"),{coordinates:this.props.coordinates,eventHandlers:{dragend:this.$5},options:{icon:m,draggable:!this.props.disabled&&!!this.props.onChange}})};a.prototype.$4=function(){if(!this.props.coordinates)return null;var a=this.state.view.zoom<l[1]?this.$6:undefined,c=this.state.view.zoom>l[0]?this.$7:undefined;return b("React").createElement(b("FBOverlayElement.react"),{horizontal:"right",key:"zoomControls",vertical:"top"},b("React").createElement("div",null,b("React").createElement(b("FBTilesMapZoomOverlay.react"),{className:"_3-8j",onZoomIn:a,onZoomOut:c}),b("React").createElement("div",{className:"_qh4"},b("React").createElement(b("XUIButton.react"),{className:"_qh5",image:p,label:h._("Zoom To Fit"),labelIsHidden:!0,type:"button",onClick:this.$8}))))};a.defaultProps={disabled:!1,shouldResetZoomOnChange:!0};a.propTypes={className:c.string,coordinates:c.instanceOf(b("GeoCoordinates")),disabled:c.bool.isRequired,shouldResetZoomOnChange:c.bool.isRequired,style:c.object,onChange:c.func.isRequired};e.exports=a}),null);
__d("AdsGeoPlaceDataLoader",["Promise","AdsGraphAPI","GeoCoordinates","GeoPlace","cachedGraphAPI"],(function(a,b,c,d,e,f){"use strict";var g=b("cachedGraphAPI")(b("AdsGraphAPI").get(e.id).root("ads_geo_coding")).cacheFor(60);a={get:function(a){return!a.city||!a.street?b("Promise").reject(new Error("address has no city or street address")):g.get({address:a.street+", "+a.zip+", "+a.city.name,city_id:parseInt(a.city.key,10),zip:a.zip||" "}).then(function(a){if(!a.data||!a.data[0])throw new Error("no data available");a=a.data[0];return new(b("GeoPlace"))(new(b("GeoCoordinates"))(a.latitude,a.longitude),a.normalized_address,a.country.key)})}};e.exports=a}),null);
__d("City",["ImmutableObject"],(function(a,b,c,d,e,f){"use strict";var g;c=babelHelpers.inherits(a,b("ImmutableObject"));g=c&&c.prototype;function a(a,b){g.constructor.call(this,{key:a,name:b})}a.prototype.valueOf=function(){return this.key};e.exports=a}),null);
__d("SimpleAddress",["immutable"],(function(a,b,c,d,e,f){"use strict";var g;c=b("immutable").Record({street:"",city:null,zip:""});g=babelHelpers.inherits(a,c);g&&g.prototype;function a(){g.apply(this,arguments)}e.exports=a}),null);
__d("BusinessLocation",["City","GeoCoordinates","SimpleAddress"],(function(a,b,c,d,e,f){__p&&__p();var g;function h(a,b){return a===null||a===undefined?b:a}function i(a){a===void 0&&(a={}),this.street=a.street,this.latitude=a.latitude,this.longitude=a.longitude,this.city_id=a.city_id,this.city=a.city,this.region=a.region,this.country_code=a.country_code,this.zip=a.zip,this.single_line_address=a.single_line_address,this.simpleAddress=new(b("SimpleAddress"))({street:this.street||"",city:this.city_id&&this.city?new(b("City"))(""+this.city_id,this.city):undefined,zip:this.zip||""}),this.latitude!=undefined&&this.longitude!==undefined&&(this.geoCoordinates=new(b("GeoCoordinates"))(this.latitude,this.longitude))}i.prototype.setStreet=function(a){"use strict";return new i(babelHelpers["extends"]({},this,{street:a}))};i.prototype.setCity=function(a){"use strict";return new i(babelHelpers["extends"]({},this,{city:a?a.name:undefined,city_id:a?+a.key:undefined}))};i.prototype.setZip=function(a){"use strict";return new i(babelHelpers["extends"]({},this,{zip:a}))};i.prototype.clearLatLong=function(){"use strict";return new i(babelHelpers["extends"]({},this,{latitude:undefined,longitude:undefined}))};i.prototype.setLatLong=function(a){"use strict";return new i(babelHelpers["extends"]({},this,{latitude:a.latitude,longitude:a.longitude}))};i.prototype.setGeoCodedData=function(a){"use strict";return new i(babelHelpers["extends"]({},this,{latitude:a.coordinates.latitude,longitude:a.coordinates.longitude,country_code:a.countryKey||undefined,single_line_address:a.name||undefined}))};function j(a){"use strict";this.street=a.street,this.latitude=a.latitude,this.longitude=a.longitude,this.city_id=a.city_id,this.city=a.city,this.region=a.region,this.country_code=a.country_code,this.zip=a.zip,this.single_line_address=a.single_line_address}j.prototype.toEditable=function(){"use strict";return new i({street:this.street,latitude:this.latitude,longitude:this.longitude,city_id:this.city_id,city:this.city,region:this.region,country_code:this.country_code,zip:this.zip,single_line_address:this.single_line_address})};function k(a){"use strict";this.name=a.name,this.store_number=h(a.store_number,"").toString(),this.geo_location=a.geo_location instanceof i?a.geo_location:new i(a.geo_location),this.place_topics=h(a.place_topics,[]),this.phone=h(a.phone,""),this.always_open=h(a.always_open,!0),this.permanently_closed=h(a.permanently_closed,!1),this.hours=a.hours,this.price_range=a.price_range||"Unspecified",this.page_username=h(a.page_username,""),this.is_published=h(a.is_published,!0),this.website=h(a.website,""),this.store_location_descriptor=h(a.store_location_descriptor,""),this.is_review_eligible=a.is_review_eligible,this.is_eligible_for_store_visit_reporting=h(a.is_eligible_for_store_visit_reporting,!1),this.wifi_information_name=a.wifi_information_name}k.prototype.setStoreNumber=function(a){"use strict";return new k(babelHelpers["extends"]({},this,{store_number:a}))};k.prototype.setGeoLocation=function(a){"use strict";return new k(babelHelpers["extends"]({},this,{geo_location:a}))};k.prototype.addPlaceTopic=function(a){"use strict";return new k(babelHelpers["extends"]({},this,{place_topics:this.place_topics.concat(a)}))};k.prototype.removePlaceTopic=function(a){"use strict";return new k(babelHelpers["extends"]({},this,{place_topics:this.place_topics.filter(function(b){return b.id!==a.id})}))};k.prototype.setPhone=function(a){"use strict";return new k(babelHelpers["extends"]({},this,{phone:a}))};k.prototype.setBusinessHours=function(a){"use strict";return new k(babelHelpers["extends"]({},this,a))};k.prototype.setPriceRange=function(a){"use strict";return new k(babelHelpers["extends"]({},this,{price_range:a}))};k.prototype.setUsername=function(a){"use strict";return new k(babelHelpers["extends"]({},this,{page_username:a}))};k.prototype.setStoreLocationDescriptor=function(a){"use strict";return new k(babelHelpers["extends"]({},this,{store_location_descriptor:a}))};function a(a){"use strict";this.name=a.name,this.store_number=a.store_number,this.geo_location=new j(a.geo_location),this.place_topics=a.place_topics,this.phone=a.phone,this.always_open=a.always_open,this.permanently_closed=a.permanently_closed,this.hours=a.hours,this.price_range=a.price_range,this.page_username=a.page_username,this.is_published=a.is_published,this.is_visible_only_in_ads=a.is_visible_only_in_ads,this.website=a.website,this.store_location_descriptor=a.store_location_descriptor,this.is_review_eligible=a.is_review_eligible,this.can_others_add_photos_and_videos=a.can_others_add_photos_and_videos,this.can_others_message=a.can_others_message,this.can_others_post=a.can_others_post,this.is_eligible_for_store_visit_reporting=a.is_eligible_for_store_visit_reporting,this.name_with_location_descriptor=a.name_with_location_descriptor,this.userpermissions=a.userpermissions,this.wifi_information_name=a.wifi_information_name}a.prototype.toEditable=function(){"use strict";return new k({name:this.name,store_number:this.store_number,geo_location:this.geo_location.toEditable(),place_topics:this.place_topics,phone:this.phone,always_open:this.always_open,permanently_closed:this.permanently_closed,hours:this.hours,price_range:this.price_range,page_username:this.page_username,is_published:this.is_published,store_location_descriptor:this.store_location_descriptor,is_review_eligible:this.is_review_eligible,is_eligible_for_store_visit_reporting:this.is_eligible_for_store_visit_reporting,userpermissions:this.userpermissions,wifi_information_name:this.wifi_information_name})};a.prototype.withID=function(a){"use strict";return new l(babelHelpers["extends"]({},this,{id:a}))};c=babelHelpers.inherits(l,a);g=c&&c.prototype;function l(a){"use strict";g.constructor.call(this,a),this.id=a.id}e.exports={BusinessLocation:l,EditableBusinessLocation:k,EditableGeoLocation:i,GeoLocation:j}}),null);
__d("LMActions",["AdsDataAtom"],(function(a,b,c,d,e,f){"use strict";a={dispatchActionFromServerResponse:function(a){b("AdsDataAtom").handleUpdateFromServerResponse(a)},dispatchActionFromView:function(a){b("AdsDataAtom").handleUpdateFromViewAction(a)}};e.exports=a}),null);
__d("LMEnvironment",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({BUSINESS:"business",INTERN:"intern",PAGE_SETTINGS:"settings"})}),null);
__d("LMSidebarItemIDs",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({KEYBOARD_SHORTCUTS:"keyboard_shortcuts",PAGE_NAMING:"page_naming",PARENT_PAGE_SETTINGS:"parent_page_settings"})}),null);
__d("LMTabs",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({LOCATIONS:"locations",SETTINGS:"settings"})}),null);
__d("LMUtils",["AdsLoadState_LEGACY","LoadObject","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){return!a.page_is_not_parent_already.passes}function c(a){return Object.keys(a).every(function(b){return a[b].passes})}function d(a){if(a.hasError())return b("AdsLoadState_LEGACY").ERROR;if(a.isLoading())return b("AdsLoadState_LEGACY").LOADING;return a.hasValue()?b("AdsLoadState_LEGACY").LOADED:b("AdsLoadState_LEGACY").NOT_LOADED}function f(a,c,d){__p&&__p();if(c instanceof Error){var e=c;return b("immutable").Map(a.map(function(a){return[a,e]}))}var f=c;return b("immutable").Map().withMutations(function(b){__p&&__p();for(var c=a,e=Array.isArray(c),g=0,c=e?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(e){if(g>=c.length)break;h=c[g++]}else{g=c.next();if(g.done)break;h=g.value}h=h;Object.prototype.hasOwnProperty.call(f,h)?b.set(h,f[h]):b.set(h,d(h))}})}function g(a,b,c){for(var d=0;d<b.length;d++)if(b[d]===a)return a;return c}function h(a){var b=a;for(var c=arguments.length,d=new Array(c>1?c-1:0),e=1;e<c;e++)d[e-1]=arguments[e];for(var f=0;f<d.length;f++){var g=d[f];b=g(b)}return b}function i(a){var b=a.location;return b==null?!1:Object.keys(b).some(function(a){return b[a]!=null})}e.exports={castEnum:g,chainReducers:h,getSearchState:d,hasPagePlace:i,isPageAlreadyParentPage:a,isPageEligibleForWhitelist:c,processMultigetResponse:f}}),null);
__d("LMConfigStore",["AdsDataAtom","FluxReduceStore","LMEnvironment","LMSidebarItemIDs","LMTabs","LMUtils","URI"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("LMUtils").castEnum,i={sidebarItemID:null,businessID:null,environment:b("LMEnvironment").BUSINESS,parentPageID:null,tab:"locations",pagesEligibleForLocations:[],pagesWithLocations:[]},j=Object.values(b("LMTabs")),k=Object.values(b("LMSidebarItemIDs")),l=(c={},c[b("LMEnvironment").BUSINESS]="page_id",c[b("LMEnvironment").INTERN]="id",c[b("LMEnvironment").PAGE_SETTINGS]=null,c);function m(a){a=a.environment;return l[a]}function n(a,c){var d=m(a);if(d==null)return a;c=c.getQueryData();d=c[d];var e=h(c.tab,j,b("LMTabs").LOCATIONS);c=h(c.sidebar_item_id,k,null);return babelHelpers["extends"]({},a,{sidebarItemID:c,parentPageID:d,tab:e})}g=babelHelpers.inherits(a,b("FluxReduceStore"));g&&g.prototype;a.prototype.getInitialState=function(){return n(i,b("URI").getMostRecentURI())};a.prototype.reduce=function(a,b){__p&&__p();b=b.action;switch(b.type){case"lm.bootstrap":return babelHelpers["extends"]({},b.config,{sidebarItemID:a.sidebarItemID,tab:a.tab});case"lm.navigation.selected_page_change":return babelHelpers["extends"]({},a,{parentPageID:b.pageID});case"lm.routing.popstate":return n(a,b.uri);case"lm.tabs.click_tab":return babelHelpers["extends"]({},a,{sidebarItemID:null,tab:b.tab});case"lm.settings.click_side_bar_item":return babelHelpers["extends"]({},a,{sidebarItemID:b.sidebarItemID});case"lm.onboarding.redirect_to_location_manager":b=b.page;return babelHelpers["extends"]({},a,{parentPageID:b.id});default:return a}};a.prototype.getURI=function(){var a=b("URI").getMostRecentURI().getUnqualifiedURI(),c=this.getState(),d=m(c);if(d!=null&&c.parentPageID!=null){var e;a.addQueryData((e={},e[d]=c.parentPageID,e))}a.addQueryData({tab:c.tab});c.sidebarItemID!=null?a.addQueryData({sidebar_item_id:c.sidebarItemID}):a.removeQueryData("sidebar_item_id");return a};function a(){g.apply(this,arguments)}a.__moduleID=e.id;e.exports=new a(b("AdsDataAtom"))}),null);
__d("LocationManagerUITypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){this.clear()}a.prototype.log=function(){b("GeneratedLoggerUtils").log("logger:LocationManagerUILoggerConfig",this.$1,b("Banzai").BASIC)};a.prototype.logVital=function(){b("GeneratedLoggerUtils").log("logger:LocationManagerUILoggerConfig",this.$1,b("Banzai").VITAL)};a.prototype.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:LocationManagerUILoggerConfig",this.$1,{signal:!0})};a.prototype.clear=function(){this.$1={};return this};a.prototype.getData=function(){return babelHelpers["extends"]({},this.$1)};a.prototype.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.setAction=function(a){this.$1.action=a;return this};a.prototype.setBusinessID=function(a){this.$1.business_id=a;return this};a.prototype.setPageID=function(a){this.$1.page_id=a;return this};c={action:!0,business_id:!0,page_id:!0};e.exports=a}),null);
__d("LMLoggingUtils",["LocationManagerUITypedLogger","URI"],(function(a,b,c,d,e,f){"use strict";function g(){return new(b("URI"))(window.location.search).getQueryData()}function a(a){var c=g();new(b("LocationManagerUITypedLogger"))().setAction(a).setBusinessID(c.business_id).setPageID(c.page_id).log()}e.exports={logAction:a}}),null);
__d("LMFilterLocationsStoreKey",["immutable"],(function(a,b,c,d,e,f){"use strict";var g;c=b("immutable").Record({parentPageID:undefined,searchText:undefined,sortColumn:undefined,sortDirection:undefined,selectedEntries:undefined});g=babelHelpers.inherits(a,c);g&&g.prototype;function a(){g.apply(this,arguments)}e.exports=a}),null);
__d("XLocationManagerFilterLocationsController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ads/location-manager-filter-locations/",{page_id:{type:"FBID",required:!0},query:{type:"String",defaultValue:""},sort_column:{type:"String",required:!0},sort_order:{type:"String",required:!0},offset:{type:"Int",defaultValue:0},limit:{type:"Int",defaultValue:50},city_ids:{type:"StringVector"},region_ids:{type:"StringVector"},country_codes:{type:"StringVector"}})}),null);
__d("LMFilterLocationsDataManager",["LMActions","LMFilterLocationsStoreKey","XLocationManagerFilterLocationsController","immutable","promiseAsyncRequest","promiseDone"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("LMActions").dispatchActionFromServerResponse,h={method:"GET",isReadOnly:!0};i.prototype.genIsLocationInIndex=function(a,c){a=b("XLocationManagerFilterLocationsController").getURIBuilder().setFBID("page_id",a).setInt("offset",0).setInt("limit",1).setString("query",c).setString("sort_column","store_number").setString("sort_order","descending").getURI();return b("promiseAsyncRequest")(a,h).then(function(a){return a.payload.pageIDs.includes(c)})};i.prototype.load=function(a,c){var d=a.selectedEntries.map(function(a){return a.map(function(a){return a.getUniqueID()}).toArray()}),e=d.get("city")||[],f=d.get("region")||[];d=d.get("country")||[];e=b("XLocationManagerFilterLocationsController").getURIBuilder().setFBID("page_id",a.parentPageID).setInt("offset",c).setInt("limit",i.RESULTS_PER_PAGE).setString("query",a.searchText||"").setString("sort_column",a.sortColumn).setString("sort_order",a.sortDirection==="ASC"?"ascending":"descending").setStringVector("city_ids",e).setStringVector("region_ids",f).setStringVector("country_codes",d).getURI();b("promiseDone")(b("promiseAsyncRequest")(e,h),function(b){return g({type:"lm.search_child_pages.loaded",key:a,pageIDs:b.payload.pageIDs,estimatedCount:b.payload.estimatedCount,offset:c})},function(b){return g({type:"lm.search_child_pages.load_error",key:a,error:new Error(b.getErrorDescription())})})};i.prototype.genLoadAllIDs=function(a,c){a=b("XLocationManagerFilterLocationsController").getURIBuilder().setFBID("page_id",a).setInt("offset",0).setInt("limit",1e5).setString("query",c.searchText||"").setString("sort_column",c.sortColumn).setString("sort_order",c.sortDirection==="ASC"?"ascending":"descending").getURI();return b("promiseAsyncRequest")(a,h).then(function(a){return b("immutable").List(a.payload.pageIDs)})};function i(){}i.RESULTS_PER_PAGE=50;e.exports=new i()}),null);
__d("LMFilterLocationsStoreValue",["immutable"],(function(a,b,c,d,e,f){"use strict";var g;c=b("immutable").Record({isExhausted:undefined,ids:undefined,estimatedCount:undefined});g=babelHelpers.inherits(a,c);g&&g.prototype;function a(){g.apply(this,arguments)}e.exports=a}),null);
__d("LMImportMenuUIMessages",["fbt"],(function(a,b,c,d,e,f,g){"use strict";a=g._("We've checked for errors and there aren't any. You can continue adding your locations.");b=g._("Your file couldn't be upload. Please try uploading it again.");c=g._("This file is not supported. Please select either .csv, .xls or .xlsx.");d=g._("These locations can't be added because there are problems with the information in the CSV. You'll need to fix the errors to continue adding these locations.");f=g._("We're checking for any issues with the data you've uploaded");var h=g._("Download our CSV template, enter details for your business locations and upload it. We'll check for any errors."),i=g._("The locations can't be added because there are problems with the information in the CSV.");g=g._("These locations are ready to be added. You can continue the process with only these locations, or you can fix the errors first.");e.exports={ALL_LOCATIONS_VALID_DESCRIPTION:a,FILE_UPLOAD_FAILURE_DESCRIPTION:b,INVALID_FILE_EXTENSION_DESCRIPTION:c,INVALID_LOCATIONS_DESCRIPTION:d,PROCESSING_FILE_DESCRIPTION:f,START_UPLOAD_DESCRIPTION:h,VALIDATION_FAILURE_DESCRIPTION:i,VALID_LOCATIONS_DESCRIPTION:g}}),null);
__d("XPagesHideLocationUpdateController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/locations/upload/hide_update/",{})}),null);
__d("XPagesLocationsSubmitController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/locations/upload/submit/",{validation_id:{type:"Int"}})}),null);
__d("XPagesLocationsSubmitController.flow",["XPagesLocationsSubmitController"],(function(a,b,c,d,e,f){e.exports=b("XPagesLocationsSubmitController")}),null);
__d("XPagesLocationsUploadStatusController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/locations/upload/status/",{parent_id:{type:"FBID",required:!0}})}),null);
__d("XPagesLocationsUploadStatusController.flow",["XPagesLocationsUploadStatusController"],(function(a,b,c,d,e,f){e.exports=b("XPagesLocationsUploadStatusController")}),null);
__d("XPagesLocationsUploadViewController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/locations/upload/view/",{sid:{type:"Int",defaultValue:0}})}),null);
__d("XPagesLocationsUploadViewController.flow",["XPagesLocationsUploadViewController"],(function(a,b,c,d,e,f){e.exports=b("XPagesLocationsUploadViewController")}),null);
__d("LMUploadLocationsUtils",["invariant","Promise","AsyncRequest","LMImportMenuUIMessages","XPagesHideLocationUpdateController","XPagesLocationsSubmitController.flow","XPagesLocationsUploadStatusController.flow","XPagesLocationsUploadViewController.flow","promiseAsyncRequest","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("LMImportMenuUIMessages").INVALID_FILE_EXTENSION_DESCRIPTION,i=1e3,j=new Set(["application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","text/csv"]);function k(a,c){__p&&__p();var d=new(b("Promise"))(function(d,e){if(!j.has(a.type))return e(new Error(h));var f=new FormData();f.append("file",a);var g=!1;new(b("AsyncRequest"))().setURI("/ajax/file_handle/upload.php").setMethod("POST").setRawData(f).setHandler(function(a){g||(g=!0,c(100),d(a.payload))}).setErrorHandler(function(a){g||(g=!0,c(100),e(a.toError()))}).setUploadProgressHandler(function(event){event.lengthComputable&&!g&&c(event.loaded/event.total*100)}).send()});return d.then(function(a){typeof a.meta==="string"||g(0);return a})}function l(a,c){var d=b("XPagesLocationsSubmitController.flow").getURIBuilder().getURI();return b("promiseAsyncRequest")(d,{method:"POST",data:{parent_id:a,file_handle:c.meta}})["catch"](function(a){return b("Promise").reject(a.toError())}).then(function(a){switch(a.payload.status){case"COLUMN_ERRORS":return{type:"COLUMN_ERRORS",duplicateColumns:a.payload.duplicate_columns,invalidHeaders:a.payload.invalid_headers,missingColumns:a.payload.missing_columns};case"ERROR":return{type:"ERROR",error:a.payload.error};case"SUCCESS":return{type:"SUCCESS",validationID:a.payload.validation_id}}a=new Error("Unexpected status "+a.payload.status);return b("Promise").reject(a)})}function m(a){__p&&__p();var c=b("XPagesLocationsSubmitController.flow").getURIBuilder().setInt("validation_id",a).getURI();return new(b("Promise"))(function(a,d){__p&&__p();function e(){__p&&__p();new(b("AsyncRequest"))().setURI(c).setHandler(function(b){__p&&__p();switch(b.payload.status){case"IN_PROGRESS":setTimeout(e,i);break;case"ERROR":a({type:"ERROR",error:b.payload.error});break;case"ROW_ERRORS":a({type:"ROW_ERRORS",sid:b.payload.sid,totalRowCount:b.payload.total_row_count,errorRowCount:b.payload.error_row_count,errorDownloadUrl:b.payload.error_rows_log_url});break;case"SUCCESS":a({type:"SUCCESS",sid:b.payload.sid,totalRowCount:b.payload.total_row_count});break;default:d(new Error("Unexpected status "+b.payload.status))}}).setErrorHandler(function(a){return d(a.toError())}).send()}e()})}function a(a,b,c){return k(b,c).then(function(b){return l(a,b)}).then(function(a){return a.type!=="SUCCESS"?a:m(a.validationID)})}function c(a){a=b("XPagesLocationsUploadViewController.flow").getURIBuilder().setInt("sid",a).getURI();return b("promiseAsyncRequest")(a,{method:"POST",data:{submit:!0}}).then(function(){return void 0})["catch"](function(a){return b("Promise").reject(a.toError())})}function d(a){a=b("XPagesLocationsUploadStatusController.flow").getURIBuilder().setFBID("parent_id",a).getURI();return b("promiseAsyncRequest")(a,{isReadOnly:!0,method:"GET"}).then(function(a){return a.payload})}function f(a){var c=b("XPagesHideLocationUpdateController").getURIBuilder().getURI();b("promiseDone")(b("promiseAsyncRequest")(c,{method:"POST",data:{parent_id:a.parent_page_id,update_sid:a.submission_id}}))}e.exports={beginImport:c,uploadExcel:a,getImportStatuses:d,hideImportJobStatus:f,VALID_FILE_EXTENSION:j}}),null);
__d("LMImportStatusDataManager",["LMActions","LMConfigStore","LMUploadLocationsUtils","immutable","promiseDone"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=10*1e3;function h(a){return g}function i(a){__p&&__p();var c=Date.now();b("promiseDone")(b("LMUploadLocationsUtils").getImportStatuses(a).then(b("immutable").List)["catch"](function(a){return a.toError()}),function(d){b("LMActions").dispatchActionFromServerResponse({type:"lm.upload_locations.import_status.loaded",parentPageID:a,resultOrError:d});d=Date.now()-c;var e=b("LMConfigStore").getState();if(e.parentPageID!=null&&a===e.parentPageID){e=Math.max(0,h(a)-d);setTimeout(function(){return i(a)},e)}})}e.exports={load:i}}),null);
__d("LMImportStatusStore",["AdsDataAtom","FluxLoadObjectStore","LMImportStatusDataManager","LMUploadLocationsUtils"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;g=babelHelpers.inherits(a,b("FluxLoadObjectStore"));g&&g.prototype;a.prototype.reduce=function(a,c){__p&&__p();c=c.action;switch(c.type){case"lm.upload_locations.import_status.dismissed":var d=c.importStatus;b("LMUploadLocationsUtils").hideImportJobStatus(d);return a.update(d.parent_page_id.toString(),function(a){return a.map(function(a){return a.filter(function(a){return a.submission_id!==d.submission_id})})});case"lm.upload_locations.import_status.loaded":return this.__handleOne(a,c.parentPageID,c.resultOrError);default:return a}};a.prototype.__load=function(a){b("LMImportStatusDataManager").load(a)};function a(){g.apply(this,arguments)}a.__moduleID=e.id;e.exports=new a(b("AdsDataAtom"))}),null);
__d("PagesParentChildImportStatus",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({PENDING:0,DONE:1e3,SCHEDULED:1,DONE_SHOWN:2,CANCELED:3,RETRY_NEEDED:-1})}),null);
__d("LMImportStatusUtils",["CurrentUser","DateConsts","PagesParentChildImportStatus"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("DateConsts").MS_PER_SEC,h=b("DateConsts").MS_PER_WEEK;function i(a){return b("CurrentUser").getID()===String(a.user)&&a.failure+a.success<a.total&&a.progress===b("PagesParentChildImportStatus").SCHEDULED}function j(a){return b("CurrentUser").getID()===String(a.user)&&a.failure>0}function k(a){return b("CurrentUser").getID()===String(a.user)&&a.success===a.total}function a(a){return b("CurrentUser").getID()===String(a.user)&&a.progress!==b("PagesParentChildImportStatus").DONE_SHOWN}function c(a){return a.submit_time*g>Date.now()-h}function d(a){if(a==null)return null;if(i(a))return"progress";if(j(a))return"fail";return k(a)?"success":null}function f(a){return a==null?null:a.submit_time}function l(a){return a.filter(function(a){return i(a)}).map(function(a){return a.submission_id}).toSet()}function m(a,b){if(a==null||b==null)return!1;a=l(a);var c=l(b);return a.some(function(a){return!c.contains(a)})}function n(a){return a==="success"||a==="fail"}e.exports={getStatus:d,getSubmitTime:f,getActiveImportStatusesIDs:l,hasActiveImportFinished:m,isImportFinished:n,isImportStatusActive:i,isImportStatusFailed:j,isImportStatusSuccessful:k,isImportStatusVisible:a,isImportStatusWithinLastWeek:c}}),null);
__d("LMQueryLocationStoreState",["immutable"],(function(a,b,c,d,e,f){"use strict";var g;c=b("immutable").Record({searchText:"",sortColumn:"parent_store_number",sortDirection:"DESC",activeFilters:b("immutable").Set(),selectedEntries:b("immutable").Map([["city",b("immutable").List()],["region",b("immutable").List()],["country",b("immutable").List()]])});g=babelHelpers.inherits(a,c);g&&g.prototype;function a(){g.apply(this,arguments)}e.exports=a}),null);
__d("LMQueryLocationStore",["AdsDataAtom","FluxReduceStore","LMQueryLocationStoreState","URI"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;g=babelHelpers.inherits(a,b("FluxReduceStore"));g&&g.prototype;a.prototype.getInitialState=function(){var a=b("URI").getRequestURI().getQueryData().initial_query;return new(b("LMQueryLocationStoreState"))({searchText:a?a:""})};a.prototype.reduce=function(a,c){__p&&__p();c=c.action;switch(c.type){case"lm.set_search_text":return a.set("searchText",c.searchText);case"lm.set_search_column":return a.set("sortColumn",c.sortColumn).set("sortDirection",c.sortDirection);case"lm.filters.toggle":var d=c.value,e=c.locationType;return a.update("activeFilters",function(a){return d?a.add(e):a.remove(e)});case"lm.filters.add_entry":var f=c.entry,g=f.getAuxiliaryData(),h=g.location_type;return a.update("selectedEntries",function(a){return a.update(h,function(a){return a.push(f)})});case"lm.filters.remove_entry":var i=c.entry;g=i.getAuxiliaryData();var j=g.location_type,k=a.selectedEntries.get(j).findIndex(function(a){return a.getUniqueID()===i.getUniqueID()});return k>-1?a.update("selectedEntries",function(a){return a.update(j,function(a){return a["delete"](k)})}):a;case"lm.filters.clear_all":c=new(b("LMQueryLocationStoreState"))();return a.set("selectedEntries",c.selectedEntries).set("activeFilters",c.activeFilters);case"lm.navigation.selected_page_change":case"lm.routing.popstate":case"lm.onboarding.redirect_to_location_manager":return this.getInitialState();default:return a}};function a(){g.apply(this,arguments)}a.__moduleID=e.id;e.exports=new a(b("AdsDataAtom"))}),null);
__d("LMFilterLocationsStore",["AdsDataAtom","FluxLoadObjectStore","LMFilterLocationsDataManager","LMFilterLocationsStoreKey","LMFilterLocationsStoreValue","LMImportStatusStore","LMImportStatusUtils","LMQueryLocationStore","LoadObject","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;g=babelHelpers.inherits(a,b("FluxLoadObjectStore"));g&&g.prototype;a.prototype.getFor=function(a,b){return this.get(j(a,b))};a.prototype.reduce=function(a,c){__p&&__p();c=c.action;switch(c.type){case"lm.search_child_pages.loaded":var d=c.pageIDs.length<b("LMFilterLocationsDataManager").constructor.RESULTS_PER_PAGE;return h(a,c.key,c.pageIDs,c.estimatedCount,c.offset,d);case"lm.search_child_pages.load_more":return i(a,c.parentPageID,c.query,c.offset);case"lm.search_child_pages.load_error":return this.__handleOne(a,c.key,c.error);case"lm.claim_page.done":case"lm.publish.done":b("AdsDataAtom").waitFor([b("LMQueryLocationStore").getDispatchToken()]);d=b("LMQueryLocationStore").getState();d=j(c.parentPageID,d);this.__load(d);var e=this.getState().get(d,b("LoadObject").empty());return this.getState().clear().set(d,e);case"lm.load_first_location_page":d=b("LMQueryLocationStore").getState();e=j(c.parentPageID,d);this.__load(e);d=this.getState().get(e,b("LoadObject").empty());return this.getState().clear().set(e,d);case"lm.upload_locations.import_status.loaded":e=b("LMImportStatusStore").get(c.parentPageID).getValue();b("AdsDataAtom").waitFor([b("LMImportStatusStore").getDispatchToken()]);d=b("LMImportStatusStore").get(c.parentPageID).getValue();if(b("LMImportStatusUtils").hasActiveImportFinished(e,d)){b("AdsDataAtom").waitFor([b("LMQueryLocationStore").getDispatchToken()]);e=b("LMQueryLocationStore").getState();d=j(c.parentPageID,e);this.__load(d);return this.getState().clear()}else return a;case"lm.select_all.done":return h(a,j(c.parentPageID,c.query),c.ids.toArray(),c.ids.size,0,!0);default:return a}};a.prototype.__load=function(a){b("LMFilterLocationsDataManager").load(a,0)};function a(){g.apply(this,arguments)}a.__moduleID=e.id;var h=function(a,c,d,e,f,g){return a.update(c,b("LoadObject").empty(),function(a){a=f===0?b("immutable").List():a.map(function(a){return a.ids}).getValue()||b("immutable").List();a=b("immutable").OrderedSet(a).concat(d).toList();return b("LoadObject").withValue(new(b("LMFilterLocationsStoreValue"))({ids:a,isExhausted:g,estimatedCount:e}))})},i=function(a,c,d,e){c=j(c,d);d=a.get(c,b("LoadObject").empty());if(d.isLoading()||d.map(function(a){return a.isExhausted}).getValue())return a;b("LMFilterLocationsDataManager").load(c,e);return a.update(c,b("LoadObject").empty(),function(a){return a.loading()})},j=function(a,c){return new(b("LMFilterLocationsStoreKey"))({parentPageID:a,searchText:c.searchText,sortColumn:c.sortColumn,sortDirection:c.sortDirection,selectedEntries:c.selectedEntries.map(function(a,d){return c.activeFilters.has(d)?a:b("immutable").List()})})};e.exports=new a(b("AdsDataAtom"))}),null);
__d("LMPublishingUtils",["ix","cx","fbt","Image.react","React","asset","immutable","intlList"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();a={progress:b("React").createElement(b("Image.react"),{className:"_4m1_",src:g("412113")}),success:b("React").createElement(b("Image.react"),{src:g("394787")}),fail:b("React").createElement(b("Image.react"),{src:g("599954")})};c={progress:i._("Importing locations"),fail:i._("Failed importing locations"),success:i._("Finished importing locations")};d=function(a){__p&&__p();var c=k(a);a=a.operationType;c=c.countBy(j);var d=c.get("success",0),e=c.get("fail",0);c=c.get("progress",0);if(c>0)return i._({"add":{"*":"Adding {number} locations","_1":"Adding 1 location"},"claim_page":{"*":"Claiming {number} locations","_1":"Claiming 1 location"},"delete":{"*":"Removing {number} locations","_1":"Removing 1 location"},"edit":{"*":"Editing {number} locations","_1":"Editing 1 location"}},[i._enum(a,{add:"Adding",claim_page:"Claiming","delete":"Removing",edit:"Editing"}),i._plural(c,"number")]);c=d>0?i._({"add":{"*":"Added {number} locations","_1":"Added 1 location"},"claim_page":{"*":"Claimed {number} locations","_1":"Claimed 1 location"},"delete":{"*":"Removed {number} locations","_1":"Removed 1 location"},"edit":{"*":"Edited {number} locations","_1":"Edited 1 location"}},[i._enum(a,{add:"Added",claim_page:"Claimed","delete":"Removed",edit:"Edited"}),i._plural(d,"number")]):null;d=e>0?i._({"add":{"*":"Error adding {number} locations","_1":"Error adding 1 location"},"claim_page":{"*":"Error claiming {number} locations","_1":"Error claiming 1 location"},"delete":{"*":"Error removing {number} locations","_1":"Error removing 1 location"},"edit":{"*":"Error editing {number} locations","_1":"Error editing 1 location"}},[i._enum(a,{add:"adding",claim_page:"claiming","delete":"removing",edit:"editing"}),i._plural(e,"number")]):null;a=[];c!=null&&a.push(c);d!=null&&a.push(d);return b("intlList")(a,b("intlList").CONJUNCTIONS.NONE,b("intlList").DELIMITERS.COMMA)};f=function(a){a=k(a);if(a.some(function(a){return a.hasOperation()}))return"progress";return a.some(function(a){return a.hasError()})?"fail":"success"};var j=function(a){if(a.hasOperation())return"progress";return a.hasError()?"fail":"success"},k=function(a){return a.operationType==="add"?a.newLocations.valueSeq():a.existingLocations.valueSeq()};h=function(a,c){__p&&__p();return b("immutable").Map().withMutations(function(b){__p&&__p();for(var d=a.values(),e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=d.length)break;g=d[f++]}else{f=d.next();if(f.done)break;g=f.value}g=g;var h=g.existingLocations.entries();for(var h=h,i=Array.isArray(h),k=0,h=i?h:h[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var l;if(i){if(k>=h.length)break;l=h[k++]}else{k=h.next();if(k.done)break;l=k.value}l=l;var m=l[0];l=l[1];l=j(l);(l!=="success"||c)&&b.set(m,g)}}})};var l=function(a){var b=a.map(function(a){return a.store_number}).getValue();a=a.getError();if(a==null)return null;return b==null?a.message:i._("Location {location store_number}: {error text}",[i._param("location store_number",b),i._param("error text",a.message)])};g=function(a){return k(a).map(l).filter(function(a){return a!=null}).toArray().join("\n")};e.exports={getLocations:k,getLocationStatus:j,getLocationToLastOperation:h,getLocationTooltip:l,getOperationLabel:d,getOperationStatus:f,getOperationTooltip:g,ICONS:a,IMPORT_LABELS:c}}),null);
__d("LMTableUtils",["LMActions","LMConfigStore","LMFilterLocationsStore","LMPublishingUtils","LMQueryLocationStore"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("LMPublishingUtils").getLocationStatus;function a(a,b){return a.hasValue()&&g(a)!=="progress"&&b}function c(){var a=b("LMQueryLocationStore").getState(),c=b("LMConfigStore").getState();c=c.parentPageID;if(c==null)return;var d=b("LMFilterLocationsStore").getFor(c,a);d=d.map(function(a){return a.isExhausted?a.ids:null}).getValue();b("LMActions").dispatchActionFromView({type:"lm.select_all.start",allIDs:d,parentPageID:c,query:a})}e.exports={canSelectLocation:a,selectAll:c}}),null);
__d("LMShortcutsConfig",["fbt","LMActions","LMTableUtils"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("LMActions").dispatchActionFromView;a=b("LMTableUtils").selectAll;c=[{key:"+",ctrlOrCmd:!0,preventDefault:!0,title:g._("Add Location"),description:g._("Opens a dialog to add a new location"),handler:function(){return h({type:"lm.import_menu.toggle.keyboard"})}},{key:["Delete","Backspace"],title:g._("Delete location(s)"),description:g._("Deletes all selected locations"),handler:function(){return h({type:"lm.modal.toggle_deletion_confirmation.keyboard"})}},{key:"e",ctrlOrCmd:!0,preventDefault:!0,title:g._("Edit location(s)"),description:g._("Opens the edit dialog for all selected locations"),handler:function(){return h({type:"lm.click_bulk_edit_locations.keyboard"})}},{key:"a",ctrlOrCmd:!0,preventDefault:!0,title:g._("Select all locations"),description:g._("Selects all locations shown in the table"),handler:a},{key:"shift",title:g._("Multi select"),description:g._("After selecting a location hold shift and select another location to select all locations in between"),handler:function(){return h({type:"lm.keyboard.shift",shift:!0})},releaseHandler:function(){return h({type:"lm.keyboard.shift",shift:!1})}}];e.exports=c}),null);
__d("LMShortcuts",["LMShortcutsConfig","Random"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=new Set(["input","textarea"]);function a(a){this.registeredShortcuts=new Map(),this.$1=null,this.$2=null,this.$3=!1,this.registerShortcut=function(a){var c=b("Random").uint32();this.registeredShortcuts.set(c,a);return c}.bind(this),this.$4=function(a){this.$6(a,function(b){b.preventDefault&&a.preventDefault(),b.handler(a)})}.bind(this),this.$5=function(a){this.$6(a,function(b){b.releaseHandler&&b.releaseHandler(a)})}.bind(this),(a||[]).map(this.registerShortcut)}a.prototype.getAllShortcuts=function(){return this.registeredShortcuts};a.prototype.init=function(){if(this.$3)return;this.$1=window.addEventListener("keydown",this.$4);this.$2=window.addEventListener("keyup",this.$5);this.$3=!0};a.prototype.cleanup=function(){if(!this.$3)return;window.removeEventListener(this.$1);window.removeEventListener(this.$2);this.$3=!1};a.prototype.$6=function(a,b){if(a.target instanceof HTMLElement&&g.has(a.target.tagName.toLowerCase()))return;this.registeredShortcuts.forEach(function(c){[].concat(c.key).forEach(function(d){(c.alt==null||c.alt!=null&&c.alt===a.altKey)&&(c.ctrl==null||c.ctrl!=null&&c.crtl===a.ctrlKey)&&(c.ctrlOrCmd==null||c.ctrlOrCmd!=null&&c.ctrlOrCmd===a.metaKey||c.ctrlOrCmd!=null&&c.ctrlOrCmd===a.ctrlKey)&&(c.shift==null||c.shift!=null&&c.shift===a.shiftKey)&&d.toLowerCase()===a.key.toLowerCase()&&b(c)})})};e.exports=new a(b("LMShortcutsConfig"))}),null);
__d("LMBulkEditableGeoLocation",["AdsEmptyValue","immutable"],(function(a,b,c,d,e,f){"use strict";var g;c=b("immutable").Record({street:b("AdsEmptyValue").instance(),latitude:b("AdsEmptyValue").instance(),longitude:b("AdsEmptyValue").instance(),city_id:b("AdsEmptyValue").instance(),city:b("AdsEmptyValue").instance(),state:b("AdsEmptyValue").instance(),country_code:b("AdsEmptyValue").instance(),zip:b("AdsEmptyValue").instance(),single_line_address:b("AdsEmptyValue").instance()});g=babelHelpers.inherits(a,c);g&&g.prototype;function a(){g.apply(this,arguments)}e.exports=a}),null);
__d("LMBulkEditableBusinessLocation",["AdsEmptyValue","immutable","LMBulkEditableGeoLocation"],(function(a,b,c,d,e,f){"use strict";var g;c=b("immutable").Record({id:b("AdsEmptyValue").instance(),name:b("AdsEmptyValue").instance(),store_number:b("AdsEmptyValue").instance(),geo_location:new(b("LMBulkEditableGeoLocation"))(),place_topics:b("AdsEmptyValue").instance(),phone:b("AdsEmptyValue").instance(),always_open:b("AdsEmptyValue").instance(),permanently_closed:b("AdsEmptyValue").instance(),hours:b("AdsEmptyValue").instance(),price_range:b("AdsEmptyValue").instance(),page_username:b("AdsEmptyValue").instance(),is_published:b("AdsEmptyValue").instance(),is_visible_only_in_ads:b("AdsEmptyValue").instance(),website:b("AdsEmptyValue").instance(),store_location_descriptor:b("AdsEmptyValue").instance(),store_location_descriptor_autogenerated:b("AdsEmptyValue").instance(),is_review_eligible:b("AdsEmptyValue").instance(),is_eligible_for_store_visit_reporting:b("AdsEmptyValue").instance(),name_with_location_descriptor:b("AdsEmptyValue").instance(),userpermissions:b("AdsEmptyValue").instance(),wifi_information_name:b("AdsEmptyValue").instance()});g=babelHelpers.inherits(a,c);g&&g.prototype;function a(){g.apply(this,arguments)}e.exports=a}),null);
__d("LMBulkEditableBusinessLocationStoreState",["immutable","LoadObject"],(function(a,b,c,d,e,f){"use strict";var g;c=b("immutable").Record({bulkLocation:b("LoadObject").empty(),changedToPermanentlyClosed:!1,hasLocationChanged:!1,isConfirmModalShown:!1,operationID:null,operationType:undefined});g=babelHelpers.inherits(a,c);g&&g.prototype;function a(){g.apply(this,arguments)}e.exports=a}),null);
__d("LMBulkEditableBusinessLocationSchema",["AdsBulkValueTypesConfig"],(function(a,b,c,d,e,f){"use strict";a=b("AdsBulkValueTypesConfig").EMPTY_SET_MIXED;c=b("AdsBulkValueTypesConfig").EMPTY_UNIFORM_MIXED;d={id:c,name:c,store_number:c,geo_location:{street:c,latitude:c,longitude:c,city_id:c,city:c,state:c,country_code:c,zip:c,single_line_address:c},place_topics:a,phone:c,always_open:c,permanently_closed:c,hours:c,price_range:c,page_username:c,is_published:c,is_visible_only_in_ads:c,website:c,store_location_descriptor:c,is_review_eligible:c,is_eligible_for_store_visit_reporting:c,name_with_location_descriptor:c,userpermissions:a,wifi_information_name:c};e.exports=d}),null);
__d("LMBulkUtils",["AdsBulkValueUtils","AdsLocationsCountriesRequiringNoPostalCodeConfig","AdsUniformValue","BusinessLocation","City","LMBulkEditableBusinessLocation","LMBulkEditableBusinessLocationSchema","LMBulkEditableGeoLocation","SimpleAddress"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("BusinessLocation").BusinessLocation;function a(a){var c=Math.max(a.store_number.getValues().length,a.id.getValues().length);return b("AdsBulkValueUtils").deaggregateDeep(a.toJS(),c).map(function(a){return new g(a)})}function c(a){a=b("AdsBulkValueUtils").aggregateDeep(b("LMBulkEditableBusinessLocationSchema"),a);return new(b("LMBulkEditableBusinessLocation"))(babelHelpers["extends"]({},a,{geo_location:new(b("LMBulkEditableGeoLocation"))(a.geo_location)}))}function d(a){__p&&__p();a=a.geo_location;var c=a.street,d=a.city,e=a.city_id;a=a.zip;if(!(c instanceof b("AdsUniformValue")&&d instanceof b("AdsUniformValue")&&e instanceof b("AdsUniformValue")&&a instanceof b("AdsUniformValue")))return null;c=c.getValue();d=d.getValue();e=e.getValue();a=a.getValue();return new(b("SimpleAddress"))({city:e!=null&&d!=null?new(b("City"))(e,d):null,street:c,zip:a?a:""})}function f(a){return b("AdsBulkValueUtils").getUniformValue(a.permanently_closed,!0)}function h(a){return b("AdsLocationsCountriesRequiringNoPostalCodeConfig").countriesWithoutPostalCode.includes(a)}e.exports={getBulkEditableBusinessLocation:c,getBusinessLocations:a,getSimpleAddress:d,getHasSomeClosedStores:f,isCountryWithoutZip:h}}),null);
__d("LMAbstractBatchedDataManager",["regeneratorRuntime","BatchingQueue","FBLogger","abstractMethod","promiseDone"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g={timeout:100,maxBatchSize:50,concurrency:1};function a(a){a===void 0&&(a=g),this.$1=new(b("BatchingQueue"))(this.$2.bind(this),a)}a.prototype.loadAll=function(a){__p&&__p();for(var a=a,b=Array.isArray(a),c=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var d;if(b){if(c>=a.length)break;d=a[c++]}else{c=a.next();if(c.done)break;d=c.value}d=d;this.$1.add(d)}};a.prototype.__genData=function(a){return b("regeneratorRuntime").async(function(a){while(1)switch(a.prev=a.next){case 0:b("abstractMethod")("LMAbstractBatchedDataManager","__genData");case 1:case"end":return a.stop()}},null,this)};a.prototype.__processResultOrError=function(a,c){b("abstractMethod")("LMAbstractBatchedDataManager","__processResultOrError")};a.prototype.$2=function(a,c){b("promiseDone")(this.__genData(a).then(function(b){return this.__processResultOrError(a,b)}.bind(this))["catch"](function(c){this.__processResultOrError(a,c),b("FBLogger")("location_manager").catching(c).mustfix("data_load_unhanled_failure")}.bind(this)),c)};e.exports=a}),null);
__d("LMChildPageFastFields",["ApiPageFields","GraphAPIFieldUtils","gkx"],(function(a,b,c,d,e,f){"use strict";a=[b("ApiPageFields").ID,b("ApiPageFields").NAME,b("ApiPageFields").STORE_NUMBER,b("ApiPageFields").PHONE,b("ApiPageFields").IS_ALWAYS_OPEN,b("ApiPageFields").IS_PERMANENTLY_CLOSED,b("ApiPageFields").HOURS,b("ApiPageFields").PRICE_RANGE,b("ApiPageFields").USERNAME,b("ApiPageFields").SINGLE_LINE_ADDRESS,b("ApiPageFields").IS_PUBLISHED,b("GraphAPIFieldUtils").getFieldWithSubfields(b("ApiPageFields").LOCATION,["city","city_id","country","country_code","latitude","longitude","region","region_id","street","zip"]),b("GraphAPIFieldUtils").getFieldWithSubfields(b("ApiPageFields").CATEGORY_LIST,["id","name"]),b("ApiPageFields").WEBSITE,b("ApiPageFields").STORE_LOCATION_DESCRIPTOR,b("ApiPageFields").IS_VISIBLE_ONLY_IN_ADS].concat(b("gkx")("AT4168J97MCnbuQbtwW8A4YJOfu2VGfVj59EAimsf2HkIoO3BlBPiOoMtfaqK03OZ6s")?[b("ApiPageFields").SETTINGS]:[],[b("ApiPageFields").IS_ELIGIBLE_FOR_STORE_VISIT_REPORTING,b("ApiPageFields").NAME_WITH_LOCATION_DESCRIPTOR],b("gkx")("AT5wVtgqcnnYXqoxS-J6PiItnT_8-Aevy6T72Y-1Ke0_7o0dMHI92KFSFmzeSSX6_5W7vDfdY0O5r81tEE0A2uaz")?[b("GraphAPIFieldUtils").getFieldWithSubfields(b("ApiPageFields").WIFI_INFORMATION,["mac_address","name"])]:[],[b("GraphAPIFieldUtils").getFieldWithSubfields(b("ApiPageFields").USERPERMISSIONS+".limit(1000)",["user"])]).join(",");e.exports=a}),null);
__d("LMOwnedPageFields",["ApiPageFields","GraphAPIFieldUtils"],(function(a,b,c,d,e,f){"use strict";a=[b("ApiPageFields").ACCESS_TOKEN,b("ApiPageFields").BUSINESS,b("ApiPageFields").CAN_USE_ANY_NAME_FOR_CHILD_LOCATION,b("ApiPageFields").CATEGORY,b("ApiPageFields").DESCRIPTION,b("ApiPageFields").GLOBAL_BRAND_PAGE_NAME,b("ApiPageFields").GLOBAL_BRAND_ROOT_ID,b("ApiPageFields").HOURS,b("ApiPageFields").ID,b("ApiPageFields").IS_PUBLISHED,b("ApiPageFields").IS_VERIFIED,b("ApiPageFields").LEADGEN_TOS_ACCEPTED,b("ApiPageFields").LEADGEN_HAS_CRM_INTEGRATION,b("ApiPageFields").LINK,b("ApiPageFields").LOCATION,b("ApiPageFields").NAME,b("ApiPageFields").OFFER_ELIGIBLE,b("ApiPageFields").PHONE,b("ApiPageFields").SHARED_LOCATION_STRUCTURES,b("ApiPageFields").SINGLE_LINE_ADDRESS,b("ApiPageFields").WEBSITE,"picture.type(small)",b("GraphAPIFieldUtils").getFieldWithSubfields("userpermissions.limit(1000)",["business","role","user"]),b("GraphAPIFieldUtils").getFieldWithSubfields("businessprojects",["business","name"]),b("GraphAPIFieldUtils").getFieldWithSubfields("locations",{limit:0,summary:"total_count"}),b("ApiPageFields").PARENT_PAGE].join(",");e.exports=a}),null);
__d("LMOwnedPageDataManager",["fbt","regeneratorRuntime","AdsGraphAPI","LMAbstractBatchedDataManager","LMActions","LMOwnedPageFields","LMUtils","immutable"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("LMActions").dispatchActionFromServerResponse,j=b("LMUtils").processMultigetResponse,k=function(a,b){return j(a,b,function(a){return new Error(g._("Failed to load page {page_id}",[g._param("page_id",a)]))})};h=babelHelpers.inherits(a,b("LMAbstractBatchedDataManager"));h&&h.prototype;a.prototype.__genData=function(a){return b("regeneratorRuntime").async(function(c){while(1)switch(c.prev=c.next){case 0:c.next=2;return b("regeneratorRuntime").awrap(b("AdsGraphAPI").get(e.id).objectsByName("page",a).get({fields:b("LMOwnedPageFields")}));case 2:return c.abrupt("return",c.sent);case 3:case"end":return c.stop()}},null,this)};a.prototype.__processResultOrError=function(a,b){i({type:"lm.owned_page.batch_loaded",owned_pages:k(a,b)})};function a(){h.apply(this,arguments)}e.exports=new a()}),null);
__d("LMOwnedPageStore",["AdsDataAtom","FluxLoadObjectStore","LMOwnedPageDataManager","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;g=babelHelpers.inherits(a,b("FluxLoadObjectStore"));g&&g.prototype;a.prototype.reduce=function(a,c){c=c.action;switch(c.type){case"lm.owned_page_list.loaded":return this.__handleMap(a,b("immutable").Map(c.owned_pages.map(function(a){return[a.id,a]})));case"lm.owned_page.batch_loaded":return this.__handleMap(a,c.owned_pages);case"lm.locations.location_updated":return a["delete"](c.newLocation.id);case"lm.onboarding.main_page_conversion.success":return a["delete"](c.pageID);case"lm.onboarding.child_page_creation.success":case"lm.onboarding.child_page_creation.error":return a["delete"](c.parentPageID);default:return a}};a.prototype.__loadAll=function(a){b("LMOwnedPageDataManager").loadAll(a)};function a(){g.apply(this,arguments)}a.__moduleID=e.id;e.exports=new a(b("AdsDataAtom"))}),null);
__d("LocationManagerUtils",["AdsGraphAPI","ApiPageFields","BusinessLocation","FBLogger","LMChildPageFastFields","LMOwnedPageStore","nullthrows","promiseStoreGet"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("BusinessLocation").BusinessLocation,h=b("BusinessLocation").EditableBusinessLocation,i=1,j=["Unspecified","$","$$","$$$","$$$$"],k=new Map();function l(a){var c=k.get(a);c||(c=b("promiseStoreGet")(b("LMOwnedPageStore"),function(){return b("LMOwnedPageStore").get(a)}).then(function(a){return b("nullthrows")(a).access_token}),k.set(a,c));return c}function m(a){__p&&__p();if(!a)return"Unspecified";for(var c=0;c<j.length;c++){var d=j[c];if(d===a)return d}for(var d=0;d<j.length;d++){c=j[d];if(c.split(" ")[0].length===a.split(" ")[0].length)return c}b("FBLogger")("ads").warn("Un-recognized price range: %s",a);return"Unspecified"}function n(a){return new g({id:a.id,name:a.name,store_number:a.store_number,phone:a.phone,always_open:a.is_always_open,permanently_closed:a.is_permanently_closed,hours:a.hours,price_range:m(a.price_range),page_username:a.username,geo_location:babelHelpers["extends"]({},a.location,{single_line_address:a.single_line_address}),is_published:a.is_published,is_visible_only_in_ads:a.is_visible_only_in_ads,place_topics:a.category_list?a.category_list:[],website:a.website,store_location_descriptor:a.store_location_descriptor,is_review_eligible:t("IS_REVIEW_ELIGIBLE",a.settings),can_others_add_photos_and_videos:t("USERS_CAN_POST_PHOTOS",a.settings),can_others_message:t("USERS_CAN_MESSAGE",a.settings),can_others_post:t("USERS_CAN_POST",a.settings),is_eligible_for_store_visit_reporting:a.is_eligible_for_store_visit_reporting,name_with_location_descriptor:a.name_with_location_descriptor,userpermissions:a.userpermissions,wifi_information_name:a.wifi_information!=null?a.wifi_information.name:void 0})}function o(a,c,d){return{id:a,store_name:d.name,store_location_descriptor:d.store_location_descriptor,store_number:+b("nullthrows")(d.store_number),location_page_id:c||undefined,location:{street:d.geo_location.street,latitude:""+d.geo_location.latitude,longitude:""+d.geo_location.longitude,city_id:d.geo_location.city_id,zip:d.geo_location.zip||" "},place_topics:d.place_topics.map(function(a){return a.id}),phone:d.phone,hours:d.hours,page_username:d.page_username,always_open:d.always_open||!1,permanently_closed:d.permanently_closed||!1,price_range:d.price_range,is_franchise:!1,is_review_eligible:d.is_review_eligible}}function a(a,b){return q(a,b).then(function(b){return r(a,b)})}function p(a){var b={};if(a.city!=null&&a.country!=null&&a.street!=null)b.city=a.city,b.country=a.country,b.street=a.street;else throw new Error("Your parent page location has missing fields");a.latitude!=null&&(b.latitude=a.latitude.toString());a.longitude!=null&&(b.longitude=a.longitude.toString());a.state!=null&&(b.state=a.state);a.zip!=null&&(b.zip=a.zip);return b}function q(a,c){return b("AdsGraphAPI").get(e.id).object("page",a).get({fields:[b("ApiPageFields").CATEGORY_LIST,b("ApiPageFields").HOURS,b("ApiPageFields").IS_PERMANENTLY_CLOSED,b("ApiPageFields").PHONE]}).then(function(b){return{hours:b.hours,id:a,location:p(c),phone:b.phone,permanently_closed:b.is_permanently_closed||!1,place_topics:b.category_list.map(function(a){return a.id}),store_number:i}})}function r(a,c){return l(a).then(function(d){return b("AdsGraphAPI").get(e.id).object("page",a).edge("locations").post({access_token:d,hours:c.hours,id:c.id,location:c.location,permanently_closed:c.permanently_closed,phone:c.phone,place_topics:c.place_topics,store_number:c.store_number}).then(function(a){return s(a.id)})})}function c(a){return b("AdsGraphAPI").get(e.id).object("page",a).get({fields:b("LMChildPageFastFields")}).then(function(a){return new h({name:a.name,store_number:a.store_number,phone:a.phone,always_open:a.is_always_open,permanently_closed:a.is_permanently_closed,hours:a.hours,price_range:m(a.price_range),page_username:a.username,geo_location:babelHelpers["extends"]({},a.location||{},{single_line_address:a.single_line_address}),is_published:a.is_published,place_topics:a.place_topics?a.place_topics.data:[],website:a.website,store_location_descriptor:a.store_location_descriptor,is_review_eligible:t("IS_REVIEW_ELIGIBLE",a.settings),is_eligible_for_store_visit_reporting:a.is_eligible_for_store_visit_reporting,name_with_location_descriptor:a.name_with_location_descriptor,userpermissions:a.userpermissions,wifi_information_name:a.wifi_information!=null?a.wifi_information.name:void 0})})}function s(a){return b("AdsGraphAPI").get(e.id).object("page",a).get({fields:b("LMChildPageFastFields")}).then(function(a){return n(a)})}function d(a,c,d){return l(a).then(function(f){return b("AdsGraphAPI").get(e.id).object("page",a).edge("locations").post(babelHelpers["extends"]({access_token:f,ignore_warnings:!0},o(a,c,d))).then(function(a){return s(a.id)})})}function f(a,c){return l(a).then(function(d){return b("AdsGraphAPI").get(e.id).object("page",a).edge("locations").remove({access_token:d,location_page_id:c.id,store_number:c.store_number})}).then(function(a){if(!a.success)throw new Error("Failed to remove location")})}function t(a,b){b=b!=null?b.data:[];b=b.find(function(b){return b.setting===a});return b!=null?b.value:undefined}e.exports={businessLocationFromApi:n,createChildLocationFromOwnedPage:a,getAccessToken:l,getPageById:c,saveLocation:d,removeLocation:f}}),null);
__d("LMChildPageFastFieldsDataManager",["fbt","regeneratorRuntime","AdsGraphAPI","LMAbstractBatchedDataManager","LMActions","LMChildPageFastFields","LMConfigStore","LMUtils","LocationManagerUtils","immutable","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("LMActions").dispatchActionFromServerResponse,j=b("LMUtils").processMultigetResponse,k=b("LocationManagerUtils").businessLocationFromApi,l=b("LocationManagerUtils").getAccessToken,m=function(a,b){return j(a,b,function(a){return new Error(g._("There was an issue loading information for this location, please try refreshing the page."))}).map(function(a){return a instanceof Error?a:k(a)})};h=babelHelpers.inherits(a,b("LMAbstractBatchedDataManager"));h&&h.prototype;a.prototype.__genData=function(a){__p&&__p();var c,d;return b("regeneratorRuntime").async(function(f){while(1)switch(f.prev=f.next){case 0:c=b("LMConfigStore").getState(),d=c.parentPageID;f.next=3;return b("regeneratorRuntime").awrap(l(b("nullthrows")(d)).then(function(c){return b("AdsGraphAPI").get(e.id).objectsByName("page",a).get({access_token:c,fields:b("LMChildPageFastFields")})}));case 3:return f.abrupt("return",f.sent);case 4:case"end":return f.stop()}},null,this)};a.prototype.__processResultOrError=function(a,b){i({type:"lm.child_page.batch_loaded",child_pages:m(a,b)})};function a(){h.apply(this,arguments)}e.exports=new a()}),null);
__d("LMChildPageFastFieldsStore",["AdsDataAtom","FluxLoadObjectStore","LMChildPageFastFieldsDataManager"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;g=babelHelpers.inherits(a,b("FluxLoadObjectStore"));g&&g.prototype;a.prototype.reduce=function(a,b){b=b.action;switch(b.type){case"lm.child_page.batch_loaded":return this.__handleMap(a,b.child_pages);case"lm.locations.location_added":return this.__handleOne(a,b.newLocation.id,b.newLocation);case"lm.locations.location_updated":return this.__handleOne(a,b.newLocation.id,b.newLocation);default:return a}};a.prototype.__loadAll=function(a){b("LMChildPageFastFieldsDataManager").loadAll(a)};function a(){g.apply(this,arguments)}a.__moduleID=e.id;e.exports=new a(b("AdsDataAtom"))}),null);
__d("LMChildPageSlowFields",["ApiPageFields"],(function(a,b,c,d,e,f){"use strict";a=[b("ApiPageFields").ID,b("ApiPageFields").STORE_LOCATION_DESCRIPTOR_AUTOGENERATED].join(",");e.exports=a}),null);
__d("LMChildPageSlowFieldsDataManager",["fbt","regeneratorRuntime","AdsGraphAPI","LMAbstractBatchedDataManager","LMActions","LMChildPageSlowFields","LMConfigStore","LMUtils","LocationManagerUtils","immutable","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("LMActions").dispatchActionFromServerResponse,j=b("LMUtils").processMultigetResponse,k=b("LocationManagerUtils").getAccessToken,l=function(a,b){return j(a,b,function(a){return new Error(g._("Failed to load page {page_id}",[g._param("page_id",a)]))})};c=babelHelpers.inherits(a,b("LMAbstractBatchedDataManager"));h=c&&c.prototype;function a(){h.constructor.call(this,{timeout:100,maxBatchSize:5,concurrency:1})}a.prototype.__genData=function(a){__p&&__p();var c,d,f;return b("regeneratorRuntime").async(function(g){__p&&__p();while(1)switch(g.prev=g.next){case 0:c=b("LMConfigStore").getState(),d=c.parentPageID;g.next=3;return b("regeneratorRuntime").awrap(k(b("nullthrows")(d)));case 3:f=g.sent;g.next=6;return b("regeneratorRuntime").awrap(b("AdsGraphAPI").get(e.id).objectsByName("page",a).get({access_token:f,fields:b("LMChildPageSlowFields")}));case 6:return g.abrupt("return",g.sent);case 7:case"end":return g.stop()}},null,this)};a.prototype.__processResultOrError=function(a,b){i({type:"lm.child_page_non_table.batch_loaded",child_pages:l(a,b)})};e.exports=new a()}),null);
__d("LMChildPageSlowFieldsStore",["AdsDataAtom","FluxLoadObjectStore","LMChildPageSlowFieldsDataManager"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;g=babelHelpers.inherits(a,b("FluxLoadObjectStore"));g&&g.prototype;a.prototype.reduce=function(a,b){b=b.action;switch(b.type){case"lm.child_page_non_table.batch_loaded":return this.__handleMap(a,b.child_pages);case"lm.locations.location_updated":return a["delete"](b.newLocation.id);default:return a}};a.prototype.__loadAll=function(a){b("LMChildPageSlowFieldsDataManager").loadAll(a)};function a(){g.apply(this,arguments)}a.__moduleID=e.id;e.exports=new a(b("AdsDataAtom"))}),null);
__d("FluxSimpleDerivedStore",["FluxReduceStore","abstractMethod"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=babelHelpers.inherits(a,b("FluxReduceStore"));g=c&&c.prototype;function a(a){g.constructor.call(this,a),this.$FluxSimpleDerivedStore2=this.__getStores(),this.$FluxSimpleDerivedStore3=this.$FluxSimpleDerivedStore2.map(function(a){return a.getDispatchToken()})}a.prototype.getInitialState=function(){this.$FluxSimpleDerivedStore1=this.__getData();return this.__computeResult(this.$FluxSimpleDerivedStore1)};a.prototype.reduce=function(a,b){__p&&__p();this.getDispatcher().waitFor(this.$FluxSimpleDerivedStore3);if(this.$FluxSimpleDerivedStore2.some(h)){b=this.$FluxSimpleDerivedStore1;var c=this.__getData(b);if(!b||!this.__areEqual(b,c)){this.$FluxSimpleDerivedStore1=c;return this.__computeResult(c,a)}}return a};a.prototype.__getStores=function(){return b("abstractMethod")("FluxSimpleDerivedStore","__getStores")};a.prototype.__getData=function(a){return b("abstractMethod")("FluxSimpleDerivedStore","__getData")};a.prototype.__computeResult=function(a,c){return b("abstractMethod")("FluxSimpleDerivedStore","__computeResult")};a.prototype.__areEqual=function(a,b){return a===b};a.prototype.getDependencyStores=function(){return this.$FluxSimpleDerivedStore2};a.__moduleID=e.id;var h=function(a){return a.hasChanged()};e.exports=a}),null);
__d("LMSelectedLocationIDsStore",["AdsDataAtom","FluxReduceStore","LMConfigStore","LMFilterLocationsStore","LMQueryLocationStore","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=[b("LMFilterLocationsStore"),b("LMConfigStore"),b("LMQueryLocationStore")],i=h.map(function(a){return a.getDispatchToken()}),j=function(){return h.some(function(a){return a.hasChanged()})};g=babelHelpers.inherits(a,b("FluxReduceStore"));g&&g.prototype;a.prototype.getInitialState=function(){return b("immutable").OrderedSet()};a.prototype.reduce=function(a,c){__p&&__p();c=c.action;b("AdsDataAtom").waitFor(i);j()&&(a=k(a));switch(c.type){case"lm.locations.selected_location.shift":return a.union(c.locationIDs);case"lm.locations.selected_location":return a.add(c.locationID);case"lm.locations.deselected_location":return a["delete"](c.locationID);case"lm.select_all.done":return c.ids.toOrderedSet();case"lm.select_all.clear":return b("immutable").OrderedSet()}return a};function a(){g.apply(this,arguments)}a.__moduleID=e.id;function k(a){var c=b("LMConfigStore").getState();c=c.parentPageID;if(c==null)return a;var d=b("LMQueryLocationStore").getState();c=b("LMFilterLocationsStore").getFor(c,d).map(function(a){return a.ids}).getValue();return c!=null?a.intersect(c):a}e.exports=new a(b("AdsDataAtom"))}),null);
__d("LMEditedLocationIDsStore",["AdsDataAtom","FluxReduceStore","LMSelectedLocationIDsStore","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("immutable").OrderedSet();g=babelHelpers.inherits(a,b("FluxReduceStore"));g&&g.prototype;a.prototype.getInitialState=function(){return h};a.prototype.reduce=function(a,c){c=c.action;switch(c.type){case"lm.click_bulk_edit_locations.keyboard":case"lm.click_bulk_edit_locations":b("AdsDataAtom").waitFor([b("LMSelectedLocationIDsStore").getDispatchToken()]);return b("LMSelectedLocationIDsStore").getState();case"lm.click_edit_location":return b("immutable").OrderedSet.of(c.locationID);case"lm.close_dialog":return h;default:return a}};function a(){g.apply(this,arguments)}a.__moduleID=e.id;e.exports=new a(b("AdsDataAtom"))}),null);
__d("LMPublishingOperation",["immutable"],(function(a,b,c,d,e,f){"use strict";var g;c=b("immutable").Record({id:undefined,operationType:undefined,parentPageID:undefined,existingLocations:b("immutable").Map(),newLocations:b("immutable").List()});g=babelHelpers.inherits(a,c);g&&g.prototype;function a(){g.apply(this,arguments)}e.exports=a}),null);
__d("LMPublishingDataManager",["regeneratorRuntime","Promise","FBLogger","GraphAPIPolling","LMActions","LMFilterLocationsDataManager","LMPublishingOperation","LocationManagerUtils","dangerouslyBypassDispatchError","promiseDone"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("LMActions").dispatchActionFromServerResponse,h=b("LMActions").dispatchActionFromView;a={startPublishing:function(a,c){b("promiseDone")(i(a,c))}};function i(a,c){__p&&__p();var d;return b("regeneratorRuntime").async(function(e){__p&&__p();while(1)switch(e.prev=e.next){case 0:e.prev=0;b("dangerouslyBypassDispatchError")(function(){return h({type:"lm.close_dialog"})});e.next=4;return b("regeneratorRuntime").awrap(j(c,a));case 4:d=e.sent;e.next=7;return b("regeneratorRuntime").awrap(o(c,d));case 7:g({type:"lm.publish.done",operationID:c.id,parentPageID:c.parentPageID,results:d});e.next=14;break;case 10:e.prev=10;e.t0=e["catch"](0);b("FBLogger")("location_manager").catching(e.t0).mustfix("publishing_failed");throw e.t0;case 14:case"end":return e.stop()}},null,this,[[0,10]])}function j(a,c){__p&&__p();var d,e;return b("regeneratorRuntime").async(function(f){__p&&__p();while(1)switch(f.prev=f.next){case 0:d=a.operationType,e=a.parentPageID;f.t0=d;f.next=f.t0==="add"?4:f.t0==="edit"?7:f.t0==="delete"?10:f.t0==="claim_page"?13:16;break;case 4:f.next=6;return b("regeneratorRuntime").awrap(b("Promise").all(c.map(function(a){return k(e,a)})));case 6:return f.abrupt("return",f.sent);case 7:f.next=9;return b("regeneratorRuntime").awrap(b("Promise").all(c.map(function(a){return l(e,a)})));case 9:return f.abrupt("return",f.sent);case 10:f.next=12;return b("regeneratorRuntime").awrap(b("Promise").all(c.map(function(a){return n(e,a)})));case 12:return f.abrupt("return",f.sent);case 13:f.next=15;return b("regeneratorRuntime").awrap(b("Promise").all(c.map(function(a){return m(e,a)})));case 15:return f.abrupt("return",f.sent);case 16:throw new Error("Invalid operation");case 17:case"end":return f.stop()}},null,this)}function k(a,c){__p&&__p();var d;return b("regeneratorRuntime").async(function(e){__p&&__p();while(1)switch(e.prev=e.next){case 0:e.prev=0;e.next=3;return b("regeneratorRuntime").awrap(b("LocationManagerUtils").saveLocation(a,c.id,c));case 3:d=e.sent;g({type:"lm.locations.location_added",parentPageID:a,newLocation:d});return e.abrupt("return",{oldLocation:c,newLocation:d,error:null});case 8:e.prev=8;e.t0=e["catch"](0);return e.abrupt("return",{oldLocation:c,newLocation:null,error:e.t0});case 11:case"end":return e.stop()}},null,this,[[0,8]])}function l(a,c){__p&&__p();var d;return b("regeneratorRuntime").async(function(e){__p&&__p();while(1)switch(e.prev=e.next){case 0:e.prev=0;e.next=3;return b("regeneratorRuntime").awrap(b("LocationManagerUtils").saveLocation(a,c.id,c));case 3:d=e.sent;g({type:"lm.locations.location_updated",parentPageID:a,oldLocation:c,newLocation:d});return e.abrupt("return",{oldLocation:c,newLocation:d,error:null});case 8:e.prev=8;e.t0=e["catch"](0);return e.abrupt("return",{oldLocation:c,newLocation:null,error:e.t0});case 11:case"end":return e.stop()}},null,this,[[0,8]])}function m(a,c){__p&&__p();var d;return b("regeneratorRuntime").async(function(e){__p&&__p();while(1)switch(e.prev=e.next){case 0:e.prev=0;e.next=3;return b("regeneratorRuntime").awrap(b("LocationManagerUtils").saveLocation(a,c.id,c));case 3:d=e.sent;g({type:"lm.locations.location_updated",parentPageID:a,oldLocation:c,newLocation:d});return e.abrupt("return",{oldLocation:c,newLocation:d,error:null});case 8:e.prev=8;e.t0=e["catch"](0);return e.abrupt("return",{oldLocation:c,newLocation:null,error:e.t0});case 11:case"end":return e.stop()}},null,this,[[0,8]])}function n(a,c){__p&&__p();return b("regeneratorRuntime").async(function(d){__p&&__p();while(1)switch(d.prev=d.next){case 0:d.prev=0;d.next=3;return b("regeneratorRuntime").awrap(b("LocationManagerUtils").removeLocation(a,c));case 3:g({type:"lm.locations.location_deleted",parentPageID:a,locationID:c.id});return d.abrupt("return",{oldLocation:c,newLocation:null,error:null});case 7:d.prev=7;d.t0=d["catch"](0);return d.abrupt("return",{oldLocation:c,newLocation:null,error:d.t0});case 10:case"end":return d.stop()}},null,this,[[0,7]])}function o(a,c){__p&&__p();var d,e,f,g,h,i,j,k,l,m,n,o,q,r;return b("regeneratorRuntime").async(function(s){__p&&__p();while(1)switch(s.prev=s.next){case 0:d=a.operationType,e=a.parentPageID;s.t0=d;s.next=s.t0==="claim_page"?4:s.t0==="add"?4:s.t0==="edit"?23:s.t0==="delete"?24:43;break;case 4:f=c,g=Array.isArray(f),h=0,f=g?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();case 5:if(!g){s.next=11;break}if(!(h>=f.length)){s.next=8;break}return s.abrupt("break",22);case 8:i=f[h++];s.next=15;break;case 11:h=f.next();if(!h.done){s.next=14;break}return s.abrupt("break",22);case 14:i=h.value;case 15:j=i;k=j.newLocation;if(!(k&&!j.error)){s.next=20;break}s.next=20;return b("regeneratorRuntime").awrap(p(e,k.id,!0));case 20:s.next=5;break;case 22:return s.abrupt("break",43);case 23:return s.abrupt("break",43);case 24:l=c,m=Array.isArray(l),n=0,l=m?l:l[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();case 25:if(!m){s.next=31;break}if(!(n>=l.length)){s.next=28;break}return s.abrupt("break",42);case 28:o=l[n++];s.next=35;break;case 31:n=l.next();if(!n.done){s.next=34;break}return s.abrupt("break",42);case 34:o=n.value;case 35:q=o;r=q.oldLocation;if(!(r&&!q.error)){s.next=40;break}s.next=40;return b("regeneratorRuntime").awrap(p(e,r.id,!1));case 40:s.next=25;break;case 42:return s.abrupt("break",43);case 43:case"end":return s.stop()}},null,this)}function p(a,c,d){return b("regeneratorRuntime").async(function(e){while(1)switch(e.prev=e.next){case 0:e.next=2;return b("regeneratorRuntime").awrap(b("GraphAPIPolling").poll(function(){return b("LMFilterLocationsDataManager").genIsLocationInIndex(a,c)},function(a){return a===d})());case 2:case"end":return e.stop()}},null,this)}e.exports=a}),null);
__d("LMPublishingStore",["AdsDataAtom","FBLogger","FluxReduceStore","LMPublishingDataManager","LMPublishingOperation","LMPublishingUtils","LoadObject","guid","immutable","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("LMPublishingUtils").getLocations,i=b("LMPublishingUtils").getLocationStatus,j=b("LMPublishingUtils").getLocationToLastOperation;g=babelHelpers.inherits(a,b("FluxReduceStore"));g&&g.prototype;a.prototype.getInitialState=function(){return b("immutable").OrderedMap()};a.prototype.reduce=function(a,c){__p&&__p();c=c.action;switch(c.type){case"lm.publish.start":var d=k(a,c.locations,c.operationType,c.parentPageID,c.operationID);b("LMPublishingDataManager").startPublishing(c.locations,d);return l(a,d);case"lm.publish.done":d=c.operationID;var e=c.results;return a.update(d,function(a){return m(a,e)});case"lm.publish.remove_operation":return a["delete"](c.operationID);default:return a}};function a(){g.apply(this,arguments)}a.__moduleID=e.id;var k=function(a,c,d,e,f){__p&&__p();if(d==="add")return new(b("LMPublishingOperation"))({id:f||b("guid")(),operationType:d,parentPageID:e,newLocations:b("immutable").List(c.map(function(a){return b("LoadObject").withValue(a).creating()}))});var g=j(a,!1);f=b("immutable").Seq(c).filter(function(a){return a.id!=null}).map(function(a){return g.get(a.id)}).map(function(a){return a?a.id:null}).toSet();if(f.size===1&&f.first()!=null){f=b("nullthrows")(f.first());a=a.get(f);return a.update("existingLocations",function(a){__p&&__p();return a.withMutations(function(a){__p&&__p();for(var d=c,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=d.length)break;g=d[f++]}else{f=d.next();if(f.done)break;g=f.value}g=g;a.set(g.id,b("LoadObject").withValue(g).updating())}})})}else{f=b("immutable").Map(c.map(function(a){return[a.id,b("LoadObject").withValue(a).updating()]}));return new(b("LMPublishingOperation"))({id:b("guid")(),operationType:d,parentPageID:e,existingLocations:f})}},l=function(a,b){__p&&__p();for(var c=a.values(),d=Array.isArray(c),e=0,c=d?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=c.length)break;f=c[e++]}else{e=c.next();if(e.done)break;f=e.value}f=f;if(f.id===b.id||f.operationType==="add")continue;for(var g=b.existingLocations.keys(),j=Array.isArray(g),k=0,g=j?g:g[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var l;if(j){if(k>=g.length)break;l=g[k++]}else{k=g.next();if(k.done)break;l=k.value}l=l;l=[f.id,"existingLocations",l];var m=a.getIn(l);m&&i(m)!=="success"&&(a=a.deleteIn(l))}m=a.get(f.id);h(m).size===0&&(a=a["delete"](m.id))}return a.set(b.id,b)};function m(a,c){__p&&__p();c.forEach(function(c,d){__p&&__p();var e=c.newLocation||c.oldLocation,f=a;f=f.operationType;var g=f==="add"?"newLocations":"existingLocations";f=f==="add"?d:e?e.id:null;if(f==null){b("FBLogger")("location_manager").warn("Invalid state in LMPublishingStore");return}a=a.updateIn([g,f],b("LoadObject").empty(),function(a){return n(a,c)})});return a}function n(a,b){a=a.removeOperation();var c=b.newLocation||b.oldLocation||null;c&&(a=a.setValue(c));b.error?a=a.setError(b.error):a=a.removeError();return a}e.exports=new a(b("AdsDataAtom"))}),null);
__d("LMLastPublishingOperationStore",["AdsDataAtom","FluxSimpleDerivedStore","LMPublishingStore","LMPublishingUtils","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("LMPublishingUtils").getLocationToLastOperation;g=babelHelpers.inherits(a,b("FluxSimpleDerivedStore"));g&&g.prototype;a.prototype.__getStores=function(){return[b("LMPublishingStore")]};a.prototype.__getData=function(){return b("LMPublishingStore").getState()};a.prototype.__computeResult=function(a){return h(a,!0)};function a(){g.apply(this,arguments)}a.__moduleID=e.id;e.exports=new a(b("AdsDataAtom"))}),null);
__d("LMLocationPublishingStateStore",["AdsDataAtom","FluxDerivedStore","LMLastPublishingOperationStore","LoadObject"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;g=babelHelpers.inherits(a,b("FluxDerivedStore"));g&&g.prototype;a.prototype.__getStores=function(){return[b("LMLastPublishingOperationStore")]};a.prototype.__getData=function(a){return b("LMLastPublishingOperationStore").getState().getIn([a,"existingLocations",a],b("LoadObject").empty())};a.prototype.__computeResult=function(a,b){return b};function a(){g.apply(this,arguments)}a.__moduleID=e.id;e.exports=new a(b("AdsDataAtom"))}),null);
__d("LMEditedLocationsStore",["AdsDataAtom","FluxSimpleDerivedStore","LMChildPageFastFieldsStore","LMEditedLocationIDsStore","LMLocationPublishingStateStore","LoadObject","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;g=babelHelpers.inherits(a,b("FluxSimpleDerivedStore"));g&&g.prototype;a.prototype.__getStores=function(){return[b("LMEditedLocationIDsStore"),b("LMChildPageFastFieldsStore"),b("LMLocationPublishingStateStore")]};a.prototype.__getData=function(){var a=b("LMEditedLocationIDsStore").getState(),c=b("LMChildPageFastFieldsStore").getAll(a),d=b("LMLocationPublishingStateStore").getAll(a);return a.map(function(a){var e=d.get(a);return!e.isEmpty()?e.removeError().removeOperation():c.get(a)||b("LoadObject").loading()})};a.prototype.__areEqual=function(a,c){return b("immutable").is(a,c)};a.prototype.__computeResult=function(a){return a};function a(){g.apply(this,arguments)}a.__moduleID=e.id;e.exports=new a(b("AdsDataAtom"))}),null);
__d("LMGeoCodingDataManager",["Promise","AdsGeoPlaceDataLoader","AdsGraphAPI","GeoCoordinates","GeoPlace","LMActions","URI","promiseAsyncRequest","promiseDone"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=function(a){return h(a).then(function(b){if(b)return b;else return i(a)})};a=function(a){return b("promiseDone")(g(a)["catch"](function(a){return a}),function(c){b("LMActions").dispatchActionFromServerResponse({type:"lm.geo_code",address:a,place:c})})};var h=function(a){return b("AdsGeoPlaceDataLoader").get(a)["catch"](function(a){return null})},i=function(a){return b("Promise").resolve(null).then(function(){return a.city?j(a.city):null}).then(function(a){return a?k(a):null})["catch"](function(a){return null})},j=function(a){return b("promiseAsyncRequest")(new(b("URI"))("/ajax/typeahead/global_cities.php").addQueryData({value:a.name,use_fbid:!0}).toString()).then(function(b){b=b.payload.entries.find(function(b){return b.city_id==a.key});return b?""+b.uid:null})},k=function(a){return b("AdsGraphAPI").get(e.id).object("page",a).get({fields:"location{country_code,latitude,longitude},name"}).then(function(a){return!a||!a.location?null:new(b("GeoPlace"))(new(b("GeoCoordinates"))(a.location.latitude,a.location.longitude),a.name,a.location.country_code)})};e.exports={geocodeAddress_DEPRECATED:g,geocodeAddress:a}}),null);
__d("LMGeoCodingStore",["AdsDataAtom","FluxLoadObjectStore","LMGeoCodingDataManager"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;g=babelHelpers.inherits(a,b("FluxLoadObjectStore"));g&&g.prototype;a.prototype.reduce=function(a,b){b=b.action;switch(b.type){case"lm.geo_code":return this.__handleOne(a,b.address,b.place);default:return a}};a.prototype.__load=function(a){b("LMGeoCodingDataManager").geocodeAddress(a)};function a(){g.apply(this,arguments)}a.__moduleID=e.id;e.exports=new a(b("AdsDataAtom"))}),null);
__d("LMGeoCodingUtils",["LMGeoCodingStore","debounce"],(function(a,b,c,d,e,f){"use strict";var g=b("debounce")(function(a){return void b("LMGeoCodingStore").get(a)},200);function a(a){g(a);return b("LMGeoCodingStore").getCached(a)}e.exports={getDebouncedGeoPlace:a}}),null);
__d("LMMaxStoreNumberStore",["AdsDataAtom","FluxDerivedStore","LMChildPageFastFieldsStore","LMFilterLocationsStore","LoadObject","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h={activeFilters:b("immutable").Set(),searchText:"",sortColumn:"parent_store_number",sortDirection:"DESC",selectedEntries:b("immutable").Map()},i=0;g=babelHelpers.inherits(a,b("FluxDerivedStore"));g&&g.prototype;a.prototype.__getStores=function(){return[b("LMFilterLocationsStore"),b("LMChildPageFastFieldsStore")]};a.prototype.__getData=function(a,c){return b("LMFilterLocationsStore").getFor(a,h).map(function(a){return a.ids.first()}).map(function(a){return a?b("LMChildPageFastFieldsStore").get(a).map(function(a){return a.store_number}):i})};a.prototype.__computeResult=function(a,b,c){return b};function a(){g.apply(this,arguments)}a.__moduleID=e.id;e.exports=new a(b("AdsDataAtom"))}),null);
__d("LMPhoneNumberDataManager",["LMActions","PhoneNumber","promiseDone"],(function(a,b,c,d,e,f){"use strict";function a(a,c){b("promiseDone")(b("PhoneNumber").parseNumber(a,c)["catch"](function(a){return a}),function(d){b("LMActions").dispatchActionFromServerResponse({type:"lm.parse_phone_number",phoneNumber:a,regionHint:c,resultOrError:d})})}e.exports={parsePhoneNumber:a}}),null);
__d("LMPhoneNumberKey",["immutable"],(function(a,b,c,d,e,f){"use strict";var g;c=b("immutable").Record({phoneNumber:undefined,regionHint:undefined});g=babelHelpers.inherits(a,c);g&&g.prototype;function a(){g.apply(this,arguments)}e.exports=a}),null);
__d("LMPhoneNumberStore",["AdsDataAtom","FluxLoadObjectStore","LMPhoneNumberDataManager","LMPhoneNumberKey","PhoneNumber"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h;g=babelHelpers.inherits(a,b("FluxLoadObjectStore"));h=g&&g.prototype;a.prototype.reduce=function(a,c){c=c.action;switch(c.type){case"lm.parse_phone_number":var d=new(b("LMPhoneNumberKey"))({phoneNumber:c.phoneNumber,regionHint:c.regionHint});return this.__handleOne(a,d,c.resultOrError);default:return a}};a.prototype.__load=function(a){b("LMPhoneNumberDataManager").parsePhoneNumber(a.phoneNumber,a.regionHint)};a.prototype.getPhoneNumber=function(a,c){a=new(b("LMPhoneNumberKey"))({phoneNumber:a,regionHint:c});return h.get.call(this,a)};function a(){g.apply(this,arguments)}a.__moduleID=e.id;e.exports=new a(b("AdsDataAtom"))}),null);
__d("LMPhoneNumberErrors",["fbt"],(function(a,b,c,d,e,f,g){"use strict";a=g._("You can only use phone numbers in the same country as your store location.");b=g._("Premium phone numbers are not allowed.");c=g._("Sorry, something went wrong while validating the phone number, please try again later.");e.exports={INTERNATIONAL_NUMBER_ERROR:a,PREMIUM_NUMBER_ERROR:b,TECHNICAL_ERROR:c}}),null);
__d("LMPhoneNumberUtils",["LMPhoneNumberErrors","LMPhoneNumberKey","LMPhoneNumberStore","LoadObject","PhoneNumber","PhoneNumberCategory","PhoneNumberError","debounce"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){return b("PhoneNumber").getRawNumberFromTelURI(a.getURI())||a.getDisplayNumber()}function c(a,c){var d=a.getError();if(d!=null){d=d instanceof b("PhoneNumberError")?String(d.defaultXUIError):b("LMPhoneNumberErrors").TECHNICAL_ERROR;return b("LoadObject").withValue(d)}return a.map(function(a){if(a.getCategory()===b("PhoneNumberCategory").PREMIUM_RATE)return b("LMPhoneNumberErrors").PREMIUM_NUMBER_ERROR;return c&&!a.getRegionCodes().includes(c)?b("LMPhoneNumberErrors").INTERNATIONAL_NUMBER_ERROR:null})}var g=b("debounce")(function(a){return void b("LMPhoneNumberStore").get(a)},200);function d(a,c){a=new(b("LMPhoneNumberKey"))({phoneNumber:a,regionHint:c});g(a);return b("LMPhoneNumberStore").getCached(a)}e.exports={formatPhoneNumber:a,getDebouncedPhoneNumber:d,validatePhoneNumber:c}}),null);
__d("LMBulkEditableBusinessLocationStore",["AdsBulkValueUtils","AdsDataAtom","AdsEmptyValue","AdsLoadObjectUtils","AdsUniformValue","FluxReduceStore","LMBulkEditableBusinessLocation","LMBulkEditableBusinessLocationStoreState","LMBulkUtils","LMChildPageFastFieldsStore","LMChildPageSlowFieldsStore","LMConfigStore","LMEditedLocationsStore","LMFilterLocationsStore","LMGeoCodingStore","LMGeoCodingUtils","LMMaxStoreNumberStore","LMOwnedPageStore","LMPhoneNumberStore","LMPhoneNumberUtils","LMPublishingUtils","LMQueryLocationStore","LoadObject","filterNulls","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("LMBulkUtils").getBulkEditableBusinessLocation,i=b("LMBulkUtils").getHasSomeClosedStores,j=b("LMBulkUtils").getSimpleAddress,k=b("LMBulkUtils").isCountryWithoutZip;g=babelHelpers.inherits(a,b("FluxReduceStore"));g&&g.prototype;a.prototype.getInitialState=function(){return new(b("LMBulkEditableBusinessLocationStoreState"))({operationType:"edit"})};a.prototype.reduce=function(a,c){__p&&__p();c=c.action;switch(c.type){case"lm.hide_confirm_modal":return a.set("isConfirmModalShown",!1);case"lm.show_confirm_modal":return a.set("isConfirmModalShown",!0);case"lm.publish.start":return a.set("hasLocationChanged",!1).set("isConfirmModalShown",!1);case"lm.update_location":var d=a.bulkLocation.map(j).getValue(),e=c.location.map(j).getValue();d=b("immutable").is(d,e)?c.location:c.location.map(l);e=a.bulkLocation.map(i).getValue();var f=c.location.map(i).getValue();return a.set("bulkLocation",d.map(m).map(n)).set("changedToPermanentlyClosed",!!(!e&&f)).set("hasLocationChanged",!0);case"lm.click_bulk_edit_locations.keyboard":case"lm.click_bulk_edit_locations":case"lm.click_edit_location":case"lm.close_dialog":b("AdsDataAtom").waitFor([b("LMEditedLocationsStore").getDispatchToken()]);d=p(b("LMEditedLocationsStore").getState());return d.set("hasLocationChanged",!1);case"lm.click_add_new_page":b("AdsDataAtom").waitFor([b("LMOwnedPageStore").getDispatchToken(),b("LMConfigStore").getDispatchToken(),b("LMMaxStoreNumberStore").getDispatchToken()]);e=b("LMConfigStore").getState();f=e.parentPageID;if(f==null)return a;var g=b("LMOwnedPageStore").get(f).getValue();if(g==null)return a;d=b("LMMaxStoreNumberStore").get(f);var k=this.$LMBulkEditableBusinessLocationStore1();e=d.map(function(a){return new(b("LMBulkEditableBusinessLocation"))().set("id",new(b("AdsUniformValue"))(null)).set("name",new(b("AdsUniformValue"))(g.name)).set("place_topics",k?new(b("AdsUniformValue"))([k]):new(b("AdsEmptyValue"))()).set("store_number",new(b("AdsUniformValue"))(a+1))});return new(b("LMBulkEditableBusinessLocationStoreState"))({bulkLocation:e,operationID:null,operationType:"add"});case"lm.publish.restore_edit_session":f=c.operation;d=h(b("LMPublishingUtils").getLocations(f).filter(function(a){return a.hasError()}).map(function(a){return a.getValueEnforcing()}).toArray());return new(b("LMBulkEditableBusinessLocationStoreState"))({bulkLocation:b("LoadObject").withValue(d),operationID:f.id,operationType:f.operationType});case"lm.claim_page.edit":e=c.location;d=c.newStoreNumber;f=h([e]).set("store_number",new(b("AdsUniformValue"))(d));return new(b("LMBulkEditableBusinessLocationStoreState"))({bulkLocation:b("LoadObject").withValue(f),operationID:null,operationType:"claim_page"})}if(a.bulkLocation.hasOperation())return a;switch(c.type){case"lm.geo_code":return a.update("bulkLocation",function(a){return a.map(l)});case"lm.parse_phone_number":return a.update("bulkLocation",function(a){return a.map(m)});case"lm.child_page_non_table.batch_loaded":return a.update("bulkLocation",function(a){return a.map(n)})}return a};a.prototype.$LMBulkEditableBusinessLocationStore1=function(){__p&&__p();b("AdsDataAtom").waitFor([b("LMChildPageFastFieldsStore").getDispatchToken(),b("LMConfigStore").getDispatchToken(),b("LMFilterLocationsStore").getDispatchToken(),b("LMQueryLocationStore").getDispatchToken()]);var a="",c=0,d="",e=new Map(),f=b("LMQueryLocationStore").getState(),g=b("LMConfigStore").getState();g=g.parentPageID;if(!g)return null;g=b("LMFilterLocationsStore").getFor(g,f).map(function(a){return a.ids}).getValue();if(!g)return null;f=g.flatten();b("LMChildPageFastFieldsStore").getAll(f).map(function(a){return a.getValue()}).forEach(function(b){if(!b||!b.place_topics)return;b.place_topics.forEach(function(b){var f=b.name;b=b.id;e.has(f)||e.set(f,0);var g=e.get(f)+1;e.set(f,g);g>c&&(c=g,a=f,d=b)})});return c===0?null:{id:d,name:a}};function a(){g.apply(this,arguments)}a.__moduleID=e.id;function l(a){b("AdsDataAtom").waitFor([b("LMGeoCodingStore").getDispatchToken()]);var c=j(a);if(c==null)return a;c=b("LMGeoCodingUtils").getDebouncedGeoPlace(c).getValue();if(c==null)return a;var d=c.countryKey!=null?new(b("AdsUniformValue"))(c.countryKey):a.geo_location.country_code;return a.set("geo_location",a.geo_location.set("country_code",d).set("latitude",new(b("AdsUniformValue"))(c.coordinates.latitude)).set("longitude",new(b("AdsUniformValue"))(c.coordinates.longitude)).set("single_line_address",c.name!=null?new(b("AdsUniformValue"))(c.name):a.geo_location.single_line_address).set("zip",d instanceof b("AdsUniformValue")&&!k(d.getValue())?a.geo_location.zip:new(b("AdsUniformValue"))("")))}function m(a){b("AdsDataAtom").waitFor([b("LMPhoneNumberStore").getDispatchToken()]);var c=b("AdsBulkValueUtils").getUniformValue(a.geo_location.country_code,null),d=b("AdsBulkValueUtils").getUniformValue(a.phone,null);if(d==null)return a;d=b("LMPhoneNumberUtils").getDebouncedPhoneNumber(d,c).map(b("LMPhoneNumberUtils").formatPhoneNumber).getValue();return d==null?a:a.set("phone",new(b("AdsUniformValue"))(d))}function n(a){__p&&__p();b("AdsDataAtom").waitFor([b("LMChildPageSlowFieldsStore").getDispatchToken()]);var c=b("filterNulls")(a.id.getValues().filter(function(a){return a!=null})),d=b("LMChildPageSlowFieldsStore").getAll(c).map(function(a){return a.getValue()}).filter(function(a){return a!=null}).map(function(a){return a?a.store_location_descriptor_autogenerated||"":""}),e=[];for(var c=c,f=Array.isArray(c),g=0,c=f?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(f){if(g>=c.length)break;h=c[g++]}else{g=c.next();if(g.done)break;h=g.value}h=h;e.push(d.get(h))}h=b("AdsBulkValueUtils").aggregate(e);return a.set("store_location_descriptor_autogenerated",h)}var o=new(b("LMBulkEditableBusinessLocationStoreState"))({operationType:"edit"});function p(a){a=a.size>0?o.set("bulkLocation",b("AdsLoadObjectUtils").all(a).map(h)):o;return a.update("bulkLocation",function(a){return a.map(n)})}e.exports=new a(b("AdsDataAtom"))}),null);
__d("LMChildCountDataManager",["AdsGraphAPI","GraphEdgeName","LMActions","promiseDone"],(function(a,b,c,d,e,f){"use strict";var g=b("LMActions").dispatchActionFromServerResponse,h={summary:!0,limit:0};a={load:function(a){b("promiseDone")(b("AdsGraphAPI").get(e.id).object("page",a).edge(b("GraphEdgeName").LOCATIONS).get(h)["catch"](function(a){return a}),function(b){return g({type:"lm.child_page_count.loaded",pageID:a,count:b.summary.total_count})})}};e.exports=a}),null);
__d("LMChildCountStore",["AdsDataAtom","FluxLoadObjectStore","LMChildCountDataManager"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;g=babelHelpers.inherits(a,b("FluxLoadObjectStore"));g&&g.prototype;a.prototype.reduce=function(a,b){b=b.action;switch(b.type){case"lm.child_page_count.loaded":return this.__handleOne(a,b.pageID,b.count);default:return a}};a.prototype.__load=function(a){b("LMChildCountDataManager").load(a)};function a(){g.apply(this,arguments)}a.__moduleID=e.id;e.exports=new a(b("AdsDataAtom"))}),null);
__d("LMChoosePageToClaimStoreState",["immutable"],(function(a,b,c,d,e,f){"use strict";var g;c=b("immutable").Record({isDialogShown:!1,rawPageID:null,selectedPageID:null});g=babelHelpers.inherits(a,c);g&&g.prototype;function a(){g.apply(this,arguments)}e.exports=a}),null);
__d("LMChoosePageToClaimStore",["AdsDataAtom","FluxReduceStore","LMChoosePageToClaimStoreState"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;g=babelHelpers.inherits(a,b("FluxReduceStore"));g&&g.prototype;a.prototype.getInitialState=function(){return new(b("LMChoosePageToClaimStoreState"))()};a.prototype.reduce=function(a,c){c=c.action;switch(c.type){case"lm.click_add_existing_page":return new(b("LMChoosePageToClaimStoreState"))().set("isDialogShown",!0);case"lm.claim_page.dialog.hide":case"lm.claim_page.edit":return a.set("isDialogShown",!1);case"lm.claim_page.dialog.confirm":return a.set("isDialogShown",!1);case"lm.claim_page.dialog.set_selected_page_id":return a.set("selectedPageID",c.pageID);case"lm.claim_page.dialog.set_raw_page_id":return a.set("rawPageID",c.rawPageID);default:return a}};function a(){g.apply(this,arguments)}a.__moduleID=e.id;e.exports=new a(b("AdsDataAtom"))}),null);
__d("LMColumnKeys",["keyMirror"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirror")({address:null,can_others_add_photos_and_videos:null,can_others_message:null,can_others_post:null,city:null,country_code:null,id:null,is_eligible_for_store_visit_reporting:null,is_review_eligible:null,link:null,name:null,phone:null,price_range:null,select:null,state:null,status:null,store_number:null,street:null,website:null,wifi_information_name:null,zip:null});e.exports=a}),null);
__d("LMDefaultColumns",["immutable"],(function(a,b,c,d,e,f){"use strict";a=b("immutable").OrderedMap([["select",{width:46}],["store_number",{width:100}],["name",{width:400}],["address",{width:400}],["phone",{width:160}],["website",{width:null}],["status",{width:null}]]);e.exports=a}),null);
__d("LMSelectAllDataManager",["regeneratorRuntime","LMActions","LMChildPageFastFieldsStore","LMFilterLocationsDataManager","chunkArray","immutable","promiseDone","promiseStoreGet"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a.prototype.loadAll=function(a,c,d){b("promiseDone")(i(a,c,d),function(a){if(a==null)return;b("LMActions").dispatchActionFromServerResponse({type:"lm.select_all.done",ids:a.ids,childPages:a.childPages,parentPageID:c,query:d})})};a.prototype.cancel=function(a){var b=g.get(a);b&&(b(),g["delete"](a))};function a(){}var g=new Map();function h(a){var b=!1,c=function(){return b},d=function(){b=!0},e=function(){g["delete"](a)};g.set(a,d);return{clearCancelCallback:e,isCanceled:c}}function i(a,c,d){__p&&__p();var e,f,g,i,j,k,l,m,n,o,p,q,r;return b("regeneratorRuntime").async(function(s){__p&&__p();while(1)switch(s.prev=s.next){case 0:e=h(c),f=e.clearCancelCallback,g=e.isCanceled;if(!(a==null)){s.next=7;break}s.next=4;return b("regeneratorRuntime").awrap(b("LMFilterLocationsDataManager").genLoadAllIDs(c,d));case 4:s.t0=s.sent;s.next=8;break;case 7:s.t0=a;case 8:i=s.t0,j=b("chunkArray")(i.toArray(),50),k=0,l=function(){__p&&__p();var a;return b("regeneratorRuntime").async(function(e){__p&&__p();while(1)switch(e.prev=e.next){case 0:if(!n){e.next=6;break}if(!(o>=m.length)){e.next=3;break}return e.abrupt("return","break");case 3:p=m[o++];e.next=10;break;case 6:o=m.next();if(!o.done){e.next=9;break}return e.abrupt("return","break");case 9:p=o.value;case 10:a=p;e.next=13;return b("regeneratorRuntime").awrap(b("promiseStoreGet").all(b("LMChildPageFastFieldsStore"),function(){return b("LMChildPageFastFieldsStore").getAll(a)}));case 13:if(!g()){e.next=15;break}return e.abrupt("return",{v:null});case 15:k+=a.length,b("LMActions").dispatchActionFromServerResponse({type:"lm.select_all.progress",parentPageID:c,query:d,totalCount:i.size,loadedCount:k});case 17:case"end":return e.stop()}},null,this)},(m=j,n=Array.isArray(m),o=0,m=n?m:m[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]());case 13:s.next=15;return b("regeneratorRuntime").awrap(l());case 15:q=s.sent;s.t1=q;s.next=s.t1==="break"?19:20;break;case 19:return s.abrupt("break",24);case 20:if(!(typeof q==="object")){s.next=22;break}return s.abrupt("return",q.v);case 22:s.next=13;break;case 24:r=b("LMChildPageFastFieldsStore").getAll(i);f();return s.abrupt("return",{ids:i,childPages:r});case 27:case"end":return s.stop()}},null,this)}e.exports=new a()}),null);
__d("LMSelectAllStoreValue",["immutable"],(function(a,b,c,d,e,f){"use strict";var g;c=b("immutable").Record({total:undefined,loaded:undefined});g=babelHelpers.inherits(a,c);g&&g.prototype;function a(){g.apply(this,arguments)}e.exports=a}),null);
__d("LMSelectAllStore",["AdsDataAtom","FluxMapStore","LMSelectAllDataManager","LMSelectAllStoreValue","LoadObject","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;g=babelHelpers.inherits(a,b("FluxMapStore"));g&&g.prototype;a.prototype.getFor=function(a){return this.get(a)||b("LoadObject").empty()};a.prototype.reduce=function(a,c){__p&&__p();c=c.action;switch(c.type){case"lm.select_all.start":var d=c.allIDs,e=c.parentPageID,f=c.query;b("LMSelectAllDataManager").loadAll(d,e,f);return a.set(e,b("LoadObject").withValue(new(b("LMSelectAllStoreValue"))({total:d?d.size:0,loaded:0})).loading());case"lm.select_all.progress":f=c.totalCount;e=c.loadedCount;d=c.parentPageID;return a.set(d,b("LoadObject").withValue(new(b("LMSelectAllStoreValue"))({total:f,loaded:e})).loading());case"lm.select_all.done":d=c.childPages;f=c.parentPageID;return a.set(f,b("LoadObject").withValue(new(b("LMSelectAllStoreValue"))({total:d.size,loaded:d.size})));case"lm.select_all.clear":return a["delete"](c.parentPageID);case"lm.select_all.cancel":b("LMSelectAllDataManager").cancel(c.parentPageID);return a["delete"](c.parentPageID);default:return a}};function a(){g.apply(this,arguments)}a.__moduleID=e.id;e.exports=new a(b("AdsDataAtom"))}),null);
__d("LMSelectAllTableCheckboxContainer.react",["FluxContainer","LMActions","LMConfigStore","LMFilterLocationsStore","LMQueryLocationStore","LMSelectAllStore","LMSelectedLocationIDsStore","LMTableUtils","LoadObject","React","SUICheckboxInput.react"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("LMTableUtils").selectAll;function i(){var a=b("LMConfigStore").getState();a=a.parentPageID;if(a==null)return;b("LMActions").dispatchActionFromView({type:"lm.select_all.cancel",parentPageID:a})}function j(){var a=b("LMConfigStore").getState();a=a.parentPageID;if(a==null)return;b("LMActions").dispatchActionFromView({type:"lm.select_all.clear",parentPageID:a})}var k={isChecked:!1,isSelectingAll:!1};c=babelHelpers.inherits(a,b("React").PureComponent);g=c&&c.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=g.constructor).call.apply(a,[this].concat(d)),this.$1=function(a){a?h():this.state.isSelectingAll?i():j()}.bind(this),b}a.getStores=function(){return[b("LMConfigStore"),b("LMSelectAllStore"),b("LMSelectedLocationIDsStore"),b("LMQueryLocationStore"),b("LMFilterLocationsStore")]};a.calculateState=function(){__p&&__p();var a=b("LMConfigStore").getState();a=a.parentPageID;if(a==null)return k;var c=b("LMQueryLocationStore").getState(),d=b("LMSelectAllStore").get(a)||b("LoadObject").empty();a=b("LMFilterLocationsStore").getFor(a,c).map(function(a){return a.ids.size}).getValue();c=b("LMSelectedLocationIDsStore").getState().size;c=c===a;a=d.isLoading();return{isChecked:a||c,isSelectingAll:a}};a.prototype.render=function(){return b("React").createElement(b("SUICheckboxInput.react"),{value:this.state.isChecked,onChange:this.$1})};e.exports=b("FluxContainer").create(a)}),null);
__d("LMTableBulletIndicator.react",["ix","Image.react","React","asset"],(function(a,b,c,d,e,f,g){"use strict";var h=g("411333"),i=g("412323");function a(a){return b("React").createElement(b("React").Fragment,null,b("React").createElement(b("Image.react"),{key:"bullet",src:a.isActive?h:i})," ",a.isActive?a.activeLabel:a.inActiveLabel)}e.exports=a}),null);
__d("LocationManagerWebDriverTestIDs",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({BULK_EDIT_BUTTON:"locations-bulk-edit-button",BULK_LOCATION_FORM_SAVE_BUTTON:"bulk-locations-form-save-button",LOCATION_FORM_RUNNING_ADS_CONFIRM_BUTTON:"location-form-running-ads-confirm-button",LOCATION_MANAGER:"location-manager",LOCATIONS_TAB:"locations-tab",LOCATIONS_TAB_LINK:"locations-tab-link",LOCATIONS_TABLE_SELECT_CELL:"locations-table-select-cell",SETTINGS_TAB:"settings-tab",SETTINGS_TAB_LINK:"settings-tab-link",TABLE_LOADING_SPINNER:"table-loading-spinner"})}),null);
__d("LMTableCheckbox.react",["LMTableUtils","LocationManagerWebDriverTestIDs","React","SUICheckboxInput.react"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("LMTableUtils").canSelectLocation;c=babelHelpers.inherits(a,b("React").Component);g=c&&c.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=g.constructor).call.apply(a,[this].concat(d)),this.$1=function(a){var b=this.props.location.map(function(a){return a.id}).getValue();b!=null&&this.props.onToggleSelected(b,a)}.bind(this),b}a.prototype.render=function(){var a=this.props,c=a.canSelectAnyLocation,d=a.location,e=a.selectedLocations;a=d.map(function(a){return a.store_number}).getValue();var f=e&&d.map(function(a){return e.has(a.id)}).getValue();return b("React").createElement(b("SUICheckboxInput.react"),{"data-testid":b("LocationManagerWebDriverTestIDs").LOCATIONS_TABLE_SELECT_CELL+(a?"::"+a:""),value:!!f,disabled:!h(d,c),onChange:this.$1})};e.exports=a}),null);
__d("LMTablePageName.react",["ix","cx","fbt","LMLoggingUtils","LMPublishingUtils","LoadObject","React","SUIButton.react","SUIGlyphIcon.react","SUILink.react","SUIText.react","Tooltip","XVanityURLController","asset","loadObjectComponent"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k=b("LMPublishingUtils").getLocationStatus,l=b("LMPublishingUtils").getLocationTooltip,m=b("React").createElement(b("SUIGlyphIcon.react"),{srcDefault:g("363756"),srcDisabled:g("363754"),srcHover:g("407298")}),n=b("loadObjectComponent")({error:function(a){return b("React").createElement(b("SUIText.react"),{display:"truncate",size:"meta1",color:"secondary"},a.message)},loaded:function(a){return b("React").createElement(b("SUILink.react"),babelHelpers["extends"]({display:"truncateInline",href:b("XVanityURLController").getURIBuilder().setString("vanity",a.id).getURI(),size:"meta1",target:"_blank"},b("Tooltip").propsFor(i._("Open page in new tab")),{onClick:o}),a.name_with_location_descriptor)},loading:function(){return null}});function o(a){a.stopPropagation()}c=babelHelpers.inherits(a,b("React").Component);j=c&&c.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=j.constructor).call.apply(a,[this].concat(e)),this.$1=function(a){b("LMLoggingUtils").logAction("lm.inline_editing.click_edit"),a.stopPropagation(),this.props.onEdit(this.props.location.map(function(a){return a.id}).getValueEnforcing())}.bind(this),c}a.prototype.render=function(){var a=this.props.permissions.getValue();a=this.props.location.hasOperation()||this.props.location.getValue()==null||a==null||!a.canEdit;return b("React").createElement(b("React").Fragment,null,b("React").createElement(p,{location:this.props.location,disabled:a,onClickEdit:this.$1}),b("React").createElement(n,{object:this.props.location}),b("React").createElement("div",{className:"_m7e",key:"moreActions"},b("React").createElement(b("SUIButton.react"),{disabled:a,icon:m,label:i._("Edit"),labelIsHidden:!0,suppressed:!0,onClick:this.$1})))};function p(a){var c=k(a.location);switch(c){case"fail":c=l(a.location);return b("React").createElement("span",{className:"_3-90"},b("React").createElement(b("SUIButton.react"),{"data-tooltip-position":"below",tooltip:c,icon:b("React").createElement(b("SUIGlyphIcon.react"),{srcDefault:g("390678")}),label:i._("Edit"),labelIsHidden:!0,suppressed:!0,disabled:a.disabled,onClick:a.onClickEdit}));case"progress":return b("React").createElement("span",{className:"_3-90"},b("React").createElement(b("SUIGlyphIcon.react"),{srcDefault:g("501421")}));default:return null}}e.exports=a}),null);
__d("LMTablePageSetting.react",["fbt","React"],(function(a,b,c,d,e,f,g){"use strict";function a(a){switch(a.settingValue){case!1:return g._("Disabled");case!0:return g._("Enabled");default:return null}}e.exports=a}),null);
__d("LMTablePriceRange.react",["fbt","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();function a(a){switch(a.priceRange){case"Unspecified":return g._("Unspecified");case"$":return g._("$");case"$$":return g._("$$");case"$$$":return g._("$$$");case"$$$$":return g._("$$$$");default:return null}}e.exports=a}),null);
__d("LMTableColumns",["ix","fbt","AdsNotAvailable.react","AdsShimmerBar.react","FBClipboardLink.react","Image.react","LMSelectAllTableCheckboxContainer.react","LMTableBulletIndicator.react","LMTableCheckbox.react","LMTablePageName.react","LMTablePageSetting.react","LMTablePriceRange.react","React","SUILink.react","SUIText.react","XVanityURLController","asset","immutable","loadObjectComponent"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();c=[{columnKey:"select",defaultWidth:46,flexGrow:null,isColumnVisible:function(a){return a.selectedLocations!=null},isRequired:!0,isResizable:!1,isFixed:!0,CellComponent:b("LMTableCheckbox.react"),renderHeader:function(){return b("React").createElement(b("LMSelectAllTableCheckboxContainer.react"),null)},label:h._("Select"),sortColumn:null},{columnKey:"store_number",defaultWidth:100,flexGrow:null,isRequired:!0,isResizable:!0,CellComponent:a(function(a){return a.store_number}),label:h._("Store ID"),sortColumn:"parent_store_number",defaultSortDirection:"DESC"},{columnKey:"name",defaultWidth:400,minWidth:400,flexGrow:null,isRequired:!0,isResizable:!0,CellComponent:b("LMTablePageName.react"),label:h._("Name"),sortColumn:"name"},{columnKey:"address",defaultWidth:400,minWidth:400,flexGrow:1,isRequired:!1,isResizable:!0,CellComponent:a(function(a){return a.geo_location.single_line_address}),label:h._("Full Address"),sortColumn:"address"},{columnKey:"street",defaultWidth:400,minWidth:400,flexGrow:1,isRequired:!1,isResizable:!0,CellComponent:a(function(a){return a.geo_location.street}),label:h._("Street"),sortColumn:null},{columnKey:"city",defaultWidth:120,flexGrow:1,isRequired:!1,isResizable:!0,CellComponent:a(function(a){return a.geo_location.city}),label:h._("City"),sortColumn:null},{columnKey:"zip",defaultWidth:100,flexGrow:1,isRequired:!1,isResizable:!0,CellComponent:a(function(a){return a.geo_location.zip}),label:h._("ZIP"),sortColumn:null},{columnKey:"state",defaultWidth:120,flexGrow:1,isRequired:!1,isResizable:!0,CellComponent:a(function(a){return a.geo_location.region}),label:h._("Region"),sortColumn:null},{columnKey:"country_code",defaultWidth:100,flexGrow:1,isRequired:!1,isResizable:!0,CellComponent:a(function(a){return a.geo_location.country_code}),label:h._("Country"),sortColumn:null},{columnKey:"phone",defaultWidth:160,flexGrow:null,isRequired:!1,isResizable:!0,CellComponent:a(function(a){return a.phone}),label:h._("Phone"),sortColumn:"phone"},{columnKey:"website",defaultWidth:160,flexGrow:null,isRequired:!1,isResizable:!0,CellComponent:a(function(a){return a.website}),label:h._("Website"),sortColumn:null},{columnKey:"status",defaultWidth:200,flexGrow:1,isRequired:!1,isResizable:!0,CellComponent:a(function(a){return i(a)}),label:h._("Status"),sortColumn:null},{columnKey:"price_range",defaultWidth:150,flexGrow:1,isRequired:!1,isResizable:!0,CellComponent:a(function(a){return b("React").createElement(b("LMTablePriceRange.react"),{priceRange:a.price_range})}),label:h._("Price Range"),sortColumn:null},{columnKey:"id",defaultWidth:160,flexGrow:1,isRequired:!1,isResizable:!0,CellComponent:a(function(a){return b("React").createElement(b("SUILink.react"),{onClick:l},b("React").createElement(b("FBClipboardLink.react"),{value:a.id,tooltip:h._("Copy Page ID to clipboard"),tooltipSuccess:h._("Copied {page_id} to clipboard",[h._param("page_id",a.id)]),position:"right",alignment:"center"},a.id))}),label:h._("Page ID"),sortColumn:null},{columnKey:"is_review_eligible",defaultWidth:140,flexGrow:null,isRequired:!1,isResizable:!0,CellComponent:a(function(a){return b("React").createElement(b("LMTablePageSetting.react"),{settingValue:a.is_review_eligible})}),label:h._("Reviews"),sortColumn:null},{columnKey:"can_others_add_photos_and_videos",defaultWidth:240,minWidth:240,flexGrow:null,isRequired:!1,isResizable:!0,CellComponent:a(function(a){return b("React").createElement(b("LMTablePageSetting.react"),{settingValue:a.can_others_add_photos_and_videos})}),label:h._("Can Others Add Photos and Videos"),sortColumn:null},{columnKey:"can_others_message",defaultWidth:160,minWidth:160,flexGrow:null,isRequired:!1,isResizable:!0,CellComponent:a(function(a){return b("React").createElement(b("LMTablePageSetting.react"),{settingValue:a.can_others_message})}),label:h._("Can Others Message"),sortColumn:null},{columnKey:"can_others_post",defaultWidth:140,flexGrow:null,isRequired:!1,isResizable:!0,CellComponent:a(function(a){return b("React").createElement(b("LMTablePageSetting.react"),{settingValue:a.can_others_post})}),label:h._("Can Others Post"),sortColumn:null},{columnKey:"link",defaultWidth:60,flexGrow:null,isRequired:!1,isResizable:!0,CellComponent:a(function(a){return b("React").createElement(b("SUILink.react"),{href:b("XVanityURLController").getURIBuilder().setString("vanity",a.id).getURI()},b("React").createElement(b("Image.react"),{src:g("412487")}))}),label:h._("Link"),sortColumn:null},{columnKey:"is_eligible_for_store_visit_reporting",defaultWidth:300,flexGrow:1,isRequired:!1,isResizable:!0,CellComponent:a(function(a){return b("React").createElement(b("LMTableBulletIndicator.react"),{isActive:a.is_eligible_for_store_visit_reporting,activeLabel:h._("Measurable"),inActiveLabel:h._("Not Measurable")})}),label:h._("Store Visits Measurement"),popover:{title:h._("Store Visits Measurement"),content:h._("See if store visits are measurable at your locations. If they are measurable, you can run ads using store visits optimization. Store visits optimization is only available for a limited number of advertisers at present. If your locations aren't yet measurable, make sure all their details are accurate and up to date."),helpLink:h._("{=Learn more}",[h._param("=Learn more",b("React").createElement(b("SUILink.react"),{href:"https://www.facebook.com/business/help/175683976191028",target:"_blank"},h._("Learn more")))])},sortColumn:null},{columnKey:"wifi_information_name",defaultWidth:220,flexGrow:null,isRequired:!1,isResizable:!0,CellComponent:a(function(a){return a.wifi_information_name}),label:h._("Wi-Fi Network Name"),popover:{title:h._("Wi-Fi Network Name"),content:b("React").createElement("span",null,h._("Help customers find Wi-Fi at your locations by including your network name. Add this information for each of your business locations via CSV, using the 'Download Locations' button."))},sortColumn:null}];function i(a){var c=a.is_published;a=a.is_visible_only_in_ads;return b("React").createElement(b("LMTableBulletIndicator.react"),{isActive:c,activeLabel:a?h._("Published, visible only in ads"):h._("Published"),inActiveLabel:a?h._("Not published, visible only in ads"):h._("Not published")})}function j(){return b("React").createElement(b("AdsShimmerBar.react"),null)}function k(){return b("React").createElement(b("AdsNotAvailable.react"),null)}function a(a){var c=b("loadObjectComponent")({loading:j,error:k,loaded:function(c){return b("React").createElement(b("SUIText.react"),{display:"truncate",size:"meta1"},a(c))}}),d=function(a){var d=a.location;a=babelHelpers.objectWithoutProperties(a,["location"]);return b("React").createElement(c,babelHelpers["extends"]({object:d},a))};d.displayName="CellComponent";return d}function l(a){a.stopPropagation()}e.exports=b("immutable").OrderedMap(c.map(function(a){return[a.columnKey,a]}))}),null);
__d("LMColumnStoreUtils",["LMColumnKeys","LMDefaultColumns","LMTableColumns","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){return JSON.stringify(a.toJS())}var g=b("LMTableColumns").filter(function(a){return a.isRequired}).keySeq().toOrderedSet();function c(a){__p&&__p();if(a==null)return b("LMDefaultColumns");try{a=JSON.parse(a)}catch(a){return b("LMDefaultColumns")}var c=Object.entries(a);if(a==null||c.length===0)return b("LMDefaultColumns");a=c.filter(function(a){if(a==null||!Array.isArray(a))return!1;else return b("LMTableColumns").has(b("LMColumnKeys")[String(a[0])])});c=b("immutable").OrderedMap(a.map(function(a){return[b("LMColumnKeys")[a[0]],a[1]]}));if(c.size===0)return b("LMDefaultColumns");a=b("immutable").OrderedMap(g.map(function(a){return[a,{width:null}]}));return a.concat(c)}e.exports={deserialize:c,serialize:a}}),null);
__d("LMLocalStorage",["CurrentUser","WebStorage"],(function(a,b,c,d,e,f){"use strict";var g=b("WebStorage").getLocalStorage(),h="lm_"+b("CurrentUser").getID()+"_";function a(a){return g==null?null:g.getItem(""+h+a)}function c(a,c){g!=null&&b("WebStorage").setItemGuarded(g,""+h+a,c)}e.exports={getItem:a,setItem:c}}),null);
__d("LMColumnStore",["AdsDataAtom","FluxReduceStore","LMColumnStoreUtils","LMLocalStorage"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h="table_columns_config";g=babelHelpers.inherits(a,b("FluxReduceStore"));g&&g.prototype;a.prototype.getInitialState=function(){var a=b("LMLocalStorage").getItem(h);return b("LMColumnStoreUtils").deserialize(a)};a.prototype.reduce=function(a,c){c=c.action;switch(c.type){case"lm.table_settings.save_columns":b("LMLocalStorage").setItem(h,b("LMColumnStoreUtils").serialize(c.columns));return c.columns;case"lm.table_settings.resize_column":b("LMLocalStorage").setItem(h,b("LMColumnStoreUtils").serialize(c.columns));return c.columns;default:return a}};function a(){g.apply(this,arguments)}a.__moduleID=e.id;e.exports=new a(b("AdsDataAtom"))}),null);
__d("LMColumnEditStore",["AdsDataAtom","FluxReduceStore","LMColumnStore","LMDefaultColumns"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;g=babelHelpers.inherits(a,b("FluxReduceStore"));g&&g.prototype;a.prototype.getInitialState=function(){return null};a.prototype.reduce=function(a,c){__p&&__p();c=c.action;switch(c.type){case"lm.table_settings.click":b("AdsDataAtom").waitFor([b("LMColumnStore").getDispatchToken()]);return b("LMColumnStore").getState();case"lm.table_settings.set_columns":return c.columns;case"lm.table_settings.cancel":case"lm.table_settings.hide":return null;case"lm.table_settings.save_columns":b("AdsDataAtom").waitFor([b("LMColumnStore").getDispatchToken()]);return null;case"lm.table_settings.reset_columns":return b("LMDefaultColumns");default:return a}};function a(){g.apply(this,arguments)}a.__moduleID=e.id;e.exports=new a(b("AdsDataAtom"))}),null);
__d("XLocationManagerPagesWhitelistEligibilityController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ads/location-manager-pages-whitelist-eligibility/",{page_ids:{type:"FBIDVector",required:!0}})}),null);
__d("LMPageWhitelistEligibilityDataManager",["fbt","regeneratorRuntime","LMAbstractBatchedDataManager","LMActions","LMUtils","XLocationManagerPagesWhitelistEligibilityController","immutable","promiseAsyncRequest"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("LMActions").dispatchActionFromServerResponse,j=b("LMUtils").processMultigetResponse,k=function(a,b){return j(a,b,function(a){return new Error(g._("Failed to load page {page_id}",[g._param("page_id",a)]))})};h=babelHelpers.inherits(a,b("LMAbstractBatchedDataManager"));h&&h.prototype;a.prototype.__genData=function(a){var c;return b("regeneratorRuntime").async(function(d){while(1)switch(d.prev=d.next){case 0:c=b("XLocationManagerPagesWhitelistEligibilityController").getURIBuilder().setFBIDVector("page_ids",a).getURI();return d.abrupt("return",b("promiseAsyncRequest")(c).then(function(a){return a.payload}));case 2:case"end":return d.stop()}},null,this)};a.prototype.__processResultOrError=function(a,b){i({type:"lm.page_whitelist_eligibility.batch_loaded",eligibilities:k(a,b)})};function a(){h.apply(this,arguments)}e.exports=new a()}),null);
__d("LMPageWhitelistEligibilityStore",["AdsDataAtom","FluxLoadObjectStore","LMPageWhitelistEligibilityDataManager"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;g=babelHelpers.inherits(a,b("FluxLoadObjectStore"));g&&g.prototype;a.prototype.reduce=function(a,b){b=b.action;switch(b.type){case"lm.page_whitelist_eligibility.batch_loaded":return this.__handleMap(a,b.eligibilities);case"lm.onboarding.redirect_to_location_manager":return a["delete"](b.page.id);default:return a}};a.prototype.__loadAll=function(a){b("LMPageWhitelistEligibilityDataManager").loadAll(a)};function a(){g.apply(this,arguments)}a.__moduleID=e.id;e.exports=new a(b("AdsDataAtom"))}),null);
__d("LMCoreNavStore",["AdsDataAtom","FluxSimpleDerivedStore","LMChildCountStore","LMConfigStore","LMOwnedPageStore","LMPageWhitelistEligibilityStore","LMUtils","LoadObject"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;g=babelHelpers.inherits(a,b("FluxSimpleDerivedStore"));g&&g.prototype;a.prototype.__getStores=function(){return[b("LMChildCountStore"),b("LMConfigStore"),b("LMOwnedPageStore"),b("LMPageWhitelistEligibilityStore")]};a.prototype.__getData=function(a){a=b("LMConfigStore").getState();var c=a.parentPageID?b("LMPageWhitelistEligibilityStore").get(a.parentPageID):b("LoadObject").empty(),d=a.parentPageID?b("LMOwnedPageStore").get(a.parentPageID):b("LoadObject").empty(),e=a.parentPageID?b("LMChildCountStore").get(a.parentPageID):b("LoadObject").empty();return{childCount:e,config:a,eligibility:c,parentPage:d}};a.prototype.__computeResult=function(a,c){__p&&__p();c=a.childCount;var d=a.config,e=a.eligibility;a=a.parentPage;if(d.parentPageID==null)return"no_page_selected";if(d.environment==="intern")return"edit_locations";d=e.getValue();if(d==null)return"loading";if(b("LMUtils").isPageAlreadyParentPage(d)){e=a.getValue();a=c.getValue();if(e==null||a==null)return"loading";return a===0&&b("LMUtils").hasPagePlace(e)?"remove_address":"edit_locations"}return b("LMUtils").isPageEligibleForWhitelist(d)?"convert_to_main_page":"page_not_eligible"};function a(){g.apply(this,arguments)}a.__moduleID=e.id;e.exports=new a(b("AdsDataAtom"))}),null);
__d("LMErrorSpec",["immutable","LoadObject"],(function(a,b,c,d,e,f){"use strict";var g;c=b("immutable").Record({geo_location_city_id:b("LoadObject").empty(),geo_location_city:b("LoadObject").empty(),geo_location_latitude:b("LoadObject").empty(),geo_location_longitude:b("LoadObject").empty(),geo_location_single_line_address:b("LoadObject").empty(),geo_location_street:b("LoadObject").empty(),geo_location_zip:b("LoadObject").empty(),phone:b("LoadObject").empty(),place_topics:b("LoadObject").empty(),store_location_descriptor:b("LoadObject").empty(),store_number:b("LoadObject").empty(),vanity_name:b("LoadObject").empty()});g=babelHelpers.inherits(a,c);g&&g.prototype;function a(){g.apply(this,arguments)}e.exports=a}),null);
__d("XPageUsernameCheckAvailabilityAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/settings/username/check/",{page_id:{type:"FBID"},desired_username:{type:"String",required:!0}})}),null);
__d("BusinessPageUsernameUtils",["fbt","Promise","LFUCache","XPageUsernameCheckAvailabilityAsyncController","promiseAsyncRequest"],(function(a,b,c,d,e,f,g){__p&&__p();var h=new(b("LFUCache"))();function i(a){if(!/^[A-Za-z0-9\.]*$/.test(a))return{hasError:!0,error:"INVALID_CHARACTERS",message:g._("This username isn't available. It has characters that aren't allowed.")};if(a.replace(/\./g,"").length<5)return{hasError:!0,error:"TOO_SHORT",message:g._("This username isn't available. It must be at least 5 characters long.")};return a[0]==="."||a[a.length-1]==="."?{hasError:!0,error:"ENDS_WITH_SPECIAL",message:g._("This username isn't available. Usernames must start and end with a letter or number.")}:{hasError:!1}}function a(a,c){__p&&__p();var d=i(a);if(d.hasError)return b("Promise").resolve(d);d=a+":"+(c||"");var e=h.get(d);if(e)return e;e=b("XPageUsernameCheckAvailabilityAsyncController").getURIBuilder().setFBID("page_id",c).setString("desired_username",a).getURI();c=b("promiseAsyncRequest")(e).then(function(a){a=a.getPayload();return!a.is_available?{hasError:!0,error:"NOT_AVAILBLE",message:a.error_message}:{hasError:!1}});h.set(d,c);return c}e.exports={validateUsername:a}}),null);
__d("LMVanityNameDataManager",["BusinessPageUsernameUtils","LMActions","promiseDone"],(function(a,b,c,d,e,f){"use strict";var g=b("LMActions").dispatchActionFromServerResponse;a.prototype.load=function(a,c){b("promiseDone")(b("BusinessPageUsernameUtils").validateUsername(c,a),function(b){return g({type:"lm.verify_vanity_name.loaded",pageID:a,vanityName:c,result:b})},function(b){return g({type:"lm.verify_vanity_name.error",pageID:a,vanityName:c,error:new Error(b?b.errorSummary:null)})})};function a(){}e.exports=new a()}),null);
__d("LMVanityNameStore",["AdsDataAtom","FBLogger","FluxLoadObjectStore","LMVanityNameDataManager","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h;g=babelHelpers.inherits(i,b("immutable").Record({pageID:null,vanityName:""}));g&&g.prototype;function i(){g.apply(this,arguments)}h=babelHelpers.inherits(a,b("FluxLoadObjectStore"));h&&h.prototype;a.prototype.getFor=function(a,b){return this.get(new i({pageID:a,vanityName:b}))};a.prototype.reduce=function(a,c){c=c.action;switch(c.type){case"lm.verify_vanity_name.loaded":return this.__handleOne(a,new i({pageID:c.pageID,vanityName:c.vanityName}),c.result);case"lm.verify_vanity_name.error":b("FBLogger")("location_manager").catching(c.error).mustfix("failed to verify vanity name");return this.__handleOne(a,new i({pageID:c.pageID,vanityName:c.vanityName}),c.error);default:return a}};a.prototype.__load=function(a){b("LMVanityNameDataManager").load(a.pageID,a.vanityName)};function a(){h.apply(this,arguments)}a.__moduleID=e.id;e.exports=new a(b("AdsDataAtom"))}),null);
__d("LMErrorSpecStore",["fbt","AdsBulkValueUtils","AdsDataAtom","AdsEmptyValue","AdsUniformValue","CurrentUser","FluxSimpleDerivedStore","LMBulkEditableBusinessLocationStore","LMBulkUtils","LMErrorSpec","LMPhoneNumberStore","LMPhoneNumberUtils","LMSitevarConfig","LMVanityNameStore","LoadObject","immutable"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("AdsBulkValueUtils").getUniformValue,j=b("LMBulkUtils").isCountryWithoutZip,k=b("LMPhoneNumberUtils").getDebouncedPhoneNumber,l=b("LMPhoneNumberUtils").validatePhoneNumber,m=new(b("LMErrorSpec"))();h=babelHelpers.inherits(a,b("FluxSimpleDerivedStore"));h&&h.prototype;a.prototype.__getStores=function(){return[b("LMBulkEditableBusinessLocationStore"),b("LMPhoneNumberStore"),b("LMVanityNameStore")]};a.prototype.__getData=function(a){a===void 0&&(a=m);var c=b("LMBulkEditableBusinessLocationStore").getState().bulkLocation;return a.withMutations(function(a){return void a.set("phone",c.map(r)).set("store_number",c.map(w).map(o).map(s)).set("place_topics",c.map(x).map(o).map(t)).set("geo_location_street",c.map(y).map(o).map(F)).set("geo_location_city",c.map(z).map(o).map(G)).set("geo_location_city_id",c.map(A).map(n)).set("geo_location_latitude",c.map(B).map(n)).set("geo_location_longitude",c.map(C).map(n)).set("geo_location_single_line_address",c.map(D).map(n)).set("geo_location_zip",c.map(E).map(v)).set("store_location_descriptor",c.map(q)).set("vanity_name",c.map(u))})};a.prototype.__computeResult=function(a){return a};function a(){h.apply(this,arguments)}a.__moduleID=e.id;function n(a){return a instanceof b("AdsEmptyValue")?b("LoadObject").empty():b("LoadObject").withValue(null)}function o(a){return a instanceof b("AdsEmptyValue")?b("LoadObject").empty():b("LoadObject").withValue(i(a,null))}var p=/\((.*?)\)/;function q(a){__p&&__p();var c=a.id.getValues().length>1,d=a.store_location_descriptor.getValues();d=b("immutable").Seq(d).filter(function(a){return a!=null&&a!==""}).countBy(function(a){return a}).some(function(a){return a>1});if(c&&d)return b("LoadObject").withValue(g._("You can't use the same location descriptor for more than 1 location. Each one has to be unique or empty."));d=i(a.store_location_descriptor,"");a=i(a.store_location_descriptor_autogenerated,"");if(!c&&d!=null&&d.length>b("LMSitevarConfig").max_descriptor_length&&d!==a)return b("LoadObject").withValue(g._("This is too long. Your location descriptor needs to be under {max_length} characters.",[g._param("max_length",b("LMSitevarConfig").max_descriptor_length)]));a=d==="";return!c&&!a&&p.test(d)?b("LoadObject").withValue(g._("You can't use brackets in your location descriptor.")):b("LoadObject").withValue(null)}function r(a){return o(a.phone).map(function(b){if(b==null)return null;if(b==="")return g._("You must enter a phone number.");var c=i(a.geo_location.country_code,null);b=k(b,c);return l(b,c)})}function s(a){if(a==null)return null;if(a==="")return g._("You must enter a store number.");return!/^\d{1,10}$/.test(a+"")||typeof a!=="number"?g._("The store number must be a positive whole number with fewer than 10 digits."):null}function t(a){if(a==null)return null;if(a.length===0)return g._("Please add at least one sub category.");return a.length>b("LMSitevarConfig").max_location_categories?g._("Choose up to {category count} categories.",[g._param("category count",b("LMSitevarConfig").max_location_categories)]):null}function u(a){var c=i(a.id,null);a=i(a.page_username,null);if(a==null||a==="")return b("LoadObject").withValue(null);c=b("LMVanityNameStore").getFor(c,a);return b("CurrentUser").isEmployee()&&c.hasError()?b("LoadObject").withValue(null):c.map(function(a){return a.hasError?a.message:null})}function v(a){a=a.getValue();if(a==null||a.countryCode==null)return null;if((a.zip==null||a.zip==="")&&j(a.countryCode))return null;return a.zip!=null&&a.zip!==""?null:g._("ZIP Code required")}function w(a){return a.store_number}function x(a){return a.place_topics}function y(a){return a.geo_location.street}function z(a){return a.geo_location.city}function A(a){return a.geo_location.city_id}function B(a){return a.geo_location.latitude}function C(a){return a.geo_location.longitude}function D(a){return a.geo_location.single_line_address}function E(a){return new(b("AdsUniformValue"))({countryCode:o(a.geo_location.country_code).getValue(),zip:o(a.geo_location.zip).getValue()})}function c(a){return function(b){return b===""?g._("{field_name} required",[g._param("field_name",a)]):null}}var F=c(g._("Street address")),G=c(g._("City\/Town"));e.exports=new a(b("AdsDataAtom"))}),null);
__d("LMImportMenuStore",["AdsDataAtom","FluxReduceStore"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;g=babelHelpers.inherits(a,b("FluxReduceStore"));g&&g.prototype;a.prototype.getInitialState=function(){return null};a.prototype.reduce=function(a,b){b=b.action;switch(b.type){case"lm.import_menu.toggle":case"lm.import_menu.toggle.keyboard":return a==="entry"?null:"entry";case"lm.onboarding.redirect_to_location_manager":return b.redirectTo;case"lm.import_menu.close":case"lm.upload_locations.confirm_upload":return null;case"lm.import_menu.click_upload_csv":return"upload";case"lm.click_add_new_page":case"lm.claim_page.edit":return null;default:return a}};function a(){g.apply(this,arguments)}a.__moduleID=e.id;e.exports=new a(b("AdsDataAtom"))}),null);
__d("LMKeyboardShortcutsModalStore",["AdsDataAtom","FluxReduceStore","LMSelectedLocationIDsStore"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;g=babelHelpers.inherits(a,b("FluxReduceStore"));g&&g.prototype;a.prototype.getInitialState=function(){return{isRemoveLocationsConfirmModalShown:!1,isRemoveLocationsCheckboxTicked:!1}};a.prototype.reduce=function(a,c){c=c.action;switch(c.type){case"lm.modal.deletion_confirmation_checkbox":return{isRemoveLocationsCheckboxTicked:!a.isRemoveLocationsCheckboxTicked,isRemoveLocationsConfirmModalShown:a.isRemoveLocationsConfirmModalShown};case"lm.modal.toggle_deletion_confirmation.keyboard":case"lm.modal.toggle_deletion_confirmation":b("AdsDataAtom").waitFor([b("LMSelectedLocationIDsStore").getDispatchToken()]);return b("LMSelectedLocationIDsStore").getState().isEmpty()?a:{isRemoveLocationsCheckboxTicked:!1,isRemoveLocationsConfirmModalShown:!a.isRemoveLocationsConfirmModalShown};default:return a}};function a(){g.apply(this,arguments)}a.__moduleID=e.id;e.exports=new a(b("AdsDataAtom"))}),null);
__d("LMKeyboardStore",["AdsDataAtom","FluxReduceStore"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h={showDeletionConfirmation:!1,shift:!1};g=babelHelpers.inherits(a,b("FluxReduceStore"));g&&g.prototype;a.prototype.getInitialState=function(){return h};a.prototype.reduce=function(a,b){b=b.action;switch(b.type){case"lm.keyboard.shift":return babelHelpers["extends"]({},a,{shift:b.shift});default:return a}};function a(){g.apply(this,arguments)}a.__moduleID=e.id;e.exports=new a(b("AdsDataAtom"))}),null);
__d("XBusinessLocationManagerAdsUsingLocationsController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/locations/ads_using_locations/",{root_page_id:{type:"FBID",required:!0},page_ids:{type:"FBIDSet",required:!0}})}),null);
__d("LMLocationHasRunningAdsDataManager",["Promise","AsyncRequest","LMActions","XBusinessLocationManagerAdsUsingLocationsController","filterNulls"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("LMActions").dispatchActionFromServerResponse,h=100;a={load:function(a){__p&&__p();var c=b("filterNulls")(a.page_ids.getValues()),d=b("XBusinessLocationManagerAdsUsingLocationsController").getURIBuilder().setFBID("root_page_id",a.root_page_id),e=Array.from({length:Math.ceil(c.length/h)},function(a,e){a=c.slice(e*h,e*h+h);var f=d.setFBIDSet("page_ids",a).getURI();return new(b("Promise"))(function(a,c){new(b("AsyncRequest"))().setURI(f).setHandler(function(b){b=b.payload;return a(b.data)}).setErrorHandler(c).send()})});b("Promise").all(e).then(function(b){return g({type:"lm.location_has_running_ads.loaded",key:a,hasRunningAds:b.reduce(function(a,b){return a&&b},!0)})})["catch"](function(b){return g({type:"lm.location_has_running_ads.error",key:a,error:b})})}};e.exports=a}),null);
__d("LMLocationHasRunningAdsStore",["fbt","AdsDataAtom","FBLogger","FluxLoadObjectStore","LMLocationHasRunningAdsDataManager"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;h=babelHelpers.inherits(a,b("FluxLoadObjectStore"));h&&h.prototype;a.prototype.reduce=function(a,c){c=c.action;switch(c.type){case"lm.location_has_running_ads.loaded":return this.__handleOne(a,c.key,c.hasRunningAds);case"lm.location_has_running_ads.error":b("FBLogger")("location_manager").catching(c.error).mustfix("failed to check if location has running ads");return this.__handleOne(a,c.key,new Error(g._("Failed to check if the locations have running ads")));default:return a}};a.prototype.__load=function(a){b("LMLocationHasRunningAdsDataManager").load(a)};function a(){h.apply(this,arguments)}a.__moduleID=e.id;e.exports=new a(b("AdsDataAtom"))}),null);
__d("LMNuxStore",["AdsDataAtom","FluxMapStore","SimpleNUXMessage","SimpleNUXMessageTypes","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=[b("SimpleNUXMessageTypes").LM_JOB_STATUS_INDICATOR_NUX,b("SimpleNUXMessageTypes").LM_EDIT_BUTTON_NUX];g=babelHelpers.inherits(a,b("FluxMapStore"));g&&g.prototype;a.prototype.getInitialState=function(){return b("immutable").Map(h.map(function(a){return[a,b("SimpleNUXMessage").hasUserSeenMessage(a)]}))};a.prototype.reduce=function(a,b){b=b.action;switch(b.type){case"lm.dismiss_nux":return a.set(b.nuxID,!0);default:return a}};function a(){g.apply(this,arguments)}a.__moduleID=e.id;e.exports=new a(b("AdsDataAtom"))}),null);
__d("LMPageSelectorStore",["AdsDataAtom","FluxReduceStore","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h;g=babelHelpers.inherits(i,b("immutable").Record({dialogShown:!1}));g&&g.prototype;function i(){g.apply(this,arguments)}h=babelHelpers.inherits(a,b("FluxReduceStore"));h&&h.prototype;a.prototype.getInitialState=function(){return new i()};a.prototype.reduce=function(a,b){b=b.action;switch(b.type){case"lm.page_selector.dialog":return a.set("dialogShown",b.dialogShown);case"lm.navigation.selected_page_change":return a.set("dialogShown",!1);default:return a}};function a(){h.apply(this,arguments)}a.__moduleID=e.id;e.exports=new a(b("AdsDataAtom"))}),null);
__d("LMPageSettingsDataManager",["invariant","regeneratorRuntime","Promise","AdsGraphAPI","LMActions","LocationManagerUtils","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("LocationManagerUtils").getAccessToken;function i(a){__p&&__p();var c;return b("regeneratorRuntime").async(function(d){while(1)switch(d.prev=d.next){case 0:d.next=2;return b("regeneratorRuntime").awrap(h(a));case 2:c=d.sent;return d.abrupt("return",b("AdsGraphAPI").get(e.id).object("page",a).edge("settings").get({access_token:c,locale:"en_US"}).then(function(a){a=a.data;return a}));case 4:case"end":return d.stop()}},null,this)}function a(a){b("promiseDone")(i(a),function(c){return b("LMActions").dispatchActionFromServerResponse({type:"lm.page_settings.success",pageID:a,pageSettings:c})},function(c){return b("LMActions").dispatchActionFromServerResponse({type:"lm.page_settings.error",pageID:a,error:c})})}function j(a,c){__p&&__p();var d,f,i,j;return b("regeneratorRuntime").async(function(k){while(1)switch(k.prev=k.next){case 0:k.next=2;return b("regeneratorRuntime").awrap(h(a));case 2:f=k.sent;k.next=5;return b("regeneratorRuntime").awrap(b("AdsGraphAPI").get(e.id).object("page",a).edge("settings").batched().post({access_token:f,locale:"en_US",option:(d={},d[c.setting]=c.value,d)}));case 5:i=k.sent,j=i.success,j||g(0);case 8:case"end":return k.stop()}},null,this)}function c(a,c,d){d=d.filter(function(a){return c.some(function(b){return b.setting===a.setting&&b.value!==a.value})});b("promiseDone")(b("Promise").all(d.map(function(b){return j(a,b)})).then(function(){return i(a)}),function(c){return b("LMActions").dispatchActionFromServerResponse({type:"lm.page_settings.success",pageID:a,pageSettings:c})},function(c){b("LMActions").dispatchActionFromServerResponse({type:"lm.page_settings.error",pageID:a,error:c})})}e.exports={load:a,save:c}}),null);
__d("LMPageSettingsStore",["AdsDataAtom","FBLogger","FluxLoadObjectStore","LMPageSettingsDataManager","LoadObject"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;g=babelHelpers.inherits(a,b("FluxLoadObjectStore"));g&&g.prototype;a.prototype.reduce=function(a,c){c=c.action;switch(c.type){case"lm.page_settings.error":b("FBLogger")("location_manager").catching(c.error).mustfix("failed to save page settings");return a.set(c.pageID,b("LoadObject").withError(c.error));case"lm.page_settings.success":return this.__handleOne(a,c.pageID,c.pageSettings);case"lm.page_settings.save":var d=a.get(c.pageID,b("LoadObject").empty()).getValue();b("LMPageSettingsDataManager").save(c.pageID,d!=null?d:[],c.pageSettings);return a.set(c.pageID,b("LoadObject").withValue(c.pageSettings).updating());default:return a}};a.prototype.__load=function(a){b("LMPageSettingsDataManager").load(a)};function a(){g.apply(this,arguments)}a.__moduleID=e.id;e.exports=new a(b("AdsDataAtom"))}),null);
__d("LMPageUtils",["ApiPagePaths","CurrentUser","LoadObject","PageAdminTypes","getByPath","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=new Set([b("PageAdminTypes").CONTENT_CREATOR]),h=new Set([b("PageAdminTypes").MANAGER]);function i(a){return k(a)||l(a,g)}function j(a){return l(a,h)}function k(a){return b("CurrentUser").isEmployee()||j(a)}function l(a,b){return a.some(function(a){return b.has(a)})}function a(a){a=b("getByPath")(a,b("ApiPagePaths").USERPERMISSIONS.DATA,[]);a=a.filter(function(a){return a.user!=null&&a.user.id===b("CurrentUser").getID()}).map(function(a){return a.role});return{canEdit:i(a),isAdmin:k(a),isExplicitAdmin:j(a),roles:a}}function c(a){return a.filter(function(a){return a.hasValue()}).map(function(a){return a.getValueEnforcing()})}e.exports={getPermissions:a,getLoadedPages:c}}),null);
__d("LMPermissionsStore",["AdsDataAtom","FluxDerivedStore","LMOwnedPageStore","LMPageUtils"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;g=babelHelpers.inherits(a,b("FluxDerivedStore"));g&&g.prototype;a.prototype.__getStores=function(){return[b("LMOwnedPageStore")]};a.prototype.__getData=function(a){return b("LMOwnedPageStore").get(a)};a.prototype.__computeResult=function(a,c){return c.map(b("LMPageUtils").getPermissions)};function a(){g.apply(this,arguments)}a.__moduleID=e.id;e.exports=new a(b("AdsDataAtom"))}),null);
__d("LMRowStoreData",["immutable","LoadObject"],(function(a,b,c,d,e,f){"use strict";var g;c=b("immutable").Record({filterData:b("LoadObject").empty(),isSelectingAll:!1,locationIDs:b("immutable").List(),originalLocations:b("immutable").Map(),publishedLocations:b("immutable").Map()});g=babelHelpers.inherits(a,c);g&&g.prototype;function a(){g.apply(this,arguments)}e.exports=a}),null);
__d("LMRowStoreResult",["immutable"],(function(a,b,c,d,e,f){"use strict";var g;c=b("immutable").Record({filterData:undefined,isSelectingAll:undefined,rows:undefined});g=babelHelpers.inherits(a,c);g&&g.prototype;function a(){g.apply(this,arguments)}e.exports=a}),null);
__d("LMRowStore",["AdsDataAtom","FluxSimpleDerivedStore","LMChildPageFastFieldsStore","LMConfigStore","LMFilterLocationsStore","LMLocationPublishingStateStore","LMQueryLocationStore","LMRowStoreData","LMRowStoreResult","LMSelectAllStore","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=new(b("LMRowStoreData"))();g=babelHelpers.inherits(a,b("FluxSimpleDerivedStore"));g&&g.prototype;a.prototype.__getStores=function(){return[b("LMChildPageFastFieldsStore"),b("LMConfigStore"),b("LMQueryLocationStore"),b("LMFilterLocationsStore"),b("LMLocationPublishingStateStore"),b("LMSelectAllStore")]};a.prototype.__getData=function(a){__p&&__p();var c=b("LMConfigStore").getState();c=c.parentPageID;if(c==null)return h;var d=b("LMQueryLocationStore").getState();d=b("LMFilterLocationsStore").getFor(c,d);var e=d.map(function(a){return a.ids}).getValue()||b("immutable").List(),f=b("LMChildPageFastFieldsStore").getAll(e,a?a.originalLocations:null),g=b("LMLocationPublishingStateStore").getAll(e,a?a.publishedLocations:null);c=b("LMSelectAllStore").getFor(c).isLoading();a=(a||h).set("isSelectingAll",c).set("locationIDs",e).set("filterData",d).set("originalLocations",f).set("publishedLocations",g);return a};a.prototype.__computeResult=function(a){var c=a.filterData,d=a.isSelectingAll,e=a.locationIDs,f=a.originalLocations,g=a.publishedLocations;a=e.map(function(a){var b=g.get(a);return!b.isEmpty()?b:f.get(a)});return new(b("LMRowStoreResult"))({filterData:c,isSelectingAll:d,rows:a})};function a(){g.apply(this,arguments)}a.__moduleID=e.id;e.exports=new a(b("AdsDataAtom"))}),null);
__d("XBusinessWhitelistParentPageController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/locations/whitelist/",{})}),null);
__d("LMSetupWizardDataManager",["CurrentUser","LMActions","LocationManagerUtils","WebFunnelLogger","XBusinessWhitelistParentPageController","promiseAsyncRequest","promiseDone"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("LocationManagerUtils").createChildLocationFromOwnedPage;function h(a,c,d,e){b("promiseDone")(b("promiseAsyncRequest")(b("XBusinessWhitelistParentPageController").getURIBuilder().getURI(),{method:"POST",data:{page_id:a,remove_address_only:c}}),function(){new(b("WebFunnelLogger"))("LocationManagerOnboardingFunnelDefinition").setSessionKey(b("CurrentUser").getID()).addActionPayload("parent_page_id",a).setAction("main_page_conversion_success").log(),d&&e!=null?i(a,e):b("LMActions").dispatchActionFromServerResponse({type:"lm.onboarding.main_page_conversion.success",pageID:a})},function(a){b("LMActions").dispatchActionFromServerResponse({type:"lm.onboarding.main_page_conversion.error",error:a.toError()})})}function i(a,c){var d=c.location!=null?c.location:{},e=c.single_line_address!=null?c.single_line_address:"";b("promiseDone")(g(a,c.location!=null?c.location:{}),function(c){var e=c.id;b("LMActions").dispatchActionFromServerResponse({type:"lm.onboarding.child_page_creation.success",childPageID:e,parentLocation:d,parentPageID:a});b("LMActions").dispatchActionFromServerResponse({type:"lm.locations.location_added",parentPageID:a,newLocation:c});b("LMActions").dispatchActionFromServerResponse({type:"lm.load_first_location_page",parentPageID:a})},function(c){b("LMActions").dispatchActionFromServerResponse({type:"lm.onboarding.child_page_creation.error",parentPageID:a,parentSingleLineAddress:e,error:c})})}function a(a,b){h(a.id,!1,b,a)}function c(a){h(a,!0,!1,null)}e.exports={removeAddress:c,whitelistPageWithOptionalChildCreation:a}}),null);
__d("LocationManagerWebdriverIDs",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ONBOARDING_START:"lm-onboarding-start",ONBOARDING_CONFIRM:"lm-onboarding-confirm",ONBOARDING_REDIRECT:"lm-onboarding-redirect"})}),null);
__d("LMSetupWizardSteps",["cx","fbt","ix","ApiPageFields","CurrentUser","FDSButton.react","Image.react","LocationManagerWebdriverIDs","React","SUIRadioList.react","FDSCheckboxInput.react","SUINotice.react","SUIText.react","WebFunnelLogger","asset","gkx"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k=b("SUIRadioList.react").Item;a=babelHelpers.inherits(l,b("React").Component);j=a&&a.prototype;function l(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=j.constructor).call.apply(a,[this].concat(e)),this.$1=function(){this.props.onGetStarted();var a=this.props.selectedPage.getValue();if(a==null)return;var c=!!a.single_line_address===!0?"parent_page_has_address":"parent_page_does_not_have_address";new(b("WebFunnelLogger"))("LocationManagerOnboardingFunnelDefinition").setSessionKey(b("CurrentUser").getID()).addActionPayload("parent_page_id",a.id).setAction("select_get_started").log();new(b("WebFunnelLogger"))("LocationManagerOnboardingFunnelDefinition").setSessionKey(b("CurrentUser").getID()).addActionPayload("parent_page_id",a.id).setAction(c).log()}.bind(this),c}l.prototype.componentDidMount=function(){var a=this.props.selectedPage.getValue();a!=null&&new(b("WebFunnelLogger"))("LocationManagerOnboardingFunnelDefinition").setSessionKey(b("CurrentUser").getID()).addActionPayload("parent_page_id",a.id).setAction("onboarding_wizard_loaded").markStart().log()};l.prototype.render=function(){return b("React").createElement(b("FDSButton.react"),{"data-testid":b("LocationManagerWebdriverIDs").ONBOARDING_START,label:h._("Get Started"),size:"large",use:"special",onClick:this.$1})};c={start:{canContinue:function(a){return!0},isLoading:function(a){return!1},onClickContinue:function(a){},renderContent:function(a){return b("React").createElement("div",{className:"_3-8l _66mx"},b("React").createElement("div",{className:"_ocj"},b("React").createElement("div",{className:"_ocl _ock"},b("React").createElement(b("Image.react"),{src:i("477285")})),b("React").createElement("div",{className:"_3qxo"},h._("Manage Your Locations"))),b("React").createElement("div",null,h._("Promote your business locally by adding each of your locations")),b("React").createElement("div",{className:"_1-kv"},b("React").createElement("div",{className:"_1-kw"},b("React").createElement(b("Image.react"),{className:"_1-kx",src:i("94787")}),b("React").createElement("div",{className:"_1-ky"},h._("Choose Your Main Page")),b("React").createElement("div",{className:"_1-kz"},h._("Select the Page that represents your whole business."))),b("React").createElement("div",{className:"_1-kw"},b("React").createElement("div",{className:"_1-kx"},b("React").createElement(b("Image.react"),{className:"_1-kx",src:i("94786")})),b("React").createElement("div",{className:"_1-ky"},h._("Add Your Locations")),b("React").createElement("div",{className:"_1-kz"},h._("Build a local presence and help people nearby find your stores."))),b("React").createElement("div",{className:"_1-kw"},b("React").createElement(b("Image.react"),{className:"_1-kx",src:i("94788")}),b("React").createElement("div",{className:"_1-ky"},h._("Start Using Local Ads")),b("React").createElement("div",{className:"_1-kz"},h._("Create ads that show your customers their nearest location.")))))},renderCustomFooter:function(a){return b("React").createElement(l,a)}},remove_address:{canContinue:function(a){return a.addressRemovalAccepted},isLoading:function(a){return a.whitelistStatus.hasOperation()||a.childPageCreationStatus.hasOperation()},onClickContinue:function(a){var b=a.selectedPage.getValue();if(b==null)return;a.onConfirmRemoveAddress(b,a.shouldAutoCreateChild,a.businessID)},renderContent:function(a){var c=a.selectedPage.getValue();if(c==null)return null;var d=!!c.single_line_address;return b("React").createElement("div",{className:"_3-8l _2lzf"},b("React").createElement("div",{className:"_ocj"},b("React").createElement("div",{className:"_ocl _ock"},b("React").createElement(b("Image.react"),{src:i("398198")})),b("React").createElement("div",{className:"_3qxo"},h._("Create Your Main Page")),b("React").createElement("div",null,h._("All your locations will be managed through this Page."))),b("React").createElement("div",{className:"_oci"}),b("React").createElement("div",{className:"_66my"},h._("{page_name} will become the main Page for your business. You'll be able to create a page for each location, so your customers can find information like opening hours, contact details, reviews and directions for the store that's nearest them.",[h._param("page_name",c.name)])),d?b("React").createElement("div",null,b("React").createElement("div",{className:"_66my"},b("React").createElement("div",{className:"_oci"}),b("React").createElement(b("SUINotice.react"),{type:"warning"},b("React").createElement("div",null,b("React").createElement(b("SUIText.react"),{size:"meta1",weight:"bold"},h._("This Page has an existing address"))),b("React").createElement("div",{className:"_3-8x"},b("React").createElement(b("SUIText.react"),{color:"secondary",size:"meta1",weight:"normal"},h._("Your main Page should represent your whole brand, not a specific store or location, so it can't have an address."))),b("React").createElement("div",{className:"_3-8y"},m(a))),b("React").createElement("div",{className:"_3-8y"},h._("We'll remove this address when you make your main Page. If you want your customers to find you by this address, make a new location Page once this step is complete.")),b("React").createElement("div",{className:"_ocu"},b("React").createElement("div",null,b("React").createElement(b("FDSCheckboxInput.react"),{label:h._("Remove address and make {page_name} my main Page",[h._param("page_name",b("React").createElement("strong",null,c.name))]),value:a.addressRemovalAccepted,onChange:a.onAddressRemovalAcceptedChange})))),b("gkx")("AT5yg7Zu68Y4urySmofAaVvE2ExLhO5bbWvmmISPreIVOTOrjY9V5tARzKfVeomIbnI9REX6Pd4gx1yp3RdcGkoPlCbQvcKUGbVj0NxoPUQuGg")&&a.addressRemovalAccepted?b("React").createElement("div",{className:"_66my"},b("React").createElement("div",{className:"_oci"}),b("React").createElement("div",{className:"_3-8y"},h._("Would you like to create a location Page for {page_location}",[h._param("page_location",c.single_line_address)])),b("React").createElement("div",{className:"_ocu"},b("React").createElement("div",null,b("React").createElement(b("SUIRadioList.react"),{value:a.shouldAutoCreateChild?"auto_create":"permanent_delete",onChange:a.onAutoCreateChildChange},b("React").createElement(k,{value:"auto_create"},h._("Yes. Use {page_location} to create my first location page",[h._param("page_location",c.single_line_address)])),b("React").createElement(k,{value:"permanent_delete"},h._("No. Permanently delete this address.")))))):null):b("React").createElement("div",{className:"_66my _3-8-"},b("React").createElement("div",null,b("React").createElement(b("FDSCheckboxInput.react"),{label:h._("Make {page_name} my main page",[h._param("page_name",b("React").createElement("strong",null,c.name))]),value:a.addressRemovalAccepted,onChange:a.onAddressRemovalAcceptedChange}))))},renderCustomFooter:function(a){return null}},whitelist_error:{canContinue:function(a){return!1},isLoading:function(a){return!1},onClickContinue:function(a){},renderContent:function(a){a=a.whitelistStatus.getError();return b("React").createElement("div",{className:"_3-8l"},b("React").createElement("div",{className:"_ocj"},b("React").createElement("div",{className:"_ock _ocr"},b("React").createElement(b("Image.react"),{src:i("402790")})),b("React").createElement("div",{className:"_3qxo"},h._("There was an error while making your page a Main Page.")),a!=null?b("React").createElement("div",null,h._("{error_message}.",[h._param("error_message",a.description||a.message)])):null))},renderCustomFooter:function(a){return null}},whitelist_success:{canContinue:function(a){return!1},isLoading:function(a){return!1},onClickContinue:function(a){},renderContent:function(a){return b("React").createElement("div",{className:"_3-8l _2lzf"},b("React").createElement("div",{className:"_ocj"},b("React").createElement("div",{className:"_ock _ocq"},b("React").createElement(b("Image.react"),{src:i("381759")})),b("React").createElement("div",{className:"_3qxo"},h._("Success!")),b("React").createElement("div",null,h._("You've created your Page and you're ready to start adding locations."))))},renderCustomFooter:function(a){return b("React").createElement(b("FDSButton.react"),{"data-testid":b("LocationManagerWebdriverIDs").ONBOARDING_REDIRECT,label:h._("Add Locations"),size:"large",use:"special",onClick:a.onRedirectToLocationManager})}},child_page_creation_success:{canContinue:function(a){return!1},isLoading:function(a){return!1},onClickContinue:function(a){},renderContent:function(a){var c=a.selectedPage.getValue();if(c==null)return null;var d;a.parentLocation!=null&&a.parentLocation.city!=null&&a.parentLocation.country!=null&&(d=" ("+a.parentLocation.city+", "+a.parentLocation.country+")");return b("React").createElement("div",{className:"_3-8l _2lzf"},b("React").createElement("div",{className:"_ocj"},b("React").createElement("div",{className:"_ock _ocq"},b("React").createElement(b("Image.react"),{src:i("381759")})),b("React").createElement("div",{className:"_3qxo"},h._("Success!")),b("React").createElement("div",null,h._("You've created your main Page, {main_page_name} and your first location page, {child_page_name}",[h._param("main_page_name",c.name),h._param("child_page_name",c.name)]),d!=null&&d!=undefined?h._("{city_and_country}",[h._param("city_and_country",d)]):null,h._(". To add the rest of your locations, you can add them one at a time or upload them all in bulk using a spreadsheet."))))},renderCustomFooter:function(a){return b("React").createElement(b("FDSButton.react"),{"data-testid":b("LocationManagerWebdriverIDs").ONBOARDING_REDIRECT,label:h._("Go To Location Manager"),size:"large",use:"special",onClick:a.onRedirectToLocationManager})}},child_page_creation_error:{canContinue:function(a){return!1},isLoading:function(a){return!1},onClickContinue:function(a){},renderContent:function(a){var c=a.selectedPage.getValue();return c==null?null:b("React").createElement("div",{className:"_3-8l"},b("React").createElement("div",{className:"_ocj"},b("React").createElement("div",{className:"_ock _ocr"},b("React").createElement(b("Image.react"),{src:i("402790")})),b("React").createElement("div",{className:"_3qxo"},h._("Your main Page has been published, but there was an error making your first location Page at {parent_single_line_address} and it couldn't be created.",[h._param("parent_single_line_address",a.parentSingleLineAddress)])),b("React").createElement("div",{className:"_3-8-"},h._("Creating a location Page manually will take just a few minutes - you can add details for each one at a time or upload them all in bulk using a spreadsheet."))))},renderCustomFooter:function(a){return b("React").createElement(b("FDSButton.react"),{"data-testid":b("LocationManagerWebdriverIDs").ONBOARDING_REDIRECT,label:h._("Add Locations"),size:"large",use:"special",onClick:a.onRedirectToLocationManager})}}};function m(a){a=a.selectedPage.getValue();return!a||!a[b("ApiPageFields").SINGLE_LINE_ADDRESS]?null:a[b("ApiPageFields").SINGLE_LINE_ADDRESS].split(", ").map(function(a,c){return b("React").createElement("div",{key:"token_"+c},a)})}e.exports=c}),null);
__d("LMSetupWizardStoreState",["immutable","LMSetupWizardSteps","LoadObject","gkx"],(function(a,b,c,d,e,f){"use strict";var g;c=b("immutable").Record({addressRemovalAccepted:!1,childPageCreationStatus:b("LoadObject").empty(),currentStep:b("LMSetupWizardSteps").start,parentLocation:b("immutable").Map(),parentSingleLineAddress:"",previousSteps:b("immutable").List(),shouldAutoCreateChild:b("gkx")("AT5yg7Zu68Y4urySmofAaVvE2ExLhO5bbWvmmISPreIVOTOrjY9V5tARzKfVeomIbnI9REX6Pd4gx1yp3RdcGkoPlCbQvcKUGbVj0NxoPUQuGg"),whitelistStatus:b("LoadObject").empty()});g=babelHelpers.inherits(a,c);g&&g.prototype;function a(){g.apply(this,arguments)}e.exports=a}),null);
__d("LMSetupWizardStore",["AdsDataAtom","CurrentUser","FBLogger","FluxReduceStore","LMSetupWizardDataManager","LMSetupWizardSteps","LMSetupWizardStoreState","LMUtils","LoadObject","WebFunnelLogger"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("LMUtils").chainReducers;g=babelHelpers.inherits(a,b("FluxReduceStore"));g&&g.prototype;a.prototype.getInitialState=function(){return new(b("LMSetupWizardStoreState"))()};a.prototype.reduce=function(a,c){__p&&__p();var d=c.action;switch(d.type){case"lm.onboarding.get_started":return o(a,b("LMSetupWizardSteps").remove_address);case"lm.onboarding.confirm_remove_address":return i(a,d.page,d.shouldAutoCreateChild,d.businessID);case"lm.onboarding.toggle_address_removal_accepted":return a.set("addressRemovalAccepted",d.isChecked);case"lm.onboarding.toggle_auto_create_child_page":return a.set("shouldAutoCreateChild",d.shouldAutoCreateChild);case"lm.onboarding.main_page_conversion.success":return h(a,function(a){return k(a)},function(a){return o(a,b("LMSetupWizardSteps").whitelist_success)});case"lm.onboarding.redirect_to_location_manager":new(b("WebFunnelLogger"))("LocationManagerOnboardingFunnelDefinition").setSessionKey(b("CurrentUser").getID()).addActionPayload("parent_page_id",d.page.id).setAction("redirect_to_location_manager").log();return a;case"lm.onboarding.main_page_conversion.error":var e=d.error;b("FBLogger")("location_manager").catching(d.error).mustfix("failed to convert main page");return h(a,function(a){return n(a,e)},function(a){return o(a,b("LMSetupWizardSteps").whitelist_error)});case"lm.onboarding.child_page_creation.success":new(b("WebFunnelLogger"))("LocationManagerOnboardingFunnelDefinition").setSessionKey(b("CurrentUser").getID()).addActionPayload("parent_page_id",d.parentPageID).setAction("child_page_creation_success").log();return h(a,function(a){return a.set("parentLocation",d.parentLocation)},function(a){return k(a)},function(a){return l(a)},function(a){return o(a,b("LMSetupWizardSteps").child_page_creation_success)});case"lm.onboarding.child_page_creation.error":var f=d.error;c=d.parentPageID;b("FBLogger")("location_manager").catching(f).mustfix("failed to create the first location_name page for parentID "+c.toString());return h(a,function(a){return a.set("parentSingleLineAddress",d.parentSingleLineAddress)},function(a){return k(a)},function(a){return m(a,f)},function(a){return o(a,b("LMSetupWizardSteps").child_page_creation_error)});case"lm.onboarding.click_back":return a.set("currentStep",a.previousSteps.last()).set("previousSteps",a.previousSteps.pop());case"lm.navigation.selected_page_change":return new(b("LMSetupWizardStoreState"))();case"lm.onboarding.remove_address_only":return j(a,d.pageID)}return a};function a(){g.apply(this,arguments)}a.__moduleID=e.id;function i(a,c,d,e){b("LMSetupWizardDataManager").whitelistPageWithOptionalChildCreation(c,d);e=a;e=e.set("whitelistStatus",b("LoadObject").updating());d&&(e=e.set("childPageCreationStatus",b("LoadObject").updating()));return e}function j(a,c){b("LMSetupWizardDataManager").removeAddress(c);return a.set("whitelistStatus",b("LoadObject").updating())}function k(a){return a.set("whitelistStatus",b("LoadObject").withValue(undefined))}function l(a){return a.set("childPageCreationStatus",b("LoadObject").withValue("success"))}function m(a,c){return a.set("childPageCreationStatus",b("LoadObject").withError(c))}function n(a,c){return a.set("whitelistStatus",b("LoadObject").withError(c))}function o(a,b){return a.update("previousSteps",function(b){return b.push(a.currentStep)}).set("currentStep",b)}e.exports=new a(b("AdsDataAtom"))}),null);
__d("LMSidebarStore",["AdsDataAtom","FluxReduceStore","LMLocalStorage"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h="sidebar_is_expanded";g=babelHelpers.inherits(a,b("FluxReduceStore"));g&&g.prototype;a.prototype.getInitialState=function(){var a=b("LMLocalStorage").getItem(h);return a==null||a==="true"};a.prototype.reduce=function(a,c){c=c.action;switch(c.type){case"lm.sidebar.toggle":b("LMLocalStorage").setItem(h,String(!a));return!a;default:return a}};function a(){g.apply(this,arguments)}a.__moduleID=e.id;e.exports=new a(b("AdsDataAtom"))}),null);
__d("LMUploadLocationsMessageBoxStore",["AdsDataAtom","FluxReduceStore"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;g=babelHelpers.inherits(a,b("FluxReduceStore"));g&&g.prototype;a.prototype.getInitialState=function(){return!1};a.prototype.reduce=function(a,b){b=b.action;switch(b.type){case"lm.upload_locations.cancel_upload":case"lm.upload_locations.close_upload":return!1;case"lm.upload_locations.open_upload":return!0;default:return a}};function a(){g.apply(this,arguments)}a.__moduleID=e.id;e.exports=new a(b("AdsDataAtom"))}),null);
__d("LMUploadConstants",[],(function(a,b,c,d,e,f){e.exports={ERROR_UPLOADING_FILE:"ERROR_UPLOADING_FILE",UPLOAD_COMPLETE_SUCCESS:"UPLOAD_COMPLETE_SUCCESS",UPLOAD_COMPLETE_WITH_COLUMN_ERRORS:"UPLOAD_COMPLETE_WITH_COLUMN_ERRORS",UPLOAD_COMPLETE_WITH_ROW_ERRORS:"UPLOAD_COMPLETE_WITH_ROW_ERRORS",UPLOADING_FILE:"UPLOADING_FILE"}}),null);
__d("LMUploadLocationsStore",["AdsDataAtom","FluxMapStore","LMUploadConstants"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;g=babelHelpers.inherits(a,b("FluxMapStore"));g&&g.prototype;a.prototype.reduce=function(a,c){__p&&__p();c=c.action;switch(c.type){case"lm.upload_locations.cancel_upload":return a["delete"](c.parentPageID);case"lm.upload_locations.error_uploading_file":return a.set(c.parentPageID,{stage:b("LMUploadConstants").ERROR_UPLOADING_FILE,fileUploadError:c.fileUploadError});case"lm.upload_locations.chosen_file":return a.set(c.parentPageID,{stage:b("LMUploadConstants").UPLOADING_FILE,progressPercentage:0});case"lm.upload_locations.upload_progress":return a.set(c.parentPageID,{stage:b("LMUploadConstants").UPLOADING_FILE,progressPercentage:c.progressPercentage});case"lm.upload_locations.upload_complete_with_row_errors":return a.set(c.parentPageID,{stage:b("LMUploadConstants").UPLOAD_COMPLETE_WITH_ROW_ERRORS,totalRowCount:c.totalRowCount,errorRowCount:c.errorRowCount,errorDownloadUrl:c.errorDownloadUrl,sid:c.sid});case"lm.upload_locations.upload_complete_with_column_errors":return a.set(c.parentPageID,{stage:b("LMUploadConstants").UPLOAD_COMPLETE_WITH_COLUMN_ERRORS,missingColumns:c.missingColumns,invalidHeaders:c.invalidHeaders,duplicateColumns:c.duplicateColumns});case"lm.upload_locations.upload_complete_success":return a.set(c.parentPageID,{stage:b("LMUploadConstants").UPLOAD_COMPLETE_SUCCESS,totalRowCount:c.totalRowCount,sid:c.sid});case"lm.upload_locations.confirm_upload":return a["delete"](c.parentPageID);default:return a}};a.prototype.getUploadStatus=function(a){return this.get(a)};a.prototype.getUploadStatusStage=function(a){a=this.get(a);return a!=null?a.stage:null};function a(){g.apply(this,arguments)}a.__moduleID=e.id;e.exports=new a(b("AdsDataAtom"))}),null);
__d("LMStores",["LMBulkEditableBusinessLocationStore","LMChildCountStore","LMChildPageFastFieldsStore","LMChildPageSlowFieldsStore","LMChoosePageToClaimStore","LMColumnEditStore","LMColumnStore","LMConfigStore","LMCoreNavStore","LMEditedLocationIDsStore","LMEditedLocationsStore","LMErrorSpecStore","LMFilterLocationsStore","LMGeoCodingStore","LMImportMenuStore","LMImportStatusStore","LMKeyboardShortcutsModalStore","LMKeyboardStore","LMLastPublishingOperationStore","LMLocationHasRunningAdsStore","LMMaxStoreNumberStore","LMNuxStore","LMOwnedPageStore","LMPageSelectorStore","LMPageSettingsStore","LMPageWhitelistEligibilityStore","LMPermissionsStore","LMPhoneNumberStore","LMPublishingStore","LMQueryLocationStore","LMRowStore","LMSelectAllStore","LMSelectedLocationIDsStore","LMSetupWizardStore","LMSidebarStore","LMUploadLocationsMessageBoxStore","LMUploadLocationsStore","LMVanityNameStore"],(function(a,b,c,d,e,f){"use strict";a=[b("LMBulkEditableBusinessLocationStore"),b("LMChildCountStore"),b("LMChildPageFastFieldsStore"),b("LMChildPageSlowFieldsStore"),b("LMChoosePageToClaimStore"),b("LMColumnEditStore"),b("LMColumnStore"),b("LMConfigStore"),b("LMCoreNavStore"),b("LMEditedLocationIDsStore"),b("LMEditedLocationsStore"),b("LMErrorSpecStore"),b("LMFilterLocationsStore"),b("LMGeoCodingStore"),b("LMImportMenuStore"),b("LMImportStatusStore"),b("LMKeyboardShortcutsModalStore"),b("LMKeyboardStore"),b("LMKeyboardStore"),b("LMLastPublishingOperationStore"),b("LMLocationHasRunningAdsStore"),b("LMMaxStoreNumberStore"),b("LMNuxStore"),b("LMOwnedPageStore"),b("LMPageSelectorStore"),b("LMPageSettingsStore"),b("LMPageWhitelistEligibilityStore"),b("LMPermissionsStore"),b("LMPhoneNumberStore"),b("LMPublishingStore"),b("LMQueryLocationStore"),b("LMRowStore"),b("LMSelectAllStore"),b("LMSelectedLocationIDsStore"),b("LMSetupWizardStore"),b("LMSidebarStore"),b("LMUploadLocationsMessageBoxStore"),b("LMUploadLocationsStore"),b("LMVanityNameStore")];e.exports={LIST:a}}),null);
__d("LMUploadLocationsActionCreators",["LMActions","LMImportStatusDataManager","LMUploadConstants","LMUploadLocationsStore","LMUploadLocationsUtils","promiseDone"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("LMActions").dispatchActionFromServerResponse,h=b("LMActions").dispatchActionFromView;function a(){h({type:"lm.upload_locations.open_upload"})}function c(a,c){__p&&__p();h({type:"lm.upload_locations.chosen_file",parentPageID:a});var d=!1,e=b("LMUploadLocationsStore").addListener(function(){b("LMUploadLocationsStore").getUploadStatusStage(a)!==b("LMUploadConstants").UPLOADING_FILE&&(d=!0)});b("promiseDone")(b("LMUploadLocationsUtils").uploadExcel(a,c,function(b){if(d)return;g({type:"lm.upload_locations.upload_progress",parentPageID:a,progressPercentage:b})}),function(b){__p&&__p();e.remove();if(d)return;switch(b.type){case"COLUMN_ERRORS":g({type:"lm.upload_locations.upload_complete_with_column_errors",parentPageID:a,missingColumns:b.missingColumns,invalidHeaders:b.invalidHeaders,duplicateColumns:b.duplicateColumns});break;case"ROW_ERRORS":g({type:"lm.upload_locations.upload_complete_with_row_errors",parentPageID:a,sid:b.sid,totalRowCount:b.totalRowCount,errorRowCount:b.errorRowCount,errorDownloadUrl:b.errorDownloadUrl});break;case"ERROR":g({type:"lm.upload_locations.error_uploading_file",parentPageID:a,fileUploadError:b.error});break;case"SUCCESS":g({type:"lm.upload_locations.upload_complete_success",parentPageID:a,sid:b.sid,totalRowCount:b.totalRowCount});break}},function(b){e.remove();if(d)return;g({type:"lm.upload_locations.error_uploading_file",parentPageID:a,fileUploadError:b.message})})}function d(a,c,d){h({type:"lm.upload_locations.confirm_upload",parentPageID:a,totalLocations:d}),b("promiseDone")(b("LMUploadLocationsUtils").beginImport(c),function(){b("LMImportStatusDataManager").load(a)})}e.exports={onConfirmImport:d,onFileSelected:c,onOpenUpload:a}}),null);
__d("LMEmployeeInternSwitchNotice.react",["cx","fbt","CurrentUser","LMEnvironment","React","SUILink.react","SUINotice.react"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i;i=babelHelpers.inherits(a,b("React").Component);i&&i.prototype;a.prototype.render=function(){"use strict";var a=this.props.permissions.getValue();return this.props.environment===b("LMEnvironment").INTERN||!b("CurrentUser").isEmployee()||a==null||a.roles.length>0?null:b("React").createElement("div",{className:"_2ph_"},b("React").createElement(b("SUINotice.react"),{type:"warning"},h._("[FB only] Looks like you're an employee using Business Location Manager. Employees should use Internal Location Manager for managing client pages.")," ",b("React").createElement(b("SUILink.react"),{href:"https://our.intern.facebook.com/intern/pages/locations/"},h._("Switch to internal location manager."))))};function a(){"use strict";i.apply(this,arguments)}e.exports=a}),null);
__d("LMBulkBusinessLocationEditorFooter.react",["fbt","LMLoggingUtils","LocationManagerWebDriverTestIDs","React","SUIButton.react","SUIModal.react","SUIModalCancelButton.react","SUIModalFooter.react","SUIModalHeader.react","SUIText.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;function i(a){return b("React").createElement(b("SUIModal.react"),{footer:b("React").createElement(b("SUIModalFooter.react"),{primaryButton:b("React").createElement(b("SUIButton.react"),{"data-testid":b("LocationManagerWebDriverTestIDs").LOCATION_FORM_RUNNING_ADS_CONFIRM_BUTTON,label:g._("OK"),use:"confirm",onClick:a.onSave}),secondaryButton:b("React").createElement(b("SUIModalCancelButton.react"),null)}),header:b("React").createElement(b("SUIModalHeader.react"),{title:g._({"*":"Ads For These Locations Will Be Stopped","_1":"Ads For This Location Will Be Stopped"},[g._plural(a.locationCount)])}),isShown:a.isShown,onHide:a.onHide},b("React").createElement("div",null,b("React").createElement(b("SUIText.react"),{display:"block",color:"secondary",size:"meta1"},g._({"*":{"*":{"*":"Some of these locations are currently being used in your store visits ads. Once you have marked them as permanently closed, they'll be removed from all active campaigns.","_1":"Some of these locations are currently being used in your store visits ads. Once you have marked them as permanently closed, it'll be removed from all active campaigns."},"_1":{"*":"Some of these locations are currently being used in your store visits ads. Once you have marked it as permanently closed, they'll be removed from all active campaigns.","_1":"Some of these locations are currently being used in your store visits ads. Once you have marked it as permanently closed, it'll be removed from all active campaigns."}},"_1":{"*":{"*":" This location is currently being used in your store visits ads. Once you have marked them as permanently closed, they'll be removed from all active campaigns.","_1":" This location is currently being used in your store visits ads. Once you have marked them as permanently closed, it'll be removed from all active campaigns."},"_1":{"*":" This location is currently being used in your store visits ads. Once you have marked it as permanently closed, they'll be removed from all active campaigns.","_1":" This location is currently being used in your store visits ads. Once you have marked it as permanently closed, it'll be removed from all active campaigns."}}},[g._plural(a.locationCount),g._plural(a.locationCount),g._plural(a.locationCount)]))))}function j(a,b){if(!b)return g._("Unable to save invalid location.");return a?g._("Unable to save pending changes."):null}function k(a){return a?g._("Unable to cancel pending changes."):null}c=babelHelpers.inherits(a,b("React").Component);h=c&&c.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=h.constructor).call.apply(a,[this].concat(e)),this.state={isConfirmModalShown:!1},this.$1=function(){this.setState(function(a){return{isConfirmModalShown:!a.isConfirmModalShown}})}.bind(this),this.$2=function(){this.setState({isConfirmModalShown:!1}),b("LMLoggingUtils").logAction("lm.editing.ads_running_confirmation_modal_accepted"),this.props.onSave()}.bind(this),this.$3=function(){this.props.changedToPermanentlyClosed&&this.props.locationHasRunningAds?(this.setState({isConfirmModalShown:!0}),b("LMLoggingUtils").logAction("lm.editing.ads_running_confirmation_modal_shown")):this.props.onSave()}.bind(this),c}a.prototype.render=function(){if(!this.props.permissions.canEdit)return null;var a=this.props.hasOperation||!this.props.isValid;return b("React").createElement("div",null,b("React").createElement(b("SUIModalFooter.react"),{primaryButton:b("React").createElement(b("SUIButton.react"),{"data-testid":a?null:b("LocationManagerWebDriverTestIDs").BULK_LOCATION_FORM_SAVE_BUTTON,disabled:a,label:g._("Save"),use:"confirm",tooltip:j(this.props.hasOperation,this.props.isValid),onClick:this.$3}),secondaryButton:b("React").createElement(b("SUIButton.react"),{disabled:this.props.hasOperation,label:g._("Cancel"),tooltip:k(this.props.hasOperation),onClick:this.props.onCancel})}),b("React").createElement(i,{isShown:this.state.isConfirmModalShown,locationCount:this.props.locationCount,onHide:this.$1,onSave:this.$2}))};e.exports=a}),null);
__d("BusinessPageUsernameInput.react",["BUIForm.react","BUIFormTextInput.react","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=b("React").Component;d=b("React").PropTypes;var h="fb.com/";f=babelHelpers.inherits(a,c);g=f&&f.prototype;function a(a){g.constructor.call(this,a),this.$1=function(a){a=a.target.value;var b=a.indexOf(h)===0;b&&(a=a.substr(h.length));this.setState({hasPrefix:b});this.props.onChange(a)}.bind(this),this.state={hasPrefix:!0}}a.prototype.render=function(){return b("React").createElement(b("BUIFormTextInput.react"),{className:this.props.className,density:this.props.density,disabled:this.props.disabled,xuiError:this.props.error,value:(this.state.hasPrefix?h:"")+this.props.value,onChange:this.$1})};a.defaultProps={disabled:!1,value:""};a.propTypes={className:d.string,density:b("BUIForm.react").propTypes.density,disabled:d.bool.isRequired,pageID:d.string,value:d.string.isRequired,onChange:d.func.isRequired};e.exports=a}),null);
__d("BusinessHoursEditorOptionsEnum",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({OPEN_FOR_SELECTED:"open_for_selected",ALWAYS_OPEN:"always_open",PERM_CLOSED:"perm_closed",NO_HOURS:"no_hours"})}),null);
__d("BusinessHoursUtils",["fbt"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=["mon","tue","wed","thu","fri","sat","sun"];c={mon:g._("Mon"),tue:g._("Tue"),wed:g._("Wed"),thu:g._("Thurs"),fri:g._("Fri"),sat:g._("Sat"),sun:g._("Sun")};d={1:g._("Day"),2:g._("Morning"),3:g._("Afternoon")};f={mon:!1,tue:!1,wed:!1,thu:!1,fri:!1,sat:!1,sun:!1};var i={mon:!0,tue:!0,wed:!0,thu:!0,fri:!0,sat:!0,sun:!0};function j(a){return a.toISOString().replace(/\:\d\d$/,"")}function a(a,b,c,d){__p&&__p();if(!b||!c)return{hasError:!0,error:"NO_OPEN_OR_CLOSE",message:g._("You must enter a start and end time.")};if(c.isBeforeOrEqual(b))return{hasError:!0,error:"CLOSED_BEFORE_OPEN",message:g._("You cannot have a closing time that is before your opening time.")};if(k(d))return{hasError:!0,error:"NO_DAYS_SELECTED",message:g._("You must select at least one day to add this time slot to.")};b=j(b);c=j(c);a=babelHelpers["extends"]({},a);for(var e=0;e<h.length;e++){var f=h[e];if(d[f])if(!(f+"_1_open"in a))a[f+"_1_open"]=b,a[f+"_1_close"]=c;else if(!(f+"_2_open"in a))a[f+"_2_open"]=b,a[f+"_2_close"]=c;else return{hasError:!0,error:"MORE_THAN_TWO_TIME_SLOTS",message:g._("You can only add two opening hours per day.")}}return l(a)}function b(a){var b=Object.keys(a);for(var c=0;c<b.length;c++){var d=b[c];if(!a[d])return!1}return!0}function k(a){var b=Object.keys(a);for(var c=0;c<b.length;c++){var d=b[c];if(a[d])return!1}return!0}function l(a){__p&&__p();var b={};h.forEach(function(c){var d=c+"_1_open",e=c+"_1_close",f=c+"_2_open";c=c+"_2_close";var g=d in a,h=f in a;if(g&&h){var i=[a[d],a[e],a[f],a[c]];i[0]>i[2]&&(i=[i[2],i[3],i[0],i[1]]);i[1]>=i[2]?(b[d]=i[0],b[e]=i[1]>i[3]?i[1]:i[3]):(b[d]=i[0],b[e]=i[1],b[f]=i[2],b[c]=i[3])}else(g||h)&&(b[d]=g?a[d]:a[f],b[e]=g?a[e]:a[c])});return b}e.exports={ALL_DAYS:i,DAYS:h,DAY_NAMES:c,HEADER_LABELS:d,EMPTY_DAYS:f,addTimeSlot:a,hasAllDays:b,normalizeHours:l}}),null);
__d("BusinessHoursEditor.react",["cx","fbt","BUIForm.react","BUIFormText.react","BUITimeInput.react","BusinessHoursEditorOptionsEnum","BusinessHoursUtils","FDSButton.react","FDSButtonGroup.react","FDSCheckboxInput.react","FDSCloseButton.react","FDSModalFooter.react","FDSSimpleTable.react","FDSSimpleTableColumn.react","FDSTableGenericCell.react","React","SUIBusinessTheme","SUIBusinessThemeContainer.react","SUINotice.react","SUIPopoverLayer.react","SUIRadioList.react","suiMargin"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=b("BusinessHoursUtils").ALL_DAYS,l=b("BusinessHoursUtils").DAYS,m=b("BusinessHoursUtils").DAY_NAMES,n=b("BusinessHoursUtils").HEADER_LABELS,o=b("BusinessHoursUtils").EMPTY_DAYS,p=b("BusinessHoursUtils").addTimeSlot,q=b("BusinessHoursUtils").hasAllDays,r=b("BusinessHoursUtils").normalizeHours;c=b("React").Component;d=b("React").PropTypes;var s=b("SUIRadioList.react").Item,t=b("BusinessHoursEditorOptionsEnum").OPEN_FOR_SELECTED,u=b("BusinessHoursEditorOptionsEnum").ALWAYS_OPEN,v=b("BusinessHoursEditorOptionsEnum").PERM_CLOSED,w=b("BusinessHoursEditorOptionsEnum").NO_HOURS,x=48,y=32,z=400,A=(f={},f[t]=h._("Open for selected hours"),f[u]=h._("Always open"),f[v]=h._("Permanently closed"),f[w]=h._("No hours available"),f);g=babelHelpers.inherits(a,c);i=g&&g.prototype;function a(a){__p&&__p();i.constructor.call(this,a),this.$2=function(){var a=p(this.props.hours,this.state.open,this.state.close,this.state.selectedDays);a.hasError?this.setState({errorMessage:a.message}):this.setState({errorMessage:null,dialogShown:!1,open:null,close:null,selectedDays:o},function(){this.props.onChange({always_open:!1,permanently_closed:!1,hours:a})}.bind(this))}.bind(this),this.$3=function(){this.setState({dialogShown:!this.state.dialogShown})}.bind(this),this.$4=function(){this.setState({dialogShown:!1})}.bind(this),this.$5=function(a){this.setState({open:a})}.bind(this),this.$6=function(a){this.setState({close:a})}.bind(this),this.$7=function(){return this.refs.addHoursButton}.bind(this),this.$9=function(){this.setState({selectedDays:q(this.state.selectedDays)?o:k})}.bind(this),this.$14=function(a,b){var c=babelHelpers["extends"]({},this.props.hours);delete c[a];delete c[b];this.props.onChange({always_open:!1,permanently_closed:!1,hours:r(c)})}.bind(this),this.$16=function(a){return b("React").createElement(b("FDSTableGenericCell.react"),{align:"left",content:a.day,height:x})},this.$17=function(a){return b("React").createElement(b("FDSTableGenericCell.react"),{content:this.$18(a.morning_hours,a.morning_keys),height:x})}.bind(this),this.$19=function(a){return b("React").createElement(b("FDSTableGenericCell.react"),{content:this.$18(a.afternoon_hours,a.afternoon_keys),height:x})}.bind(this),this.$20=function(a,c){return b("React").createElement(b("FDSTableGenericCell.react"),{align:"left",content:a[c],hasBorders:!0,height:y})},this.$22=function(a){__p&&__p();this.$1=this.$23()===t?this.props.hours:this.$1,this.setState({dialogShown:!1,hasHours:a===t},function(){switch(a){case t:this.props.onChange({always_open:!1,permanently_closed:!1,hours:this.$1});break;case u:this.props.onChange({always_open:!0,permanently_closed:!1,hours:undefined});break;case v:this.props.onChange({always_open:!1,permanently_closed:!0,hours:undefined});break;case w:this.props.onChange({always_open:!1,permanently_closed:!1,hours:{}});break}}.bind(this))}.bind(this),this.state={errorMessage:null,hasHours:!1,dialogShown:!1,open:null,close:null,selectedDays:o},this.$1={}}a.prototype.$8=function(a){var b;this.setState({selectedDays:babelHelpers["extends"]({},this.state.selectedDays,(b={},b[a]=!this.state.selectedDays[a],b))})};a.prototype.$10=function(a,c){return b("React").createElement(b("FDSButton.react"),{isDepressed:this.state.selectedDays[a],key:a,label:c,minWidth:35,onClick:this.$8.bind(this,a)})};a.prototype.$11=function(){var a=b("React").createElement(b("BUITimeInput.react"),{value:this.state.open,onChange:this.$5}),c=b("React").createElement(b("BUITimeInput.react"),{value:this.state.close,onChange:this.$6});return b("React").createElement("div",null,this.state.errorMessage?b("React").createElement(b("SUINotice.react"),{margin:"_3-95",type:"warning"},this.state.errorMessage):null,b("React").createElement("div",{className:"_3-8x"},h._("From {open} to {close}",[h._param("open",a),h._param("close",c)])),b("React").createElement("div",{className:"_3-8x"},b("React").createElement(b("FDSButtonGroup.react"),null,l.map(function(a){return this.$10(a,m[a])}.bind(this)))))};a.prototype.$12=function(){return b("React").createElement(b("FDSModalFooter.react"),{leftContent:b("React").createElement(b("FDSCheckboxInput.react"),{label:h._("Apply to all days"),value:q(this.state.selectedDays),onChange:this.$9}),primaryButton:b("React").createElement(b("FDSButton.react"),{label:h._("Add"),use:"primary",onClick:this.$2}),secondaryButton:b("React").createElement(b("FDSButton.react"),{label:h._("Cancel"),onClick:this.$4})})};a.prototype.$13=function(){return!this.state.dialogShown?null:b("React").createElement(b("SUIPopoverLayer.react"),{content:this.$11(),contentWidthUseSparingly:325,contextRef:this.$7,footer:this.$12(),position:"above"})};a.prototype.$15=function(a,b){var c=a+"_1_open",d=a+"_1_close",e=a+"_2_open";a=a+"_2_close";var f=c in this.props.hours,g=e in this.props.hours;return{day:b,is_empty:!(f||g),morning_keys:[c,d],afternoon_keys:[e,a],morning_hours:f?this.props.hours[c]+" - "+this.props.hours[d]:"",afternoon_hours:g?this.props.hours[e]+" - "+this.props.hours[a]:""}};a.prototype.$18=function(a,c){return b("React").createElement("div",{className:"_2-h5",width:"100%"},a,a===""?null:b("React").createElement("div",{className:"_2-h9",style:{display:"inline-block"}},b("React").createElement(B,{hours:this.props.hours,timeslot:c,onRemoveTimeSlot:this.$14})))};a.prototype.$21=function(){return b("React").createElement("div",{className:"_3-8x"},b("React").createElement(b("SUIBusinessThemeContainer.react"),null,b("React").createElement(b("FDSSimpleTable.react"),{borders:"all",headerProps:{item:n,height:32},items:l.map(function(a){return this.$15(a,m[a])}.bind(this)).filter(function(a){return!a.is_empty}),maxHeight:z,rowHeight:x},b("React").createElement(b("FDSSimpleTableColumn.react"),{cell:this.$16,columnKey:"1",flexibleWidth:{basis:"15%"},header:this.$20}),b("React").createElement(b("FDSSimpleTableColumn.react"),{cell:this.$17,columnKey:"2",flexibleWidth:{basis:"15%"},header:this.$20}),b("React").createElement(b("FDSSimpleTableColumn.react"),{cell:this.$19,columnKey:"3",flexibleWidth:{basis:"15%"},header:this.$20}))),this.props.disabled?null:b("React").createElement(b("FDSButton.react"),{label:h._("Add hours"),margin:"_3-8x",ref:"addHoursButton",onClick:this.$3}),this.$13())};a.prototype.$23=function(){if(this.props.always_open)return u;else if(this.props.permanently_closed)return v;else if(this.state.hasHours||this.props.hours&&Object.keys(this.props.hours).length)return t;else return w};a.prototype.render=function(){var a=this.$23();if(this.props.disabled)return a!==t?b("React").createElement(b("BUIFormText.react"),{density:this.props.density,labelPosition:this.props.labelPosition},A[a]):this.$21();var c=[w,u,v,t].map(function(a){return b("React").createElement(s,{"data-testid":a,key:a,theme:b("SUIBusinessTheme"),value:a},A[a])});return b("React").createElement("div",null,b("React").createElement(b("SUIRadioList.react"),{value:a,onChange:this.$22},c),a===t?this.$21():null)};a.defaultProps={disabled:!1,hours:{}};a.propTypes={always_open:d.bool.isRequired,density:b("BUIForm.react").propTypes.density,disabled:d.bool.isRequired,hours:d.object.isRequired,labelPosition:b("BUIForm.react").propTypes.labelPosition,permanently_closed:d.bool.isRequired,onChange:d.func.isRequired};f=babelHelpers.inherits(B,b("React").PureComponent);j=f&&f.prototype;function B(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=j.constructor).call.apply(a,[this].concat(d)),this.$1=function(){this.props.onRemoveTimeSlot(this.props.timeslot[0],this.props.timeslot[1])}.bind(this),b}B.prototype.render=function(){return b("React").createElement(b("FDSCloseButton.react"),{margin:"_3-8s",size:"small",tooltipContent:h._("Remove time slot"),onClick:this.$1})};e.exports=a}),null);
__d("LMBulkBusinessHoursEditor.react",["AdsUniformValue","BusinessHoursEditor.react","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=babelHelpers.inherits(a,b("React").Component);g=c&&c.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=g.constructor).call.apply(a,[this].concat(e)),this.$1=function(a){var c=a.always_open,d=a.permanently_closed;a=a.hours;this.props.onChange({always_open:new(b("AdsUniformValue"))(c),permanently_closed:new(b("AdsUniformValue"))(d),hours:new(b("AdsUniformValue"))(a)})}.bind(this),c}a.prototype.render=function(){var a=this.props,c=a.disabled;a=a.value;var d=a.always_open,e=a.permanently_closed;a=a.hours;return!(d instanceof b("AdsUniformValue"))||!(e instanceof b("AdsUniformValue"))||!(a instanceof b("AdsUniformValue"))?null:b("React").createElement(b("BusinessHoursEditor.react"),{always_open:d.getValue()||!1,disabled:c,hours:a.getValue(),permanently_closed:e.getValue()||!1,onChange:this.$1})};e.exports=a}),null);
__d("PlaceTopicsSearchSource",["AbstractSearchSource","GraphAPI","GraphAPIPaging","SearchableEntry","SearchSourceQueryStatus","nullthrows","partitionArray","promiseDone","sortBy"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("GraphAPI")("2.11").root("fb_page_categories");function i(a,c){var d=c.toLocaleLowerCase();c=a.filter(function(a){return a.getTitle().toLocaleLowerCase().includes(d)});a=b("partitionArray")(c,function(a){return a.getTitle().toLocaleLowerCase()===d});c=a[0];a=a[1];return c.concat(a)}function j(a){__p&&__p();var c=[];for(var a=a,d=Array.isArray(a),e=0,a=d?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=a.length)break;f=a[e++]}else{e=a.next();if(e.done)break;f=e.value}f=f;var g=f.name,h=f.id;f=f.fb_page_categories;c.push(new(b("SearchableEntry"))({title:g,uniqueID:h,auxiliaryData:{id:h,name:g}}));f!=null&&(c=c.concat(j(f)))}return c}function k(){return h.get({}).then(b("GraphAPIPaging").allPages()).then(function(a){return j(a.data)}).then(function(a){return b("sortBy")(a,function(a){return a.getTitle()})})}c=babelHelpers.inherits(a,b("AbstractSearchSource"));g=c&&c.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=g.constructor).call.apply(a,[this].concat(d)),this.$PlaceTopicsSearchSource1=null,b}a.prototype.bootstrapImpl=function(a){this.$PlaceTopicsSearchSource1=k(),b("promiseDone")(this.$PlaceTopicsSearchSource1,a,a)};a.prototype.searchImpl=function(a,c){b("promiseDone")(b("nullthrows")(this.$PlaceTopicsSearchSource1),function(d){return c(i(d,a),a,b("SearchSourceQueryStatus").COMPLETE)})};e.exports=a}),null);
__d("LMBulkBusinessPlaceTopicsTokenizer.react",["fbt","AdsEmptyValue","AdsMixedValue","AdsStrings","AdsUniformValue","LoadObject","PlaceTopicsSearchSource","React","SearchableEntry","SUITokenizer.react","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=new(b("PlaceTopicsSearchSource"))();c=babelHelpers.inherits(a,b("React").Component);h=c&&c.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=h.constructor).call.apply(a,[this].concat(e)),this.$1=!1,this.state={bootstrap:b("LoadObject").empty()},this.$2=function(a){a=[].concat(this.$3(),[a.getAuxiliaryData()]);this.props.onChange(new(b("AdsUniformValue"))(a))}.bind(this),this.$4=function(a){var c=a.getAuxiliaryData();a=this.$3().filter(function(a){return a.id!==c.id});this.props.onChange(new(b("AdsUniformValue"))(a))}.bind(this),c}a.prototype.$3=function(){var a=this.props.value;return a instanceof b("AdsUniformValue")&&!(a instanceof b("AdsEmptyValue"))?a.getValue():[]};a.prototype.$5=function(){return this.$3().map(function(a){return new(b("SearchableEntry"))({title:a.name,uniqueID:a.id,auxiliaryData:a})})};a.prototype.$6=function(){if(this.state.bootstrap.isLoading())return g._("Loading place topics...");var a=this.props,c=a.placeholder;a=a.value;return a instanceof b("AdsMixedValue")?b("AdsStrings").MixedValuePlaceholder:c};a.prototype.componentWillUnmount=function(){this.$1=!1};a.prototype.componentDidMount=function(){this.$1=!0,this.setState({bootstrap:b("LoadObject").loading()}),b("promiseDone")(i.bootstrap(),function(){this.$1&&this.setState({bootstrap:b("LoadObject").empty()})}.bind(this),function(a){this.$1&&this.setState({bootstrap:b("LoadObject").withError(a)})}.bind(this))};a.prototype.$7=function(){return this.state.bootstrap.hasError()?g._("Something went wrong while loading available subcategories. Please try again later."):this.props.xuiError};a.prototype.render=function(){var a=this.props,c=a.className;a=a.disabled;return b("React").createElement(b("SUITokenizer.react"),{className:c,entries:this.$5(),errorMessage:this.$7(),isDisabled:a,placeholder:this.$6(),searchSource:i,showEntriesOnFocus:!0,onAddEntry:this.$2,onRemoveEntry:this.$4})};e.exports=a}),null);
__d("FBCityTypeahead.react",["cx","City","React","SearchableEntry","WebAsyncSearchSource","XUITypeahead.react","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=new(b("WebAsyncSearchSource"))({queryRequests:[{uri:"/ajax/typeahead/global_cities.php"}]});c=b("React").PropTypes;function j(a,c){if(!c)return null;return a&&a.getUniqueID()===c.key?a:new(b("SearchableEntry"))({title:c.name,uniqueID:c.key})}d=babelHelpers.inherits(a,b("React").PureComponent);h=d&&d.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=h.constructor).call.apply(a,[this].concat(e)),this.state={fragment:this.props.fragment||"",selectedEntry:j(null,this.props.value)},this.$1=function(event){this.$5(event.target.value)}.bind(this),this.$2=function(){this.$5("")}.bind(this),this.$5=function(a){this.setState({selectedEntry:null,fragment:a},function(){this.props.value&&this.props.onChange(null),this.props.onFragmentChange&&a!==this.props.fragment&&this.props.onFragmentChange(a)}.bind(this))}.bind(this),this.$3=function(){!this.state.selectedEntry&&this.props.resetOnBlur&&this.setState({selectedEntry:j(this.state.selectedEntry,this.props.value)})}.bind(this),this.$4=function(a){this.setState({selectedEntry:a},function(){this.props.onChange(new(b("City"))(a.getUniqueID(),a.getTitle()))}.bind(this))}.bind(this),c}a.prototype.UNSAFE_componentWillReceiveProps=function(a){this.setState({selectedEntry:j(this.state.selectedEntry,a.value)}),a.fragment!=null&&this.setState({fragment:a.fragment})};a.prototype.render=function(){var a=this.state.selectedEntry?this.state.selectedEntry.getTitle():this.state.fragment;return b("React").createElement(b("XUITypeahead.react"),{autoHighlight:!0,className:b("joinClasses")(this.props.className,"_1fkd _1fke"),clearable:!0,disabled:this.props.disabled,highlightOnSelect:!0,maxEntries:20,onChange:this.$1,onClear:this.$2,onBlur:this.$3,onSelectAttempt:this.$4,queryString:a,searchSource:i,selectedEntry:this.state.selectedEntry,showEntriesOnFocus:!this.state.selectedEntry,tallInput:this.props.tallInput,viewStyle:"textonly",xuiError:this.props.xuiError,placeholder:this.props.placeHolder})};a.propTypes={className:c.string,disabled:c.bool,fragment:c.string,onChange:c.func.isRequired,onFragmentChange:c.func,tallInput:c.bool,resetOnBlur:c.bool,placeHolder:c.node,value:c.instanceOf(b("City")),xuiError:c.node};a.defaultProps={tallInput:!0};e.exports=a}),null);
__d("LMBulkCityTypeahead.react",["AdsEmptyValue","AdsMixedValue","AdsStrings","AdsUniformValue","FBCityTypeahead.react","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=babelHelpers.inherits(a,b("React").Component);g=c&&c.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=g.constructor).call.apply(a,[this].concat(e)),this.$1=function(a){this.props.onChange(a==null?b("AdsEmptyValue").instance():new(b("AdsUniformValue"))(a))}.bind(this),c}a.prototype.render=function(){var a=this.props,c=a.className,d=a.disabled,e=a.value,f=a.placeholder;a=a.xuiError;var g=e instanceof b("AdsUniformValue")?e.getValue():undefined;e=e instanceof b("AdsMixedValue")?b("AdsStrings").MixedValuePlaceholder:f;return b("React").createElement(b("FBCityTypeahead.react"),{className:c,disabled:d,placeHolder:e,value:g,xuiError:a,onChange:this.$1})};e.exports=a}),null);
__d("LMBulkPriceRangeSelector.react",["fbt","AdsBulkSingleSelector.react","AdsUniformValue","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("AdsBulkSingleSelector.react").Option;c=["Unspecified","$","$$","$$$","$$$$"];d=babelHelpers.inherits(a,b("React").Component);h=d&&d.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=h.constructor).call.apply(a,[this].concat(e)),this.$1=function(a){this.props.onChange(new(b("AdsUniformValue"))(a))}.bind(this),c}a.prototype.render=function(){return b("React").createElement(b("AdsBulkSingleSelector.react"),{disabled:this.props.disabled,size:"xlarge",value:this.props.value,onChange:this.$1},b("React").createElement(i,{value:"Unspecified"},g._("Unspecified")),b("React").createElement(i,{value:"$"},g._("$")),b("React").createElement(i,{value:"$$"},g._("$$")),b("React").createElement(i,{value:"$$$"},g._("$$$")),b("React").createElement(i,{value:"$$$$"},g._("$$$$")))};a.VALID_PRICE_RANGES=c;a.defaultProps={disabled:!1};e.exports=a}),null);
__d("LMBulkTextInput.react",["AdsMixedValue","AdsStrings","AdsUniformValue","BUIFormTextInput.react","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=babelHelpers.inherits(a,b("React").Component);g=c&&c.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=g.constructor).call.apply(a,[this].concat(e)),this.$1=function(a){this.props.onChange(new(b("AdsUniformValue"))(a.target.value))}.bind(this),c}a.prototype.render=function(){var a=this.props,c=a.value,d=a.placeholder;a=babelHelpers.objectWithoutProperties(a,["value","placeholder"]);var e=c instanceof b("AdsUniformValue")?c.getValue():null;c=c instanceof b("AdsMixedValue")?b("AdsStrings").MixedValuePlaceholder:d;return b("React").createElement(b("BUIFormTextInput.react"),babelHelpers["extends"]({},a,{value:e!=null?e:"",placeholder:c,onChange:this.$1}))};e.exports=a}),null);
__d("LMGeoLocationEditor.react",["ix","cx","fbt","AdsPageLatLongEditor.react","GeoCoordinates","React","SUIGlyphIcon.react","SUIText.react","SUITextInput.react","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=g("442719"),m=g("412687"),n=g("442714");c=babelHelpers.inherits(o,b("React").Component);j=c&&c.prototype;function o(a){j.constructor.call(this,a),this.$1=function(a){var b=parseFloat(a);if(isNaN(b)||String(b)!==a){this.setState({value:a});return}this.props.onChange(b)}.bind(this),this.state={value:String(a.value)}}o.prototype.UNSAFE_componentWillReceiveProps=function(a){this.setState({value:String(a.value)})};o.prototype.$2=function(){return this.state.value!==String(this.props.value)?i._("Coordinates must be numeric."):null};o.prototype.render=function(){return b("React").createElement("label",{className:"_3uc9"},b("React").createElement(b("SUIText.react"),{className:"_3uca",display:"block",shade:"medium",size:"meta1",weight:"bold"},this.props.label),b("React").createElement(b("SUITextInput.react"),{disabled:this.props.disabled,errorMessage:this.$2(),value:this.state.value,onChange:this.$1}))};d=babelHelpers.inherits(a,b("React").Component);k=d&&d.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=k.constructor).call.apply(a,[this].concat(e)),this.state={isExpanded:!1},this.$1=function(){this.setState(function(a){a=a.isExpanded;return{isExpanded:!a}})}.bind(this),this.$3=function(a){var c=this.props.value;this.props.onChange(new(b("GeoCoordinates"))(a,c.longitude))}.bind(this),this.$4=function(a){var c=this.props.value;this.props.onChange(new(b("GeoCoordinates"))(c.latitude,a))}.bind(this),c}a.prototype.$2=function(a){a.preventDefault()};a.prototype.$5=function(){return b("React").createElement(b("AdsPageLatLongEditor.react"),{coordinates:this.props.value,disabled:this.props.disabled,shouldResetZoomOnChange:!1,style:{height:this.props.height},onChange:this.props.onChange})};a.prototype.$6=function(){return b("React").createElement("div",{className:"_3ucb"},b("React").createElement("div",{className:"_3ucc"},b("React").createElement(b("SUIGlyphIcon.react"),{className:"_3ucd",srcDefault:n}),b("React").createElement(b("SUIText.react"),{display:"inline",shade:"light",size:"meta1"},i._("Drag the pin to update the location"))),b("React").createElement("button",{className:"_3uce",onClick:this.$1,onMouseDown:this.$2},i._("Set Lat\/Long"),b("React").createElement(b("SUIGlyphIcon.react"),{className:"_3ucf",srcDefault:this.state.isExpanded?l:m})))};a.prototype.$7=function(){return!this.state.isExpanded?null:b("React").createElement("div",{className:"_3ucg"},b("React").createElement(o,{disabled:this.props.disabled,label:i._("Latitude"),value:this.props.value.latitude,onChange:this.$3}),b("React").createElement(o,{disabled:this.props.disabled,label:i._("Longitude"),onChange:this.$4,value:this.props.value.longitude}))};a.prototype.render=function(){return b("React").createElement("div",null,this.$5(),this.$6(),this.$7())};a.defaultProps={height:300};e.exports=a}),null);
__d("LMReviewSelector.react",["cx","fbt","AdsStrings","AdsUniformValue","BUIFormElement.react","React","SUIRadioList.react","SUIText.react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("SUIRadioList.react").Item;function a(a){if(a.value instanceof b("AdsUniformValue")&&a.value.getValue()==null)return null;var c=a.value instanceof b("AdsUniformValue")?a.value.getValue():null;return b("React").createElement(b("BUIFormElement.react"),{label:h._("Reviews")},b("React").createElement("div",null,b("React").createElement(b("SUIRadioList.react"),{disabled:a.disabled,onChange:a.onChange,value:c},b("React").createElement(i,{value:!0},h._("Enabled")),b("React").createElement(i,{value:!1},h._("Disabled")),c==null?b("React").createElement(i,{disabled:!0,value:null},b("AdsStrings").MixedValuePlaceholder):null),b("React").createElement(b("SUIText.react"),{className:"_3-8w",display:"block",shade:"light",size:"meta1"},h._("{Warning prefix} If you disable user reviews, these locations will not have a rating and will no longer display existing reviews.",[h._param("Warning prefix",b("React").createElement(b("SUIText.react"),{shade:"light",size:"meta1",weight:"bold"},"Warning:"))]))))}e.exports=a}),null);
__d("LMBulkBusinessLocationEditorForm.react",["cx","fbt","AdsBulkValueUtils","AdsCCCategory","AdsCCMigrationCategory","AdsCCNotificationWrapper.react","AdsEmptyValue","AdsMixedValue","AdsUniformValue","BUIForm.react","BUIFormElement.react","BUIFormSection.react","BusinessPageUsernameInput.react","City","GeoCoordinates","Link.react","LMBulkBusinessHoursEditor.react","LMBulkBusinessPlaceTopicsTokenizer.react","LMBulkCityTypeahead.react","LMBulkPriceRangeSelector.react","LMBulkTextInput.react","LMBulkUtils","LMGeoLocationEditor.react","LMReviewSelector.react","React","SUIText.react","areEqual","gkx","zipWith"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=b("AdsCCMigrationCategory").MigrationCategory;c=b("React").Component;function k(a){a=a.props!==null&&a.props.is_visible_only_in_ads!==null&&a.props.is_visible_only_in_ads.getValues()[0]||!1;return a?b("React").createElement("div",{className:"_3-8t _3-8y"},b("React").createElement(b("AdsCCNotificationWrapper.react"),{ccCardProps:{category:b("AdsCCCategory").WARNING,messageID:"page_is_visible_in_ads_warning",textData:[{type:"PARAGRAPH",data:{text:h._("This page is only visible in ads. Pages that aren't visible to end-users will never become eligible for store visit reporting. To make your page visible, export your locations, change \"Y\" to \"N\" in the \"Visible only in ads\" column and re-upload the spreadshsheet.")}}]},migrationCategory:j.ADS_NOTICE,suiNoticeProps:{type:"warning",messageBody:h._("This page is only visible in ads. Pages that aren't visible to end-users will never become eligible for store visit reporting. To make your page visible, export your locations, change \"Y\" to \"N\" in the \"Visible only in ads\" column and re-upload the spreadshsheet.")}})):null}d=babelHelpers.inherits(a,c);i=d&&d.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=i.constructor).call.apply(a,[this].concat(e)),this.$14=function(a){this.props.onChange(this.props.location.set("store_number",a.map(function(a){var b=parseInt(a,10);return String(b)===a?b:a})))}.bind(this),this.$15=function(a){this.props.onChange(this.props.location.set("name",a))}.bind(this),this.$16=function(a){this.props.onChange(this.props.location.set("geo_location",this.props.location.geo_location.set("latitude",new(b("AdsUniformValue"))(a.latitude)).set("longitude",new(b("AdsUniformValue"))(a.longitude))))}.bind(this),this.$17=function(a){this.props.onChange(this.props.location.set("store_location_descriptor",a))}.bind(this),this.$19=function(a){this.props.onChange(this.props.location.set("phone",a))}.bind(this),this.$20=function(a){this.props.onChange(this.props.location.set("price_range",a))}.bind(this),this.$21=function(a){this.props.onChange(this.props.location.set("page_username",new(b("AdsUniformValue"))(a)))}.bind(this),this.$22=function(a){this.props.onChange(this.props.location.set("geo_location",this.props.location.geo_location.set("street",a)))}.bind(this),this.$24=function(a){this.props.onChange(this.props.location.set("geo_location",this.props.location.geo_location.set("zip",a)))}.bind(this),this.$25=function(a){a=a.getValue();this.props.onChange(this.props.location.set("geo_location",this.props.location.geo_location.set("city_id",a!=null?new(b("AdsUniformValue"))(parseInt(a.key,10)):b("AdsEmptyValue").instance()).set("city",new(b("AdsUniformValue"))(a!=null?a.name:""))))}.bind(this),this.$27=function(a){this.props.onChange(this.props.location.set("place_topics",a))}.bind(this),this.$28=function(a){this.props.onChange(this.props.location.set("always_open",a.always_open).set("permanently_closed",a.permanently_closed).set("hours",a.hours))}.bind(this),this.$29=function(a){this.props.onChange(this.props.location.set("is_review_eligible",new(b("AdsUniformValue"))(a)))}.bind(this),c}a.prototype.render=function(){return b("React").createElement(b("BUIForm.react"),{className:"_2bsd",density:"breathy"},b("React").createElement(b("BUIFormSection.react"),{title:h._("Location Information")},b("React").createElement(k,{props:this.props.location}),this.$1(),this.$2(),this.$3(),this.$4(),this.$5(),this.$6(),this.$7(),this.$8()),b("React").createElement(b("BUIFormSection.react"),{title:h._("Page Information")},this.$9(),this.$10(),this.$11()),b("React").createElement(b("BUIFormSection.react"),{title:h._("Business Information")},this.$12(),this.$13()))};a.prototype.$1=function(){var a=this.props.parentPage.can_use_any_name_for_child_location,c=a?h._("Enter a name for your location Page. The name must be identical or very similar to the main Page's name to be valid."):h._("Your location Pages must have the same name as the main Page. This indicates that each location is part of the same business."),d=h._("Name");return b("React").createElement(b("BUIFormElement.react"),{helpText:c,label:d},b("React").createElement(b("LMBulkTextInput.react"),{className:"_3znd",disabled:this.props.disabled||!a,placeholder:h._("Enter Page name"),value:this.props.location.name.map(String),onChange:this.$15}))};a.prototype.$2=function(){var a=h._("Enter a unique number for this location so it's easier to identify. It must be a positive whole number with fewer than 10 digits."),c=h._("Store Number");return b("React").createElement(b("BUIFormElement.react"),{helpText:a,label:c},b("React").createElement(b("LMBulkTextInput.react"),{className:"_3znd",disabled:this.props.disabled||this.props.location.store_number instanceof b("AdsMixedValue"),xuiError:this.props.errorSpec.store_number.getValue(),placeholder:h._("Enter your unique store number"),value:this.props.location.store_number.map(String),onChange:this.$14}))};a.prototype.$8=function(){var a=this.props.location.geo_location,c=a.latitude;a=a.longitude;c=b("AdsBulkValueUtils").getUniformValue(c,null);a=b("AdsBulkValueUtils").getUniformValue(a,null);c=c!=null&&a!=null?new(b("GeoCoordinates"))(c,a):null;return c==null?null:b("React").createElement(b("BUIFormElement.react"),{label:b("React").createElement("div",null)},b("React").createElement(b("LMGeoLocationEditor.react"),{disabled:this.props.disabled,height:275,value:c,onChange:this.$16}))};a.prototype.$18=function(){var a=this.props.location.store_location_descriptor.getValues(),c=this.props.location.store_location_descriptor_autogenerated.getValues();a=b("areEqual")(a,c);return a?null:b("React").createElement(b("SUIText.react"),{className:"_3-8w",display:"block",shade:"light",size:"meta1"},h._("{link} to the default location descriptor.",[h._param("link",b("React").createElement(b("Link.react"),{onClick:function(){return this.$17(this.props.location.store_location_descriptor_autogenerated)}.bind(this)},h._("Revert")))]))};a.prototype.$3=function(){b("AdsBulkValueUtils").getUniformValue(this.props.location.name,null);var a=h._("Help people find this store - add a location descriptor. We'll include it in the Page title instead of the address, so only add it if it'll make that location easier to find."),c=h._("Location Descriptor"),d=h._("Enter store location descriptor.");return b("React").createElement(b("BUIFormElement.react"),{helpText:a,label:c},b("React").createElement(b("LMBulkTextInput.react"),{className:"_3znd",disabled:this.props.disabled||this.props.location.store_location_descriptor instanceof b("AdsMixedValue"),placeholder:d,value:this.props.location.store_location_descriptor,xuiError:this.props.errorSpec.store_location_descriptor.getValue(),onChange:this.$17}),this.$18())};a.prototype.$7=function(){var a=h._("Phone");return b("React").createElement(b("BUIFormElement.react"),{label:a},b("React").createElement(b("LMBulkTextInput.react"),{className:"_3znd",disabled:this.props.disabled,xuiError:this.props.errorSpec.phone.getValue(),placeholder:h._("Enter phone number"),value:this.props.location.phone,onChange:this.$19}))};a.prototype.$13=function(){var a=h._("Price Range");return b("React").createElement(b("BUIFormElement.react"),{label:a},b("React").createElement(b("LMBulkPriceRangeSelector.react"),{disabled:this.props.disabled,value:this.props.location.price_range,onChange:this.$20}))};a.prototype.$9=function(){var a=this.props,c=a.disabled;a=a.disableAdmin;var d=this.props.location,e=d.id;d=d.page_username;if(!location.page_username&&a||!(d instanceof b("AdsUniformValue"))||!(e instanceof b("AdsUniformValue")))return null;var f=h._("Facebook Web Address");return b("React").createElement(b("BUIFormElement.react"),{label:f},b("React").createElement(b("BusinessPageUsernameInput.react"),{className:"_3znd",disabled:c||a,error:this.props.errorSpec.vanity_name.getValue(),pageID:e.getValue(),value:d.getValue(),onChange:this.$21}))};a.prototype.$4=function(){var a=h._("Street Address"),c=h._("Enter street address"),d=this.props.location.geo_location.street;return b("React").createElement(b("BUIFormElement.react"),{label:a},b("React").createElement(b("LMBulkTextInput.react"),{className:"_3znd",disabled:this.props.disabled||!this.$23(),placeholder:c,value:d,xuiError:this.props.errorSpec.geo_location_street.getValue(),onChange:this.$22}))};a.prototype.$23=function(){var a=this.props.location.geo_location;return a.street instanceof b("AdsUniformValue")&&a.latitude instanceof b("AdsUniformValue")&&a.longitude instanceof b("AdsUniformValue")&&a.city_id instanceof b("AdsUniformValue")&&a.city instanceof b("AdsUniformValue")&&a.state instanceof b("AdsUniformValue")&&a.country_code instanceof b("AdsUniformValue")&&a.zip instanceof b("AdsUniformValue")&&a.single_line_address instanceof b("AdsUniformValue")};a.prototype.$6=function(){var a=this.props.location.geo_location.country_code instanceof b("AdsUniformValue")&&b("LMBulkUtils").isCountryWithoutZip(this.props.location.geo_location.country_code.getValue()),c=h._("ZIP Code"),d=a?h._("ZIP Code not required"):h._("Enter ZIP Code");return b("React").createElement(b("BUIFormElement.react"),{label:c},b("React").createElement(b("LMBulkTextInput.react"),{className:"_3znd",disabled:this.props.disabled||!this.$23()||a,placeholder:d,value:this.props.location.geo_location.zip,xuiError:this.props.errorSpec.geo_location_zip.getValue(),onChange:this.$24}))};a.prototype.$26=function(){var a=this.props.location.geo_location,c=a.city;a=a.city_id;a=b("zipWith")(function(c,a){return new(b("City"))(c+"",a)},a.getValues(),c.getValues());switch(a.length){case 0:return b("AdsEmptyValue").instance();case 1:return new(b("AdsUniformValue"))(a[0]);default:return new(b("AdsMixedValue"))(a)}};a.prototype.$5=function(){var a=h._("City\/Town"),c=h._("Enter city\/town name");return b("React").createElement(b("BUIFormElement.react"),{label:a},b("React").createElement(b("LMBulkCityTypeahead.react"),{className:"_3znd",disabled:this.props.disabled||!this.$23(),placeholder:c,value:this.$26(),xuiError:this.props.errorSpec.geo_location_city.getValue(),onChange:this.$25}))};a.prototype.$10=function(){var a=h._("Choose up to three specific subcategories to help people find your Page more easily. These will appear above the About section on your Page and in search results."),c=h._("Subcategories");return b("React").createElement(b("BUIFormElement.react"),{helpText:a,label:c},b("React").createElement("div",{className:"_3znd"},b("React").createElement(b("LMBulkBusinessPlaceTopicsTokenizer.react"),{disabled:this.props.disabled,value:this.props.location.place_topics,xuiError:this.props.errorSpec.place_topics.getValue(),onChange:this.$27})))};a.prototype.$12=function(){var a=this.props,c=a.disabled;a=a.location;var d=a.always_open,e=a.permanently_closed;a=a.hours;if(!(d instanceof b("AdsUniformValue"))||!(e instanceof b("AdsUniformValue"))||!(a instanceof b("AdsUniformValue")))return null;var f=h._("Business Hours");return b("React").createElement(b("BUIFormElement.react"),{label:f,labelAlign:"top"},b("React").createElement(b("LMBulkBusinessHoursEditor.react"),{disabled:c,value:{always_open:d,permanently_closed:e,hours:a},onChange:this.$28}))};a.prototype.$11=function(){return!b("gkx")("AT4168J97MCnbuQbtwW8A4YJOfu2VGfVj59EAimsf2HkIoO3BlBPiOoMtfaqK03OZ6s")?null:b("React").createElement(b("LMReviewSelector.react"),{disabled:this.props.disabled,value:this.props.location.is_review_eligible,onChange:this.$29})};a.defaultProps={disabled:!1,disableAdmin:!1};e.exports=a}),null);
__d("LMDrawer.react",["cx","React","ShimButton.react","SUICloseButton.react","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return b("React").createElement("div",{className:"_1bbe"+(a.isShown?" _1bbf":"")},b("React").createElement("div",{className:"_1bbi"},b("React").createElement(b("ShimButton.react"),{className:"_2hh1"})),b("React").createElement("div",{className:b("joinClasses")("_1bbk",a.className)},b("React").createElement("div",{className:"_4j0k"},b("React").createElement(b("SUICloseButton.react"),{onClick:a.onHide})),a.children))}e.exports=a}),null);
__d("LMBulkBusinessLocationEditor.react",["cx","fbt","FDSButton.react","LMBulkBusinessLocationEditorFooter.react","LMBulkBusinessLocationEditorForm.react","LMDrawer.react","React","SUIModal.react","SUIModalFooter.react","SUIModalHeader.react","SUINotice.react","SUIText.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();function i(a){return b("React").createElement(b("SUIModal.react"),{footer:b("React").createElement(b("SUIModalFooter.react"),{primaryButton:b("React").createElement(b("FDSButton.react"),{label:h._("Save"),use:"primary",onClick:a.onSave}),secondaryButton:b("React").createElement(b("FDSButton.react"),{label:h._("Discard"),onClick:a.onDiscard})}),header:b("React").createElement(b("SUIModalHeader.react"),{title:h._("Save changes to this location?")}),isShown:a.isShown,onHide:a.onHide},b("React").createElement("div",null,b("React").createElement(b("SUIText.react"),{color:"secondary",display:"block",size:"meta1"},h._("You've made changes to this location that haven't been saved yet. If you don't save your changes, you will lose them."))))}function j(a){return a.locationCount<2?null:b("React").createElement("div",{className:"_3-8t _3-8y"},b("React").createElement(b("SUINotice.react"),{type:"information"},h._({"*":"You're currently editing {number} business locations.","_1":"You're currently editing 1 business location."},[h._plural(a.locationCount,"number")])))}function k(a){return a.error==null?null:b("React").createElement("div",{className:"_3-8t _3-8y"},b("React").createElement(b("SUINotice.react"),{type:"error"},a.error.message))}function a(a){var c=a.location.getValue(),d=a.permissions.getValue(),e=a.parentPage.getValue();if(c==null||d==null||e==null)return b("React").createElement(b("LMDrawer.react"),null);var f=a.location.hasOperation(),g=a.previousErrors[0],h=c.id.getValues().length,m=a.locationHasRunningAds.getValue(),n=a.hasLocationChanged?a.onConfirmCancel:a.onCancel;return b("React").createElement("div",null,b("React").createElement(i,{isShown:a.isConfirmModalShown,onDiscard:a.onCancel,onHide:a.onHideConfirmModal,onSave:a.onSave}),b("React").createElement(b("LMDrawer.react"),{className:"_fib",isShown:!0,onHide:n},b("React").createElement("div",{className:"_fic"},b("React").createElement(j,{locationCount:h}),b("React").createElement(k,{error:g}),b("React").createElement(b("LMBulkBusinessLocationEditorForm.react"),{disableAdmin:!d.isAdmin,disabled:!d.canEdit||f,errorSpec:a.errorSpec,location:c,parentPage:e,onChange:a.onChange})),b("React").createElement(b("LMBulkBusinessLocationEditorFooter.react"),{changedToPermanentlyClosed:a.changedToPermanentlyClosed,hasOperation:f,isValid:l(a.errorSpec),locationCount:h,locationHasRunningAds:m,permissions:d,onCancel:n,onSave:a.onSave})))}function l(a){return a.every(function(a){return a.getValue()===null})}e.exports=a}),null);
__d("LMPublishingErrorEditStore",["AdsDataAtom","FluxSimpleDerivedStore","LMBulkEditableBusinessLocation","LMBulkEditableBusinessLocationStore","LMLocationPublishingStateStore","LMPublishingOperation","LMPublishingStore","LMPublishingUtils","LoadObject","filterNulls","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("LMPublishingUtils").getLocations;g=babelHelpers.inherits(a,b("FluxSimpleDerivedStore"));g&&g.prototype;a.prototype.__getStores=function(){return[b("LMPublishingStore"),b("LMBulkEditableBusinessLocationStore"),b("LMLocationPublishingStateStore")]};a.prototype.__getData=function(a){var c=b("LMBulkEditableBusinessLocationStore").getState(),d=c.bulkLocation;c=c.operationID;var e=b("filterNulls")(d.map(function(a){return a.id.getValues()}).getValue()||[]);return{bulkLocation:d,locationPublishStates:b("LMLocationPublishingStateStore").getAll(e,a?a.locationPublishStates:null),operationID:c,publishOperations:b("LMPublishingStore").getState()}};a.prototype.__areEqual=function(a,b){return a.bulkLocation===b.bulkLocation&&a.locationPublishStates===b.locationPublishStates&&a.operationID===b.operationID&&a.publishOperations===b.publishOperations};a.prototype.__computeResult=function(a){__p&&__p();var c=a.operationID,d=a.publishOperations,e=a.bulkLocation,f=a.locationPublishStates;if(c!=null){a=d.get(c);return!a?[]:b("filterNulls")(h(a).map(function(a){return a.getError()}).toArray())}d=e.map(function(a){return a.id.getValues()}).getValue()||[];return b("filterNulls")(d.map(function(a){return a==null?null:f.get(a).getError()}))};function a(){g.apply(this,arguments)}a.__moduleID=e.id;e.exports=new a(b("AdsDataAtom"))}),null);
__d("LMBulkBusinessLocationEditorContainer.react",["AdsLocationPageIDsAndRoot","FluxContainer","LMActions","LMBulkBusinessLocationEditor.react","LMBulkEditableBusinessLocation","LMBulkEditableBusinessLocationStore","LMBulkUtils","LMChildPageFastFieldsStore","LMConfigStore","LMErrorSpecStore","LMLocationHasRunningAdsStore","LMOwnedPageStore","LMPermissionsStore","LMPhoneNumberStore","LMPublishingErrorEditStore","LMPublishingStore","LoadObject","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("LMActions").dispatchActionFromView,h=b("LMBulkUtils").getBusinessLocations;function i(){g({type:"lm.close_dialog"})}function j(){g({type:"lm.show_confirm_modal"})}function k(){g({type:"lm.hide_confirm_modal"})}function l(a){g({type:"lm.update_location",location:b("LoadObject").withValue(a)})}function m(){__p&&__p();var a=b("LMBulkEditableBusinessLocationStore").getState(),c=b("LMConfigStore").getState();c=c.parentPageID;var d=a.bulkLocation.getValue();if(d==null||c==null)return;d=a.bulkLocation.removeError().updating();var e=a.operationID;a=a.operationType;d=h(d.getValueEnforcing());g({type:"lm.publish.start",locations:d,operationType:a,parentPageID:c,operationID:e})}function a(){return[b("LMBulkEditableBusinessLocationStore"),b("LMChildPageFastFieldsStore"),b("LMConfigStore"),b("LMErrorSpecStore"),b("LMLocationHasRunningAdsStore"),b("LMOwnedPageStore"),b("LMPermissionsStore"),b("LMPhoneNumberStore"),b("LMPublishingErrorEditStore"),b("LMPublishingStore")]}function c(a){a=b("LMBulkEditableBusinessLocationStore").getState();var c=a.bulkLocation,d=a.hasLocationChanged,e=a.isConfirmModalShown,f=a.operationID,g=a.operationType;a=a.changedToPermanentlyClosed;var h=b("LMConfigStore").getState();h=h.parentPageID;var i=b("LMErrorSpecStore").getState(),j=h!=null?b("LMPermissionsStore").get(h):b("LoadObject").empty(),k=b("LMPublishingErrorEditStore").getState(),l=h!=null?b("LMOwnedPageStore").get(h):b("LoadObject").empty();h=c.hasValue()?b("LMLocationHasRunningAdsStore").get(new(b("AdsLocationPageIDsAndRoot"))({root_page_id:h,page_ids:c.getValueEnforcing().id})):b("LoadObject").empty();return{changedToPermanentlyClosed:a,errorSpec:i,hasLocationChanged:d,isConfirmModalShown:e,location:c,locationHasRunningAds:h,operationID:f,operationType:g,parentPage:l,permissions:j,previousErrors:k}}e.exports=b("FluxContainer").createFunctional(function(a){return b("React").createElement(b("LMBulkBusinessLocationEditor.react"),babelHelpers["extends"]({},a,{onCancel:i,onChange:l,onConfirmCancel:j,onHideConfirmModal:k,onSave:m}))},a,c,{withProps:!0})}),null);
__d("LMChoosePageToClaimDialog.react",["cx","fbt","AdsPageDropdownSelector.react","CenteredContainer.react","CurrentUser","FDSSpinner.react","InlineBlock.react","React","SUIButton.react","SUINotice.react","SUITextInput.react","XUIDialog.react","XUIDialogBody.react","XUIDialogFooter.react","XUIDialogTitle.react","emptyFunction","filterNulls","immutable"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i,j=b("immutable").Set;c=b("React").Component;var k=h._("Choose Facebook Page");i=babelHelpers.inherits(a,c);i&&i.prototype;a.prototype.render=function(){"use strict";return b("React").createElement(b("XUIDialog.react"),{shown:!0,onToggle:this.props.onCancel,width:600},b("React").createElement(b("XUIDialogTitle.react"),null,h._("Add Location")),this.$1(),b("React").createElement(b("XUIDialogFooter.react"),null,b("React").createElement("span",{className:"_3-8_"},b("React").createElement(b("SUIButton.react"),{label:h._("Cancel"),onClick:this.props.onCancel})),b("React").createElement(b("SUIButton.react"),{use:"confirm",label:h._("Next"),disabled:this.props.selectedPageID==null&&!this.props.rawPageID||this.$2()||this.props.childPage.hasError(),onClick:this.props.onConfirm})))};a.prototype.$1=function(){"use strict";if(this.$2())return b("React").createElement(b("CenteredContainer.react"),{className:"_3-8l"},b("React").createElement(b("FDSSpinner.react"),null));var a=this.props.parentPage.map(function(a){return a.name}).getValue();return b("React").createElement(b("XUIDialogBody.react"),null,this.$3(),this.$4()?b("React").createElement("div",{className:"_3-97"},b("React").createElement(b("SUINotice.react"),null,h._("Only pages with the name {parentPageName} can be added, because location pages are required to have the same name as their parent page.",[h._param("parentPageName",b("React").createElement("strong",null,a))]))):null,b("React").createElement("div",null,this.props.pages.hasValue()?b("React").createElement(b("AdsPageDropdownSelector.react"),{alignment:"left",currentUserID:b("CurrentUser").getID(),defaultLabel:k,pages:m(this.props.pages.getValue(),this.props.parentPageID,a,this.$4()),searchBarVisible:!0,selectedActorID:this.props.selectedPageID||"",showBusinessPages:!0,showPageName:!0,suppressed:!1,onChange:this.props.onPageSelected,onClick:b("emptyFunction")}):b("React").createElement(b("FDSSpinner.react"),null),b("CurrentUser").isEmployee()?b("React").createElement("span",null,b("React").createElement("span",{className:"_3-8t"},h._("or paste any page ID (fb only)")),b("React").createElement(b("InlineBlock.react"),null,b("React").createElement(b("SUITextInput.react"),{value:this.props.rawPageID,onChange:this.props.onRawPageIDChange}))):null))};a.prototype.$4=function(){"use strict";return b("CurrentUser").isEmployee()?!1:!this.props.parentPage.map(function(a){return a.can_use_any_name_for_child_location}).getValue()};a.prototype.$3=function(){"use strict";var a=this.props.rawPageID,c=this.props.childPage.getValue(),d=this.props.parentPage.getValue();return!a||!c||!d||!b("CurrentUser").isEmployee()||n(c.userpermissions,d.userpermissions)?null:b("React").createElement("div",{className:"_3-95"},b("React").createElement(b("SUINotice.react"),null,h._("[FB ONLY] You are adding a page {child_page_name} that has no common admins with the parent page {parent_page_name} into the location structure. Do you really want to do this? Current admins of the parent page will get full admin access to the page {child_page_name_2}.",[h._param("child_page_name",c.name),h._param("parent_page_name",d.name),h._param("child_page_name_2",c.name)])))};a.prototype.$2=function(){"use strict";return this.props.pages.isLoading()||this.props.parentPage.isLoading()||this.props.childPage.isLoading()||this.props.maxStoreNumber.isLoading()};function a(){"use strict";i.apply(this,arguments)}var l={};function m(a,b,c,d){__p&&__p();if(a==null)return l;var e={};a=a.valueSeq().map(function(a){return a.getValue()});for(var a=a,f=Array.isArray(a),g=0,a=f?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(f){if(g>=a.length)break;h=a[g++]}else{g=a.next();if(g.done)break;h=g.value}h=h;h!=null&&h.parent_page==null&&(h.name===c||!d)&&h.id!==b&&(e[h.id]=h)}return e}function n(a,c){if(a==null||c==null)return!1;var d=j.of.apply(j,b("filterNulls")(a.data.map(function(a){return a.user!=null?a.user.id:null})));return c.data.some(function(a){return a.user!=null&&d.contains(a.user.id)})}e.exports=a}),null);
__d("LMOwnedPageListDataManager",["AdsGraphAPI","GraphAPIPaging","GraphEdgeName","LMActions","LMOwnedPageFields","promiseDone"],(function(a,b,c,d,e,f){"use strict";var g=b("LMActions").dispatchActionFromServerResponse,h={is_promotable:!0,fields:b("LMOwnedPageFields"),limit:100};a={load:function(a){b("promiseDone")(b("AdsGraphAPI").get(e.id).object("user",a).edge(b("GraphEdgeName").ACCOUNTS).get(h).then(b("GraphAPIPaging").allPages()),function(b){return g({type:"lm.owned_page_list.loaded",userID:a,owned_pages:b.data})},function(b){return g({type:"lm.owned_page_list.error",userID:a,error:b})})}};e.exports=a}),null);
__d("LMOwnedPageListStore",["AdsDataAtom","CurrentUser","FBLogger","FluxLoadObjectStore","LMImportStatusStore","LMImportStatusUtils","LMOwnedPageListDataManager","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;g=babelHelpers.inherits(a,b("FluxLoadObjectStore"));g&&g.prototype;a.prototype.getForCurrentUser=function(){return this.get(b("CurrentUser").getAccountID())};a.prototype.reduce=function(a,c){__p&&__p();c=c.action;switch(c.type){case"lm.owned_page_list.loaded":return this.__handleOne(a,c.userID,b("immutable").List(c.owned_pages.map(function(a){return a.id})));case"lm.owned_page_list.error":b("FBLogger")("location_manager").catching(c.error).mustfix("failed to load owned page list");return this.__handleOne(a,c.userID,c.error);case"lm.publish.done":return a.clear();case"lm.upload_locations.import_status.loaded":var d=b("LMImportStatusStore").get(c.parentPageID).getValue();b("AdsDataAtom").waitFor([b("LMImportStatusStore").getDispatchToken()]);c=b("LMImportStatusStore").get(c.parentPageID).getValue();if(b("LMImportStatusUtils").hasActiveImportFinished(d,c))return a.clear();else return a;default:return a}};a.prototype.__load=function(a){b("LMOwnedPageListDataManager").load(a)};function a(){g.apply(this,arguments)}a.__moduleID=e.id;e.exports=new a(b("AdsDataAtom"))}),null);
__d("LMChoosePageToClaimDialogContainer.react",["FluxContainer","LMActions","LMChildPageFastFieldsStore","LMChoosePageToClaimDialog.react","LMChoosePageToClaimStore","LMConfigStore","LMMaxStoreNumberStore","LMOwnedPageListStore","LMOwnedPageStore","LoadObject","React","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("LMActions").dispatchActionFromView;function i(){h({type:"lm.claim_page.dialog.hide"})}function j(a){h({type:"lm.claim_page.dialog.set_raw_page_id",rawPageID:a})}function k(a){h({type:"lm.claim_page.dialog.set_selected_page_id",pageID:a})}c=babelHelpers.inherits(a,b("React").Component);g=c&&c.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=g.constructor).call.apply(a,[this].concat(d)),this.$1=function(){var a=this.state,b=a.childPage;a=a.maxStoreNumber;a=a.map(function(a){return a+1}).getValue()||1;h({type:"lm.claim_page.edit",location:b.getValueEnforcing(),newStoreNumber:a})}.bind(this),b}a.getStores=function(){return[b("LMChildPageFastFieldsStore"),b("LMChoosePageToClaimStore"),b("LMConfigStore"),b("LMMaxStoreNumberStore"),b("LMOwnedPageStore"),b("LMOwnedPageListStore")]};a.calculateState=function(a){var c=b("LMConfigStore").getState();c=c.parentPageID;var d=b("LMChoosePageToClaimStore").getState(),e=d.isDialogShown,f=d.rawPageID;d=d.selectedPageID;var g=b("LMOwnedPageListStore").getForCurrentUser().map(function(c){return b("LMOwnedPageStore").getAll(c,a?a.pages.getValue():null)}),h=d||f;h=h?b("LMChildPageFastFieldsStore").get(h):b("LoadObject").empty();var i=c!=null?b("LMOwnedPageStore").get(c):b("LoadObject").empty(),j=c!=null?b("LMMaxStoreNumberStore").get(c):b("LoadObject").empty();return{childPage:h,isDialogShown:e,maxStoreNumber:j,pages:g,parentPage:i,parentPageID:c,rawPageID:f,selectedPageID:d}};a.prototype.render=function(){if(!this.state.isDialogShown)return null;var a=this.state,c=a.parentPageID;a=babelHelpers.objectWithoutProperties(a,["parentPageID"]);return c==null?null:b("React").createElement(b("LMChoosePageToClaimDialog.react"),babelHelpers["extends"]({parentPageID:c},a,{onCancel:i,onConfirm:this.$1,onPageSelected:k,onRawPageIDChange:j}))};e.exports=b("FluxContainer").create(a)}),null);
__d("LocationManagerSetUpWizard.react",["cx","fbt","CurrentUser","FDSSpinner.react","LeftRight.react","LocationManagerWebdriverIDs","React","SUIButton.react","WebFunnelLogger"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i;c=b("React").Component;d=babelHelpers.inherits(a,c);i=d&&d.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=i.constructor).call.apply(a,[this].concat(e)),this.$3=function(){this.props.currentStep.onClickContinue(this.props);var a=this.props.selectedPage.getValue();if(a==null)return;new(b("WebFunnelLogger"))("LocationManagerOnboardingFunnelDefinition").setSessionKey(b("CurrentUser").getID()).addActionPayload("parent_page_id",a.id).setAction("select_next_and_remove_address").log()}.bind(this),this.$2=function(){this.props.onClickBack();var a=this.props.selectedPage.getValue();if(a==null)return;new(b("WebFunnelLogger"))("LocationManagerOnboardingFunnelDefinition").setSessionKey(b("CurrentUser").getID()).addActionPayload("parent_page_id",a.id).setAction("select_previous").log()}.bind(this),c}a.prototype.render=function(){"use strict";return b("React").createElement("div",null,b("React").createElement("div",{className:"_2ph_ _2n5e _3-98"},this.props.currentStep.renderContent(this.props)),b("React").createElement("div",{className:"_2n5f"},this.$1()))};a.prototype.$1=function(){"use strict";var a=this.props.currentStep.renderCustomFooter(this.props);if(a!=null)return a;if(this.props.currentStep.isLoading(this.props))return b("React").createElement(b("FDSSpinner.react"),null);a=this.props.previousSteps.last()!=null?b("React").createElement(b("SUIButton.react"),{height:"tall",label:h._("Previous"),onClick:this.$2}):null;return b("React").createElement(b("LeftRight.react"),null,a,b("React").createElement(b("SUIButton.react"),{"data-testid":b("LocationManagerWebdriverIDs").ONBOARDING_CONFIRM,disabled:!this.props.currentStep.canContinue(this.props),height:"tall",label:h._("Next"),use:"confirm",onClick:this.$3}))};e.exports=a}),null);
__d("LocationManagerSetUpWizardContainer.react",["CurrentUser","FDSSpinner.react","FluxContainer","LMActions","LMOwnedPageStore","LMSetupWizardStore","LoadObject","LocationManagerSetUpWizard.react","React","WebFunnelLogger","immutable"],(function(a,b,c,d,e,f){__p&&__p();var g;c=b("React").Component;d=babelHelpers.inherits(a,c);g=d&&d.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=g.constructor).call.apply(a,[this].concat(e)),this.$6=function(){var a=this.state.selectedPage.getValue(),c=this.props.businessID;if(a==null)return;var d=this.state.childPageCreationStatus.getValue()==="success"?null:"entry";b("LMActions").dispatchActionFromView({type:"lm.onboarding.redirect_to_location_manager",businessID:c,page:a,redirectTo:d})}.bind(this),c}a.getStores=function(){"use strict";return[b("LMOwnedPageStore"),b("LMSetupWizardStore")]};a.calculateState=function(a,c){"use strict";a=b("LMSetupWizardStore").getState();var d=a.addressRemovalAccepted,e=a.childPageCreationStatus,f=a.currentStep,g=a.parentLocation,h=a.parentSingleLineAddress,i=a.previousSteps,j=a.shouldAutoCreateChild;a=a.whitelistStatus;c=c.pageID?b("LMOwnedPageStore").get(c.pageID):b("LoadObject").empty();return{addressRemovalAccepted:d,childPageCreationStatus:e,currentStep:f,parentLocation:g,parentSingleLineAddress:h,previousSteps:i,selectedPage:c,shouldAutoCreateChild:j,whitelistStatus:a}};a.prototype.render=function(){"use strict";return this.state.selectedPage.getValue()==null?b("React").createElement(b("FDSSpinner.react"),{size:"small"}):b("React").createElement(b("LocationManagerSetUpWizard.react"),babelHelpers["extends"]({},this.state,{businessID:this.props.businessID,onAddressRemovalAcceptedChange:this.$1,onAutoCreateChildChange:this.$2,onClickBack:this.$3,onConfirmRemoveAddress:this.$4,onGetStarted:this.$5,onRedirectToLocationManager:this.$6}))};a.prototype.$2=function(a){"use strict";a=a==="auto_create";b("LMActions").dispatchActionFromView({type:"lm.onboarding.toggle_auto_create_child_page",shouldAutoCreateChild:a})};a.prototype.$1=function(a){"use strict";b("LMActions").dispatchActionFromView({type:"lm.onboarding.toggle_address_removal_accepted",isChecked:a})};a.prototype.$3=function(){"use strict";b("LMActions").dispatchActionFromView({type:"lm.onboarding.click_back"})};a.prototype.$4=function(a,c,d){"use strict";a.location==null&&(c=!1),c&&new(b("WebFunnelLogger"))("LocationManagerOnboardingFunnelDefinition").setSessionKey(b("CurrentUser").getID()).addActionPayload("parent_page_id",a.id).setAction("select_auto_create_child").log(),b("LMActions").dispatchActionFromView({type:"lm.onboarding.confirm_remove_address",businessID:d,page:a,shouldAutoCreateChild:c})};a.prototype.$5=function(){"use strict";b("LMActions").dispatchActionFromView({type:"lm.onboarding.get_started"})};e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("LMCoreNavConvertToMainPageContainer.react",["cx","FluxContainer","LMConfigStore","LocationManagerSetUpWizardContainer.react","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();function a(){return[b("LMConfigStore")]}function c(){var a=b("LMConfigStore").getState(),c=a.businessID;a=a.parentPageID;return{businessID:c,pageID:a}}function d(a){var c=a.businessID;a=a.pageID;return b("React").createElement("div",{className:"_41xz"},b("React").createElement(b("LocationManagerSetUpWizardContainer.react"),{businessID:c,pageID:a}))}e.exports=b("FluxContainer").createFunctional(d,a,c)}),null);
__d("LMTableHeader.react",["cx","FDSSimplePopover.react","FixedDataTableSortableHeader.react","LMLoggingUtils","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;function i(a){var c=a.label,d=a.popover;a=a.renderHeader;return b("React").createElement("span",null,a!=null?a():c,d!=null?b("React").createElement(b("FDSSimplePopover.react"),{alignment:"right",display:"inline",position:"below",title:d.title,content:d.content,helpLink:d.helpLink}):null)}c=babelHelpers.inherits(a,b("React").Component);h=c&&c.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=h.constructor).call.apply(a,[this].concat(e)),this.$1=function(){var a=this.props.columnKey;b("LMLoggingUtils").logAction("lm.table.open_popover."+a)}.bind(this),this.$2=function(a){var b=this.props,c=b.column,d=b.currentSortColumn;b=b.defaultSortDirection;if(c==null)return;d!==c&&(a=b||"ASC");this.props.onClick(c,a)}.bind(this),c}a.prototype.render=function(){var a=b("React").createElement(i,{label:this.props.label,popover:this.props.popover,renderHeader:this.props.renderHeader,onOpenPopover:this.$1});return this.props.column==null?b("React").createElement("div",{className:"_3v0w"},a):b("React").createElement(b("FixedDataTableSortableHeader.react"),{className:"_3v0w",sorting:this.props.currentSortColumn===this.props.column?this.props.currentSortDirection:null,onClick:this.$2},a)};e.exports=a}),null);
__d("LMTable.react",["cx","fbt","ElementResizeEmitter","FDSSpinner.react","FixedDataTable.react","FixedDataTableCellDefault.react","FixedDataTableColumn.react","LMActions","LMColumnKeys","LMTableColumns","LMTableHeader.react","LMTableUtils","LoadObject","LocationManagerWebDriverTestIDs","React","ReactDOM"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=b("LMTableUtils").canSelectLocation;c=b("React").Component;var k=120,l=38;d=babelHelpers.inherits(a,c);i=d&&d.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=i.constructor).call.apply(a,[this].concat(e)),this.state={width:0,height:0,columnWidths:{}},this.$2=function(a,c){__p&&__p();a=this.props;var d=a.canSelectAnyLocation,e=a.rows;a=a.selectedLocations;e=e.get(c)||b("LoadObject").empty();c=e.map(function(a){a=a.id;return a}).getValue();if(c!=null&&j(e,d)){e=a.has(c);this.props.onToggleSelected(c,!e)}}.bind(this),this.$5=function(a){var c=a.columnKey,d=a.isColumnVisible,e=a.isFixed,f=a.isResizable,g=a.minWidth;if(d!=null&&!d(this.props))return null;d=this.state.columnWidths[c]==null?a.flexGrow:0;return b("React").createElement(b("FixedDataTableColumn.react"),{cell:this.$7,columnKey:c,fixed:e,flexGrow:d,header:this.$8(a),isResizable:f,key:c,minWidth:g,width:this.$9(c)})}.bind(this),this.$7=function(a){__p&&__p();var c=a.rowIndex;if(a.columnKey==null||c==null)return null;var d=a.columnKey;d=b("LMTableColumns").get(d);d=d.CellComponent;c=this.props.rows.get(c)||b("LoadObject").empty();var e=this.props,f=e.canEditAnyLocation;e=e.selectedLocations;return b("React").createElement(b("FixedDataTableCellDefault.react"),{className:(!f||c.hasOperation()||c.hasError()?"_199e":"")+(m(c,e)?" _199j":""),height:a.height,width:a.width},b("React").createElement(d,babelHelpers["extends"]({location:c},this.props)))}.bind(this),this.$3=function(a,c){var d=this.props.columns;if(d!=null){d=d.set(b("LMColumnKeys")[c],{width:a});b("LMActions").dispatchActionFromView({type:"lm.table_settings.resize_column",columns:d})}}.bind(this),this.$4=function(a,b){a=this.props.rows.size*l;a=a-this.state.height-k<b;a&&this.props.onFetchNext()}.bind(this),c}a.prototype.componentDidMount=function(){this.$1=new(b("ElementResizeEmitter"))(b("ReactDOM").findDOMNode(this)).add(function(){var a=this.refs.sizer.getBoundingClientRect();this.setState({width:a.width,height:a.height})}.bind(this))};a.prototype.componentWillUnmount=function(){this.$1&&this.$1.remove(),this.$1=null};a.prototype.render=function(){return b("React").createElement("div",{ref:"sizer",style:{position:"absolute",height:"100%",width:"100%"}},b("React").createElement(b("FixedDataTable.react"),{className:"_199n"+(this.props.isShiftKeyPressed?" _199o":""),groupHeaderHeight:32,headerHeight:32,height:this.state.height,rowHeight:l,rowsCount:this.props.rows.size,width:this.state.width,onRowClick:this.$2,onColumnResizeEndCallback:this.$3,onScrollEnd:this.$4},this.props.columns.keySeq().toOrderedSet().map(function(a){return b("LMTableColumns").get(a)}).map(this.$5).toArray()),this.$6())};a.prototype.$8=function(a){return b("React").createElement(b("LMTableHeader.react"),{column:a.sortColumn,columnKey:a.columnKey,currentSortColumn:this.props.sortColumn,currentSortDirection:this.props.sortDirection,defaultSortDirection:a.defaultSortDirection,label:a.label,popover:a.popover,renderHeader:a.renderHeader,onClick:this.props.onHeaderClick})};a.prototype.$6=function(){var a=this.props.filterData,c=a.getValue();if(c==null&&a.isLoading())return b("React").createElement("div",{className:"_199p","data-testid":b("LocationManagerWebDriverTestIDs").TABLE_LOADING_SPINNER},b("React").createElement(b("FDSSpinner.react"),null));if(c!=null&&c.ids.size===0){a=this.props.searchText?h._("No results found when searching for \"{search query}\"",[h._param("search query",this.props.searchText)]):h._("You haven't added any locations yet. Upload a CSV or add details for each store using Add Locations.");return b("React").createElement("div",{className:"_199p"},a)}return null};a.prototype.$9=function(a){var c=this.props.columns.get(a);if(c!=null){c=c.width;if(c!=null)return c}return b("LMTableColumns").get(a).defaultWidth};function m(a,b){a=a.getValue();return a!=null&&b.has(a.id)}e.exports=a}),null);
__d("LMTableContainer.react",["FluxContainer","LMActions","LMColumnStore","LMConfigStore","LMKeyboardStore","LMPermissionsStore","LMQueryLocationStore","LMRowStore","LMSelectedLocationIDsStore","LMTable.react","LoadObject","React","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=b("React").Component;function h(a,c){b("LMActions").dispatchActionFromView({type:"lm.set_search_column",sortColumn:a,sortDirection:c})}function i(a){b("LMActions").dispatchActionFromView({type:"lm.click_edit_location",locationID:a})}function j(a,c,d){__p&&__p();return b("immutable").Set().withMutations(function(b){__p&&__p();var e=!1;for(var f=a,g=Array.isArray(f),h=0,f=g?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var i;if(g){if(h>=f.length)break;i=f[h++]}else{h=f.next();if(h.done)break;i=h.value}i=i;i=i.value;if(i&&e&&(i.id===c||i.id===d)){b.add(i.id);break}i&&!e&&(i.id===c||i.id===d)&&(e=!0);e&&i&&b.add(i.id)}})}d=babelHelpers.inherits(a,c);g=d&&d.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=g.constructor).call.apply(a,[this].concat(e)),this.$1=function(){var a=this.state,c=a.parentPageID,d=a.rows;a=a.query;d=d.size;d>0&&c!=null&&b("LMActions").dispatchActionFromView({type:"lm.search_child_pages.load_more",parentPageID:c,query:a,offset:d})}.bind(this),this.$2=function(a,c){__p&&__p();if(!c){b("LMActions").dispatchActionFromView({type:"lm.locations.deselected_location",locationID:a});return}if(this.state.isShiftKeyPressed&&this.state.selectedLocations.size>0){c=this.state.selectedLocations.last();c=j(this.state.rows,c,a);b("LMActions").dispatchActionFromView({type:"lm.locations.selected_location.shift",locationIDs:c})}else b("LMActions").dispatchActionFromView({type:"lm.locations.selected_location",locationID:a})}.bind(this),c}a.getStores=function(){return[b("LMColumnStore"),b("LMConfigStore"),b("LMPermissionsStore"),b("LMKeyboardStore"),b("LMQueryLocationStore"),b("LMRowStore"),b("LMSelectedLocationIDsStore")]};a.calculateState=function(){var a=b("LMConfigStore").getState();a=a.parentPageID;var c=b("LMKeyboardStore").getState();c=c.shift;var d=b("LMQueryLocationStore").getState(),e=b("LMRowStore").getState(),f=e.filterData,g=e.isSelectingAll;e=e.rows;var h=!g;g=!g;return{canEditAnyLocation:g,canSelectAnyLocation:h,columns:b("LMColumnStore").getState(),filterData:f,isShiftKeyPressed:c,parentPageID:a,permissions:a?b("LMPermissionsStore").get(a):b("LoadObject").empty(),query:d,rows:e,selectedLocations:b("LMSelectedLocationIDsStore").getState()}};a.prototype.render=function(){return b("React").createElement(b("LMTable.react"),{canEditAnyLocation:this.state.canEditAnyLocation,canSelectAnyLocation:this.state.canSelectAnyLocation,columns:this.state.columns,filterData:this.state.filterData,isShiftKeyPressed:this.state.isShiftKeyPressed,permissions:this.state.permissions,rows:this.state.rows,searchText:this.state.query.searchText,selectedLocations:this.state.selectedLocations,sortColumn:this.state.query.sortColumn,sortDirection:this.state.query.sortDirection,onEdit:i,onFetchNext:this.$1,onHeaderClick:h,onToggleSelected:this.$2})};e.exports=b("FluxContainer").create(a)}),null);
__d("LMCoreNavEditLocations.react",["cx","LMTableContainer.react","React"],(function(a,b,c,d,e,f,g){"use strict";function a(){return b("React").createElement("div",{className:"_33iy"},b("React").createElement("div",{className:"_60s-"},b("React").createElement(b("LMTableContainer.react"),null)))}e.exports=a}),null);
__d("LMCoreNavNoPages.react",["ix","cx","fbt","Image.react","React","SUILink.react","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";function a(a){return b("React").createElement("div",{className:"_41xz"},b("React").createElement("div",null,b("React").createElement("div",{className:"_1bc_ _2n5e _3-98 _2ph_"},b("React").createElement("div",{className:"_3-8l _2lzf"},b("React").createElement("div",{className:"_ocj"},b("React").createElement("div",{className:"_ock _ocl"},b("React").createElement(b("Image.react"),{src:g("425526")})),b("React").createElement("div",{className:"_3qxo"},i._("No Pages Found")),b("React").createElement("div",{className:"_3-8x"},i._("{=create your Page} to get started.",[i._param("=create your Page",b("React").createElement(b("SUILink.react"),{href:"/pages/create"},i._("Create your Page")))])),b("React").createElement("div",{className:"_3-8y"},i._("If you've already created Pages, check you're logged in to the correct account.")))))))}e.exports=a}),null);
__d("LMCoreNavPageNotEligibleReasons.react",["ix","cx","fbt","FDSSpinner.react","Image.react","React","SUILink.react","XVanityURLController","asset","immutable","nullthrows"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=b("immutable").List;function a(a){__p&&__p();if(a.eligibility.isLoading())return b("React").createElement(b("FDSSpinner.react"),null);var c=a.eligibility.getValue();if(c==null||a.parentPageID==null)return null;var d=j(Object.keys(c)).filter(function(a){return!c[a].passes}).map(function(c){return k(c,b("nullthrows")(a.parentPageID))}).groupBy(function(a){return a.toString()}).map(function(a){return a.first()}).toArray();return b("React").createElement("div",null,d.map(function(a,c){return b("React").createElement("div",{className:"_pz4",key:c},b("React").createElement(b("Image.react"),{className:"_4ix-",src:g("478224")}),a)}))}function k(a,c){switch(a){case"page_is_not_parent_already":case"page_is_not_child_already":return i._("It's already linked to a set of location Pages");case"page_is_old_enough":return i._("It's less than 2 days old");case"page_is_not_global_root":return i._("This is a Global Page. Choose another Page");case"page_has_profile_photo":case"page_has_cover_photo":return i._("It's missing a profile or cover photo - it must have both. {Link to update the Parent Page}",[i._param("Link to update the Parent Page",b("React").createElement(b("SUILink.react"),{href:b("XVanityURLController").getURIBuilder().setString("vanity",c).getURI()},"Update your Page."))]);case"user_has_edit_permission":return i._("You don't have admin or editor permissions for this Page");case"user_has_edit_permission_to_global_root_if_exists":return i._("You don't have admin or editor permissions for the Global Page");default:throw new Error("No description found for "+a+" ineligibility reason")}}e.exports=a}),null);
__d("LMCoreNavNotEligibleContainer.react",["ix","cx","fbt","FluxContainer","Image.react","LMConfigStore","LMCoreNavPageNotEligibleReasons.react","LMPageWhitelistEligibilityStore","LoadObject","React","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();function a(){return[b("LMConfigStore"),b("LMPageWhitelistEligibilityStore")]}function c(){var a=b("LMConfigStore").getState();a=a.parentPageID;var c=a==null?b("LoadObject").empty():b("LMPageWhitelistEligibilityStore").get(a);return{eligibility:c,parentPageID:a}}function d(a){return b("React").createElement("div",{className:"_41xz"},b("React").createElement("div",null,b("React").createElement("div",{className:"_1bc_ _2n5e _3-98 _2ph_"},b("React").createElement("div",{className:"_3-8l _2lzf"},b("React").createElement("div",{className:"_ocj"},b("React").createElement("div",{className:"_ock _ocm"},b("React").createElement(b("Image.react"),{src:g("464372")})),b("React").createElement("div",{className:"_3qxo"},i._("This Page Isn't Eligible")),b("React").createElement("div",null,i._("You can't currently use this Page to add locations.")),b("React").createElement("div",{className:"_oci"}),b("React").createElement(b("LMCoreNavPageNotEligibleReasons.react"),{eligibility:a.eligibility,parentPageID:a.parentPageID}))))))}e.exports=b("FluxContainer").createFunctional(d,a,c)}),null);
__d("LMCoreNavRemoveAddressContainer.react",["ix","cx","fbt","FDSSpinner.react","FluxContainer","Image.react","LMActions","LMConfigStore","LMOwnedPageStore","LMSetupWizardStore","LoadObject","React","SUIButton.react","SUICheckboxInput.react","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();function a(){return[b("LMOwnedPageStore"),b("LMConfigStore"),b("LMSetupWizardStore")]}function c(){var a=b("LMConfigStore").getState();a=a.parentPageID;var c=b("LMSetupWizardStore").getState(),d=c.addressRemovalAccepted;c=c.whitelistStatus;return{addressRemovalAccepted:d,parentPage:a?b("LMOwnedPageStore").get(a):b("LoadObject").empty(),whitelistStatus:c}}function j(a){b("LMActions").dispatchActionFromView({type:"lm.onboarding.toggle_address_removal_accepted",isChecked:a})}function k(){var a=b("LMConfigStore").getState();a=a.parentPageID;if(a==null)return;b("LMActions").dispatchActionFromView({type:"lm.onboarding.remove_address_only",pageID:a})}function d(a){var c=a.parentPage.getValue();return c==null?null:b("React").createElement("div",{className:"_41xz"},b("React").createElement("div",null,b("React").createElement("div",{className:"_2ph_ _2n5e _3-98"},b("React").createElement("div",{className:"_3-8l _2lzf"},b("React").createElement("div",{className:"_ocj"},b("React").createElement("div",{className:"_ocl _ock"},b("React").createElement(b("Image.react"),{src:g("398198")})),b("React").createElement("div",{className:"_3qxo"},i._("Remove Address")),b("React").createElement("div",null,i._("Your main Page still has an associated address, which means you can't add locations yet."))),b("React").createElement("div",{className:"_oci"}),b("React").createElement("div",{className:"_66my"},i._("{page_name} is the main Page for your business. Once you add Pages for each location, your customers will be able to find information like opening hours, contact details, reviews and directions for the store that's nearest them.",[i._param("page_name",c.name)])),b("React").createElement("div",{className:"_66my _3-8y"},i._("Before you can start adding locations to this Page, you need to remove its address. If you want your customers to find you by this address, make a new location Page once this step is complete.")),b("React").createElement("div",{className:"_66my _3-8-"},b("React").createElement("div",null,b("React").createElement(b("SUICheckboxInput.react"),{label:i._("Remove address from {page_name}",[i._param("page_name",b("React").createElement("strong",null,c.name))]),value:a.addressRemovalAccepted,onChange:j}))))),b("React").createElement("div",{className:"_2n5f"},a.whitelistStatus.hasOperation()?b("React").createElement(b("FDSSpinner.react"),null):b("React").createElement(b("SUIButton.react"),{disabled:!a.addressRemovalAccepted,label:i._("Remove Address"),height:"tall",use:"confirm",onClick:k}))))}e.exports=b("FluxContainer").createFunctional(d,a,c)}),null);
__d("LMCoreNavActiveContainer.react",["FBLogger","FDSSpinner.react","FluxContainer","LMCoreNavConvertToMainPageContainer.react","LMCoreNavEditLocations.react","LMCoreNavNoPages.react","LMCoreNavNotEligibleContainer.react","LMCoreNavRemoveAddressContainer.react","LMCoreNavStore","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){return[b("LMCoreNavStore")]}function c(){var a=b("LMCoreNavStore").getState();return{onboardingStepType:a}}function d(a){__p&&__p();a=a.onboardingStepType;switch(a){case"loading":return b("React").createElement(b("FDSSpinner.react"),null);case"no_pages":return b("React").createElement(b("LMCoreNavNoPages.react"),null);case"convert_to_main_page":return b("React").createElement(b("LMCoreNavConvertToMainPageContainer.react"),null);case"edit_locations":return b("React").createElement(b("LMCoreNavEditLocations.react"),null);case"page_not_eligible":return b("React").createElement(b("LMCoreNavNotEligibleContainer.react"),null);case"remove_address":return b("React").createElement(b("LMCoreNavRemoveAddressContainer.react"),null);case"no_page_selected":default:b("FBLogger")("location_manager").mustfix("no content available");return null}}e.exports=b("FluxContainer").createFunctional(d,a,c)}),null);
__d("LMLocationBreakdownSearchSource",["fbt","AbstractSearchSource","GraphAPI","GraphAPIPaging","GraphEdgeName","SearchableEntry","SearchSourceQueryStatus","filterNulls","formatNumber","intlList","memoizeWithArgs","nullthrows","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;a=babelHelpers.inherits(i,b("AbstractSearchSource"));h=a&&a.prototype;i.get=function(a,b){return n(a,b)};function i(a,b){h.constructor.call(this),this.$LMLocationBreakdownSearchSource1=null,this.$LMLocationBreakdownSearchSource2=a,this.$LMLocationBreakdownSearchSource3=b}i.prototype.bootstrapImpl=function(a){this.$LMLocationBreakdownSearchSource1=m(this.$LMLocationBreakdownSearchSource2,this.$LMLocationBreakdownSearchSource3),b("promiseDone")(this.$LMLocationBreakdownSearchSource1,a,a)};i.prototype.searchImpl=function(a,c,d){b("promiseDone")(b("nullthrows")(this.$LMLocationBreakdownSearchSource1),function(d){return c(l(d,a),a,b("SearchSourceQueryStatus").COMPLETE)})};function j(a,b){return a.getTitle().toLocaleLowerCase().startsWith(b)?1:0}function k(a,b,c){var d=j(a,c);c=j(b,c);return d!==c?c-d:a.getTitle().toLocaleLowerCase().localeCompare(b.getTitle().toLocaleLowerCase())}function l(a,b){b=b.toLocaleLowerCase();return a.filter(function(a){return a.getTitle().toLocaleLowerCase().includes(b)}).sort(function(a,c){return k(a,c,b)})}var m=function(a,c){return b("GraphAPI")("2.9").object("page",a).edge(b("GraphEdgeName").LOCATIONS_BREAKDOWN).get({limit:5e3,type:c}).then(b("GraphAPIPaging").allPages()).then(function(a){return a.data.filter(function(a){return!!a.location_name}).map(function(a){return new(b("SearchableEntry"))({title:o(a),uniqueID:a.location_id,auxiliaryData:a})})})},n=b("memoizeWithArgs")(function(a,b){a=new i(a,b);a.bootstrap();return a},function(a,b){return a+":"+b}),o=function(a){var c=b("filterNulls")([a.location_name,a.parent_region_name,a.parent_country_code]);c=b("intlList")(c,b("intlList").CONJUNCTIONS.NONE);return g._("{city\/state\/country name} ({location count})",[g._param("city/state/country name",c),g._param("location count",b("formatNumber").withThousandDelimiters(a.num_pages+a.num_unpublished_or_closed_pages))])};e.exports=i}),null);
__d("LMFilters.react",["ix","cx","fbt","BUISwitch.react","Image.react","LMLocationBreakdownSearchSource","React","ShimButton.react","SUIButton.react","SUIGlyphIcon.react","SUILink.react","SUIText.react","SUITokenizer.react","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=100,m=["country","region","city"];c=babelHelpers.inherits(a,b("React").Component);j=c&&c.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=j.constructor).call.apply(a,[this].concat(e)),this.$3=function(a){var c=this.props.filterState.activeFilters.contains(a),d=this.props.filterState.selectedEntries.get(a);return b("React").createElement(p,{key:a,isExpanded:c,locationType:a,parentPageID:this.props.parentPageID,selectedEntries:d,onAddEntry:this.props.onAddEntry,onRemoveEntry:this.props.onRemoveEntry,onToggle:this.props.onToggle})}.bind(this),c}a.prototype.render=function(){return this.props.isExpanded?this.$1():this.$2()};a.prototype.$2=function(){return b("React").createElement(b("ShimButton.react"),{className:"_fdt _fi8",onClick:this.props.onToggleSidebar},b("React").createElement(b("Image.react"),{src:g("442716")}),b("React").createElement(b("Image.react"),{src:g("363532")}))};a.prototype.$1=function(){return b("React").createElement("div",{className:"_fdt _fi9"},b("React").createElement("div",{className:"_2ph_"},b("React").createElement(b("SUIText.react"),{size:"meta1",weight:"bold"},i._("Filters"))),m.map(this.$3),this.props.filterState.selectedEntries.some(function(a){return!a.isEmpty()})?b("React").createElement(b("SUILink.react"),{className:"_2w1m",onClick:this.props.onClearAll},i._("Clear all")):null,b("React").createElement("div",{className:"_fia"},b("React").createElement(b("SUIButton.react"),{height:"tall",labelIsHidden:!0,label:i._("Toggle sidebar"),icon:b("React").createElement(b("SUIGlyphIcon.react"),{srcDefault:g("404533")}),suppressed:!0,onClick:this.props.onToggleSidebar})))};var n={city:i._("City"),region:i._("Region"),country:i._("Country")},o={city:i._("Search cities"),region:i._("Search regions"),country:i._("Search countries")};d=babelHelpers.inherits(p,b("React").Component);k=d&&d.prototype;function p(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=k.constructor).call.apply(a,[this].concat(d)),this.$3=function(a){return this.$1=a}.bind(this),this.$2=function(){return this.props.onToggle(!this.props.isExpanded,this.props.locationType)}.bind(this),b}p.prototype.componentDidUpdate=function(a){this.props.isExpanded&&!a.isExpanded&&this.$1!=null&&this.$1.focusInput()};p.prototype.render=function(){var a=b("LMLocationBreakdownSearchSource").get(this.props.parentPageID,this.props.locationType);return b("React").createElement("div",{className:"_2ph_"+(this.props.isExpanded?" _fdu":"")},b("React").createElement(b("ShimButton.react"),{className:"_fdv",onClick:this.$2},b("React").createElement(b("SUIText.react"),{shade:this.props.isExpanded?"dark":"light",size:"meta1"},n[this.props.locationType]),b("React").createElement(b("BUISwitch.react"),{value:this.props.isExpanded})),this.props.isExpanded?b("React").createElement("div",{className:"_3-8x"},b("React").createElement(b("SUITokenizer.react"),{entries:this.props.selectedEntries.toArray(),maxEntries:l,placeholder:o[this.props.locationType],ref:this.$3,searchSource:a,onAddEntry:this.props.onAddEntry,onRemoveEntry:this.props.onRemoveEntry})):null)};e.exports=a}),null);
__d("LMFiltersContainer.react",["FluxContainer","LMActions","LMConfigStore","LMFilters.react","LMQueryLocationStore","LMSidebarStore","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){return[b("LMConfigStore"),b("LMQueryLocationStore"),b("LMSidebarStore")]}function g(a){b("LMActions").dispatchActionFromView({type:"lm.filters.add_entry",entry:a})}function h(a){b("LMActions").dispatchActionFromView({type:"lm.filters.remove_entry",entry:a})}function i(a,c){b("LMActions").dispatchActionFromView({type:"lm.filters.toggle",value:a,locationType:c})}function j(){b("LMActions").dispatchActionFromView({type:"lm.sidebar.toggle"})}function k(){b("LMActions").dispatchActionFromView({type:"lm.filters.clear_all"})}function c(){var a=b("LMConfigStore").getState();a=a.parentPageID;var c=b("LMQueryLocationStore").getState(),d=b("LMSidebarStore").getState();return{filterState:c,isExpanded:d,parentPageID:a}}function d(a){var c=a.parentPageID;a=babelHelpers.objectWithoutProperties(a,["parentPageID"]);return c==null?null:b("React").createElement(b("LMFilters.react"),babelHelpers["extends"]({},a,{parentPageID:c,onAddEntry:g,onClearAll:k,onRemoveEntry:h,onToggle:i,onToggleSidebar:j}))}e.exports=b("FluxContainer").createFunctional(d,a,c)}),null);
__d("XLocationManagerChildrenExportController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/locations/export_children/",{parent_id:{type:"FBID",required:!0},template_only:{type:"Bool",defaultValue:!1},pagenum:{type:"Int",defaultValue:0},intern_tool:{type:"Bool",defaultValue:!1}})}),null);
__d("LMExportLocationsUtils",["LMEnvironment","XLocationManagerChildrenExportController"],(function(a,b,c,d,e,f){"use strict";function a(a,c){a=b("XLocationManagerChildrenExportController").getURIBuilder().setFBID("parent_id",a).setBool("intern_tool",c===b("LMEnvironment").INTERN).getURI();return a.toString()}function c(a){a=b("XLocationManagerChildrenExportController").getURIBuilder().setFBID("parent_id",a).setBool("template_only",!0).getURI();return a.toString()}e.exports={getUri:a,getTemplateUri:c}}),null);
__d("LMImportMenu.react",["cx","React","SUICloseButton.react"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return b("React").createElement("div",{className:"_61dg"},b("React").createElement("span",{className:"_61dh"},b("React").createElement(b("SUICloseButton.react"),{onClick:a.onClose})),a.heading!=null?b("React").createElement("div",{"aria-level":"3",className:"_61di",role:"heading"},a.heading):null,b("React").createElement("div",{className:"_61dj"},a.children))}e.exports=a}),null);
__d("LMImportMenuButton.react",["cx","Image.react","React","ShimButton.react"],(function(a,b,c,d,e,f,g){"use strict";function h(a){a.preventDefault()}function a(a){return b("React").createElement(b("ShimButton.react"),{className:"_468r _468s",onClick:a.onClick,onMouseDown:h},b("React").createElement("div",{className:"_468v"},b("React").createElement("div",{className:"_61dd"},b("React").createElement(b("Image.react"),{src:a.imageSrcDefault})),b("React").createElement("div",{className:"_39n9"},b("React").createElement(b("Image.react"),{src:a.imageSrcHighlight}))),b("React").createElement("div",{className:"_469e"},b("React").createElement("div",{className:"_469f"},a.title),b("React").createElement("div",{className:"_469h"},a.description),b("React").createElement("div",{className:"_469i"},a.hint)))}e.exports=a}),null);
__d("LMImportMenuEntry.react",["ix","fbt","LMImportMenu.react","LMImportMenuButton.react","React","asset"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=g("381379"),k=g("382317"),l=g("378343"),m=g("385885"),n=g("460327"),o=g("460333");c=babelHelpers.inherits(a,b("React").PureComponent);i=c&&c.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=i.constructor).call.apply(a,[this].concat(d)),this.onClickAddExistingPage=function(){this.props.onClickAddExistingPage(),this.props.onClose()}.bind(this),b}a.prototype.render=function(){return b("React").createElement(b("LMImportMenu.react"),{heading:h._("Add Locations"),onClose:this.props.onClose},b("React").createElement(b("LMImportMenuButton.react"),{description:h._("Fill out details for each location you want to add"),hint:h._("Recommended for 1 - 10 locations"),imageSrcDefault:j,imageSrcHighlight:k,title:h._("Manually Add Locations"),onClick:this.props.onClickManualAdd}),b("React").createElement(b("LMImportMenuButton.react"),{description:h._("Add multiple locations at once using our CSV template"),hint:h._("Recommended for 10 or more locations"),imageSrcDefault:l,imageSrcHighlight:m,title:h._("Upload Locations"),onClick:this.props.onClickUploadCSV}),b("React").createElement(b("LMImportMenuButton.react"),{description:h._("Make Location from Existing Page"),hint:h._("Import an existing page into Location Manager"),imageSrcDefault:n,imageSrcHighlight:o,title:h._("Migrate an existing page"),onClick:this.onClickAddExistingPage}))};e.exports=a}),null);
__d("LMImportMenuUploadCompleteSuccess.react",["ix","cx","fbt","Image.react","LMImportMenu.react","LMImportMenuUIMessages","React","SUIButton.react","SUIText.react","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("LMImportMenuUIMessages").ALL_LOCATIONS_VALID_DESCRIPTION,k=g("413160");function a(a){return b("React").createElement(b("LMImportMenu.react"),{heading:b("React").createElement("span",null,b("React").createElement(b("Image.react"),{className:"_61k3",src:k}),i._({"*":"{number} Valid Locations","_1":"1 Valid Location"},[i._plural(a.totalRowCount,"number")])),onClose:a.onClose},b("React").createElement("div",{className:"_ufd"},b("React").createElement(b("SUIText.react"),{display:"block",shade:"light",size:"meta1",textAlign:"center"},j),b("React").createElement("div",{className:"_3-8-"},b("React").createElement(b("SUIButton.react"),{height:"tall",label:i._("Continue"),use:"confirm",onClick:a.onConfirm}))))}e.exports=a}),null);
__d("LMImportMenuUploadSelectFile.react",["ix","cx","fbt","FileInput.react","Image.react","LMImportMenu.react","LMImportMenuUIMessages","LMUploadLocationsUtils","React","SUIButton.react","SUILink.react","SUIText.react","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("LMImportMenuUIMessages").START_UPLOAD_DESCRIPTION;c=b("LMUploadLocationsUtils").VALID_FILE_EXTENSION;var k=Array.from(c).join(", ");function a(a){return b("React").createElement(b("LMImportMenu.react"),{heading:a.fileUploadErrorTitle!=null?b("React").createElement("span",null,b("React").createElement(b("Image.react"),{className:"_61k3",src:g("407629")}),a.fileUploadErrorTitle):i._("Upload Locations"),onClose:a.onClose},b("React").createElement("div",{className:"_ufd"},b("React").createElement(b("SUIText.react"),{display:"block",shade:"light",size:"meta1",textAlign:"center"},a.fileUploadErrorDescription!=null?a.fileUploadErrorDescription:j),b("React").createElement("div",{className:"_3-8-"},b("React").createElement(b("FileInput.react"),{accept:k,onChange:a.onFileSelected},b("React").createElement(b("SUIButton.react"),{height:"tall",href:"#",label:i._("Upload File"),use:"confirm"}))),b("React").createElement("div",{className:"_3-8z"},b("React").createElement(b("SUILink.react"),{href:a.templateURI,showUnderline:"always"},b("React").createElement(b("Image.react"),{className:"_61k3",src:g("406894")}),i._("Download CSV Template")))))}e.exports=a}),null);
__d("LMImportMenuUploadCompleteWithColumnErrors.react",["fbt","FBLogger","LMImportMenuUploadSelectFile.react","React","intlList"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();function a(a){__p&&__p();var c=a.duplicateColumns,d=a.invalidHeaders,e=a.missingColumns,f=a.templateURI,h=a.onClose;a=a.onFileSelected;if(c.length+d.length+e.length>Math.max(c.length,d.length,e.length))return b("React").createElement(b("LMImportMenuUploadSelectFile.react"),{fileUploadErrorTitle:g._("Invalid Column Headings"),fileUploadErrorDescription:g._({"*":"You need to fix {number} column headings in your file. Check the template for the correct headings, amend your file and upload it again.","_1":"You need to fix 1 column heading in your file. Check the template for the correct headings, amend your file and upload it again."},[g._plural(new Set([].concat(c,d,e)).size,"number")]),templateURI:f,onClose:h,onFileSelected:a});if(e.length>0)return e.length<=3?b("React").createElement(b("LMImportMenuUploadSelectFile.react"),{fileUploadErrorTitle:g._("Missing Headings"),fileUploadErrorDescription:g._("You must include the following column headings in your file: {column_list}.",[g._param("column_list",b("intlList")(e))]),templateURI:f,onClose:h,onFileSelected:a}):b("React").createElement(b("LMImportMenuUploadSelectFile.react"),{fileUploadErrorTitle:g._("Missing Headings"),fileUploadErrorDescription:g._({"*":"You're missing {number} column headings . Check the template for the correct format, amend your file and upload it again.","_1":"You're missing 1 column heading . Check the template for the correct format, amend your file and upload it again."},[g._plural(e.length,"number")]),templateURI:f,onClose:h,onFileSelected:a});if(c.length>0)return c.length<=3?b("React").createElement(b("LMImportMenuUploadSelectFile.react"),{fileUploadErrorTitle:g._("Duplicate Column Headings"),fileUploadErrorDescription:g._("You need to remove the duplicated column headings in your file: {column_list}.",[g._param("column_list",b("intlList")(c))]),templateURI:f,onClose:h,onFileSelected:a}):b("React").createElement(b("LMImportMenuUploadSelectFile.react"),{fileUploadErrorTitle:g._("Duplicate Column Headings"),fileUploadErrorDescription:g._({"*":"You need to remove {number} duplicated column headings in your file. Check the template for the correct format, amend your file and upload it again.","_1":"You need to remove 1 duplicated column heading in your file. Check the template for the correct format, amend your file and upload it again."},[g._plural(c.length,"number")]),templateURI:f,onClose:h,onFileSelected:a});if(d.length>0)return d.length<=3?b("React").createElement(b("LMImportMenuUploadSelectFile.react"),{fileUploadErrorTitle:g._("Incorrect Column Headings"),fileUploadErrorDescription:g._("You need to fix the following column headings, as they don't match the template: {column_list}.",[g._param("column_list",b("intlList")(d))]),templateURI:f,onClose:h,onFileSelected:a}):b("React").createElement(b("LMImportMenuUploadSelectFile.react"),{fileUploadErrorTitle:g._("Incorrect Column Headings"),fileUploadErrorDescription:g._({"*":"You need to fix {number} column headings in your file. Check the template for the correct format, amend your file and upload it again.","_1":"You need to fix 1 column heading in your file. Check the template for the correct format, amend your file and upload it again."},[g._plural(d.length,"number")]),templateURI:f,onClose:h,onFileSelected:a});b("FBLogger")("ads").warn("Column error doesn't include any invalid columns");return null}e.exports=a}),null);
__d("LMImportMenuUploadCompleteWithRowErrors.react",["ix","cx","fbt","AlignmentEnum","Image.react","LMImportMenu.react","LMImportMenuUIMessages","React","SUIButton.react","SUIText.react","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k=b("LMImportMenuUIMessages").INVALID_LOCATIONS_DESCRIPTION,l=b("LMImportMenuUIMessages").VALID_LOCATIONS_DESCRIPTION,m=g("412163"),n=g("413160");function o(a){return b("React").createElement("div",{className:"_3-8x _3-96"},b("React").createElement(b("SUIText.react"),{display:"block",shade:"light",size:"meta1",textAlign:a.isCentered?b("AlignmentEnum").center:void 0},a.children))}function p(a){return b("React").createElement("div",{className:"_61k8"},b("React").createElement(b("Image.react"),{className:"_61k9",src:a.glyph}),b("React").createElement(b("SUIText.react"),{display:"block",headingLevel:3,size:"large_DEPRECATED",textAlign:a.isCentered?b("AlignmentEnum").center:void 0},a.children))}c=babelHelpers.inherits(a,b("React").Component);j=c&&c.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=j.constructor).call.apply(a,[this].concat(d)),this.$1=function(){window.open(this.props.errorDownloadUrl,"_self")}.bind(this),b}a.prototype.render=function(){var a=this.props.totalRowCount-this.props.errorRowCount,c=a===0;return b("React").createElement(b("LMImportMenu.react"),{heading:i._("Some Locations Can't Be Added"),onClose:this.props.onClose},a>0?b("React").createElement("div",{className:"_61k4"},b("React").createElement(p,{glyph:n},i._({"*":"{number} Valid Locations","_1":"1 Valid Location"},[i._plural(a,"number")])),b("React").createElement(o,null,l),b("React").createElement("div",null,b("React").createElement(b("SUIButton.react"),{label:i._({"*":"Continue With {number} Locations","_1":"Continue With 1 Location"},[i._plural(this.props.totalRowCount-this.props.errorRowCount,"number")]),use:"confirm",onClick:this.props.onConfirm}))):null,b("React").createElement("div",{className:"_61k4"+(c?" _61k5":"")},b("React").createElement(p,{glyph:m,isCentered:c},i._({"*":"{number} Location With Errors","_1":"1 Location With Error"},[i._plural(this.props.errorRowCount,"number")])),b("React").createElement(o,{isCentered:c},k),b("React").createElement("div",null,b("React").createElement(b("SUIButton.react"),{label:i._("Download & Fix Errors"),onClick:this.$1}))))};e.exports=a}),null);
__d("LMImportMenuUploadError.react",["fbt","LMImportMenuUIMessages","LMImportMenuUploadSelectFile.react","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("LMImportMenuUIMessages").FILE_UPLOAD_FAILURE_DESCRIPTION;function a(a){return b("React").createElement(b("LMImportMenuUploadSelectFile.react"),{fileUploadErrorTitle:g._("Upload failed"),fileUploadErrorDescription:a.fileUploadErrorDescription!=null?a.fileUploadErrorDescription:h,templateURI:a.templateURI,onClose:a.onClose,onFileSelected:a.onFileSelected})}e.exports=a}),null);
__d("LMImportMenuUploadUploading.react",["cx","fbt","BUIProgressBar.react","LMImportMenu.react","LMImportMenuUIMessages","React","SUIButton.react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("LMImportMenuUIMessages").PROCESSING_FILE_DESCRIPTION;function a(a){return b("React").createElement(b("LMImportMenu.react"),{heading:h._("Uploading Locations"),onClose:a.onClose},b("React").createElement("div",{className:"_ufd"},b("React").createElement("div",{className:"_3-96"},i),b("React").createElement("div",{className:"_3-98"},b("React").createElement(b("BUIProgressBar.react"),{isBuffering:a.progressPercentage>99,message:h._("Uploading"),percentage:a.progressPercentage,width:250})),b("React").createElement(b("SUIButton.react"),{label:h._("Cancel Upload"),use:"default",onClick:a.onCancel})))}e.exports=a}),null);
__d("LMImportMenuUpload.react",["LMImportMenuUIMessages","LMImportMenuUploadCompleteSuccess.react","LMImportMenuUploadCompleteWithColumnErrors.react","LMImportMenuUploadCompleteWithRowErrors.react","LMImportMenuUploadError.react","LMImportMenuUploadSelectFile.react","LMImportMenuUploadUploading.react","LMUploadConstants","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("LMImportMenuUIMessages").VALIDATION_FAILURE_DESCRIPTION;function a(a){__p&&__p();var c=a.uploadStatus;if(c==null)return b("React").createElement(b("LMImportMenuUploadSelectFile.react"),{templateURI:a.templateURI,onClose:a.onClose,onFileSelected:a.onFileSelected});switch(c.stage){case b("LMUploadConstants").UPLOADING_FILE:return b("React").createElement(b("LMImportMenuUploadUploading.react"),{progressPercentage:c.progressPercentage,onCancel:a.onCancel,onClose:a.onClose});case b("LMUploadConstants").UPLOAD_COMPLETE_WITH_ROW_ERRORS:return c.errorDownloadUrl?b("React").createElement(b("LMImportMenuUploadCompleteWithRowErrors.react"),{errorDownloadUrl:c.errorDownloadUrl,errorRowCount:c.errorRowCount,sid:c.sid,totalRowCount:c.totalRowCount,onConfirm:a.onConfirm,onClose:a.onCancel}):b("React").createElement(b("LMImportMenuUploadError.react"),{fileUploadErrorDescription:g,templateURI:a.templateURI,onClose:a.onClose,onFileSelected:a.onFileSelected});case b("LMUploadConstants").ERROR_UPLOADING_FILE:return b("React").createElement(b("LMImportMenuUploadError.react"),{fileUploadErrorDescription:c.fileUploadError,templateURI:a.templateURI,onClose:a.onClose,onFileSelected:a.onFileSelected});case b("LMUploadConstants").UPLOAD_COMPLETE_SUCCESS:return b("React").createElement(b("LMImportMenuUploadCompleteSuccess.react"),{sid:c.sid,totalRowCount:c.totalRowCount,onClose:a.onCancel,onConfirm:a.onConfirm});case b("LMUploadConstants").UPLOAD_COMPLETE_WITH_COLUMN_ERRORS:return b("React").createElement(b("LMImportMenuUploadCompleteWithColumnErrors.react"),{duplicateColumns:c.duplicateColumns,invalidHeaders:c.invalidHeaders,missingColumns:c.missingColumns,templateURI:a.templateURI,onClose:a.onClose,onFileSelected:a.onFileSelected})}return null}e.exports=a}),null);
__d("LMImportMenuContainer.react",["FBLogger","FluxContainer","LMActions","LMConfigStore","LMExportLocationsUtils","LMImportMenuEntry.react","LMImportMenuStore","LMImportMenuUpload.react","LMUploadConstants","LMUploadLocationsActionCreators","LMUploadLocationsStore","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){return[b("LMConfigStore"),b("LMImportMenuStore"),b("LMUploadLocationsStore")]}function c(){var a=b("LMConfigStore").getState();a=a.parentPageID;var c=a!=null?b("LMUploadLocationsStore").getUploadStatus(a):null;return{parentPageID:a,menuState:b("LMImportMenuStore").getState(),uploadStatus:c}}function g(){b("LMActions").dispatchActionFromView({type:"lm.import_menu.close"})}function h(){b("LMActions").dispatchActionFromView({type:"lm.import_menu.click_upload_csv"})}function i(){b("LMActions").dispatchActionFromView({type:"lm.click_add_new_page"})}function j(){b("LMActions").dispatchActionFromView({type:"lm.click_add_existing_page"})}function k(){var a=b("LMConfigStore").getState();a=a.parentPageID;if(a==null)return;b("LMActions").dispatchActionFromView({type:"lm.upload_locations.cancel_upload",parentPageID:a})}function l(){__p&&__p();var a=b("LMConfigStore").getState();a=a.parentPageID;if(a==null)return;var c=b("LMUploadLocationsStore").get(a);if(c==null||c.stage!==b("LMUploadConstants").UPLOAD_COMPLETE_WITH_ROW_ERRORS&&c.stage!==b("LMUploadConstants").UPLOAD_COMPLETE_SUCCESS){b("FBLogger")("location_manager").mustfix("confirm upload should only be possible when the upload has completed with errors");return}b("LMUploadLocationsActionCreators").onConfirmImport(a,c.sid,c.totalRowCount)}function m(a){a=a.target.files;a=a[0];var c=b("LMConfigStore").getState();c=c.parentPageID;if(c==null)return;b("LMUploadLocationsActionCreators").onFileSelected(c,a)}function d(a){var c=a.parentPageID;if(c==null)return null;switch(a.menuState){case"entry":return b("React").createElement(b("LMImportMenuEntry.react"),{onClickAddExistingPage:j,onClickManualAdd:i,onClickUploadCSV:h,onClose:g});case"upload":c=b("LMExportLocationsUtils").getTemplateUri(c);return b("React").createElement(b("LMImportMenuUpload.react"),{uploadStatus:a.uploadStatus,templateURI:c,onCancel:k,onClose:g,onConfirm:l,onFileSelected:m})}return null}e.exports=b("FluxContainer").createFunctional(d,a,c)}),null);
__d("LMImportMenuOverlayContainer.react",["cx","FluxContainer","LMActions","LMImportMenuStore","React","ShimButton.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();function a(){return[b("LMImportMenuStore")]}function c(){return{isShown:b("LMImportMenuStore").getState()!=null}}function h(){b("LMActions").dispatchActionFromView({type:"lm.import_menu.close"})}function d(a){return!a.isShown?null:b("React").createElement(b("ShimButton.react"),{className:"_2hh1",onClick:h})}e.exports=b("FluxContainer").createFunctional(d,a,c)}),null);
__d("LMNuxDataManager",["LMActions","SimpleNUXMessage"],(function(a,b,c,d,e,f){"use strict";function a(a){b("SimpleNUXMessage").markMessageSeenByUser(a),b("LMActions").dispatchActionFromView({type:"lm.dismiss_nux",nuxID:a})}e.exports={dismissNux:a}}),null);
__d("LMBulkEditButton.react",["ix","fbt","FDSButton.react","LocationManagerWebDriverTestIDs","React","SUIGlyphIcon.react","XUIAmbientNUX.react","asset"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=function(a){a=a.size;return a>0?h._({"*":"Edit {business_location_count} Locations","_1":"Edit {business_location_count} Location"},[h._param("business_location_count",a),h._plural(a)]):h._("Edit Locations")};c=babelHelpers.inherits(a,b("React").Component);i=c&&c.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=i.constructor).call.apply(a,[this].concat(d)),this.$2=function(a){return this.$1=a}.bind(this),this.$3=function(){return this.$1}.bind(this),b}a.prototype.$4=function(){if(!this.props.permissions.canEdit)return h._("You don't have permission to edit locations.");return this.props.selectedLocationIDs.size===0?h._("Select one or more locations to be edited."):null};a.prototype.render=function(){var a=this.props,c=a.disabled,d=a.hasSeenNux,e=a.permissions,f=a.selectedLocationIDs,i=a.onDismissNux;a=a.onToggle;return b("React").createElement(b("React").Fragment,null,b("React").createElement(b("FDSButton.react"),{"data-testid":b("LocationManagerWebDriverTestIDs").BULK_EDIT_BUTTON,icon:b("React").createElement(b("SUIGlyphIcon.react"),{srcDefault:g("363756"),srcDisabled:g("363754")}),isDisabled:c||f.size===0||!e.canEdit,label:j(f),ref:this.$2,tooltip:this.$4(),onClick:a}),b("React").createElement(b("XUIAmbientNUX.react"),{alignment:"right",contextRef:this.$3,position:"below",shown:!d&&!c&&f.size>0,onCloseButtonClick:i},h._("Click this button in order to edit the selected set of locations.")))};e.exports=a}),null);
__d("PagesLocationsDownloadStatus",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({SCHEDULED:0,SUCCESS:1,FAILURE:2})}),null);
__d("LMExportLocations.react",["fbt","AdsCCCategory","AdsCCMigrationCategory","AdsCCNotificationWrapper.react","FDSSpinner.react","Link.react","LMExportLocationsUtils","PagesLocationsDownloadStatus","React","SUIButton.react","XUIDialog.react","XUIDialogBody.react","XUIDialogTitle.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("AdsCCMigrationCategory").MigrationCategory,j=500,k=g._("Download Locations");h=babelHelpers.inherits(a,b("React").PureComponent);h&&h.prototype;a.prototype.$1=function(){if(!this.props.locationsCount.hasValue())return b("React").createElement(b("SUIButton.react"),{disabled:!0,label:k,size:"large"});return this.props.locationsCount.getValueEnforcing()>j?b("React").createElement(b("SUIButton.react"),{label:k,onClick:this.props.onScheduleDownload,size:"large"}):b("React").createElement(b("SUIButton.react"),{href:b("LMExportLocationsUtils").getUri(this.props.parentPageID,this.props.environment),label:k,size:"large"})};a.prototype.$2=function(){return!this.props.hasScheduledDownload?null:b("React").createElement(b("XUIDialog.react"),{onToggle:this.props.onCancel,shown:!0,width:600},b("React").createElement(b("XUIDialogTitle.react"),null,g._("Download All Locations")),b("React").createElement(b("XUIDialogBody.react"),null,this.$3()))};a.prototype.$3=function(){if(this.props.scheduledDownloadStatus===b("PagesLocationsDownloadStatus").SUCCESS&&this.props.scheduledDownloadUrl)return b("React").createElement(b("Link.react"),{href:this.props.scheduledDownloadUrl,s:"I am a pineapple! (If this is set to a truthy value, the URL will not go through Linkshim)"},k);return this.props.scheduledDownloadStatus===b("PagesLocationsDownloadStatus").SCHEDULED?b("React").createElement("div",null,g._("This may take a minute."),b("React").createElement(b("FDSSpinner.react"),{size:"small"})):b("React").createElement(b("AdsCCNotificationWrapper.react"),{ccCardProps:{category:b("AdsCCCategory").WARNING,messageID:"text_for_export_failure",textData:[{type:"PARAGRAPH",data:{text:g._("Sorry, something went wrong.")}}]},migrationCategory:i.ADS_NOTICE,suiNoticeProps:{type:"warning",messageBody:g._("Sorry, something went wrong.")}})};a.prototype.render=function(){return b("React").createElement("span",null,this.$1(),this.$2())};function a(){h.apply(this,arguments)}e.exports=a}),null);
__d("XPagesLocationsBulkDownloadController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/locations/download/bulk/",{})}),null);
__d("LMExportLocationsContainer.react",["Promise","AsyncRequest","FluxContainer","LMChildCountStore","LMConfigStore","LMExportLocations.react","LoadObject","PagesLocationsDownloadStatus","React","XPagesLocationsBulkDownloadController","promiseDone"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;function h(a){var c=a.parentPageID,d=a.startNew;return new(b("Promise"))(function(a,e){var f=b("XPagesLocationsBulkDownloadController").getURIBuilder().getURI();new(b("AsyncRequest"))().setURI(f).setReadOnly(!0).setMethod("POST").setHandler(function(b){return a(b.payload)}).setErrorHandler(function(a){return e(a.getError())}).setData({parent_id:c,start_new:d}).send()})}c=babelHelpers.inherits(a,b("React").PureComponent);g=c&&c.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=g.constructor).call.apply(a,[this].concat(e)),this.$1=function(){this.setState({scheduledDownload:!1,scheduledDownloadStatus:undefined})}.bind(this),this.$2=function(){var a=this.state.parentPageID;this.state.scheduledDownloadStatus===b("PagesLocationsDownloadStatus").SCHEDULED&&a!=null&&b("promiseDone")(h({parentPageID:a,startNew:!1}),function(a){if(this.state.scheduledDownloadStatus!==b("PagesLocationsDownloadStatus").SCHEDULED)return;this.setState({scheduledDownloadStatus:a.status,scheduledDownloadUrl:a.exportUrl});setTimeout(this.$2,1e3)}.bind(this),this.$2)}.bind(this),this.$3=function(){var a=this.state.parentPageID;if(a==null)return;this.setState({scheduledDownload:!0,scheduledDownloadStatus:b("PagesLocationsDownloadStatus").SCHEDULED});b("promiseDone")(h({parentPageID:a,startNew:!0}),function(a){this.setState({scheduledDownloadStatus:a.status,scheduledDownloadUrl:a.exportUrl}),setTimeout(this.$2,1e3)}.bind(this),function(a){this.setState({scheduledDownloadStatus:b("PagesLocationsDownloadStatus").FAILURE});throw a}.bind(this))}.bind(this),c}a.getStores=function(){return[b("LMChildCountStore"),b("LMConfigStore")]};a.calculateState=function(a){var c=b("LMConfigStore").getState(),d=c.environment;c=c.parentPageID;return{locationsCount:c!=null?b("LMChildCountStore").get(c):b("LoadObject").empty(),environment:d,parentPageID:c,scheduledDownload:a!=null?a.scheduledDownload:!1}};a.prototype.render=function(){var a=this.state,c=a.parentPageID;a=babelHelpers.objectWithoutProperties(a,["parentPageID"]);return c==null?null:b("React").createElement(b("LMExportLocations.react"),{environment:a.environment,hasScheduledDownload:a.scheduledDownload,locationsCount:a.locationsCount,parentPageID:c,scheduledDownloadStatus:a.scheduledDownloadStatus,scheduledDownloadUrl:a.scheduledDownloadUrl,onCancel:this.$1,onScheduleDownload:this.$3})};e.exports=b("FluxContainer").create(a)}),null);
__d("LMRemoveLocationsButton.react",["ix","cx","fbt","React","SUIButton.react","SUICheckboxInput.react","SUIGlyphIcon.react","SUIModal.react","SUIModalCancelButton.react","SUIModalFooter.react","SUIModalHeader.react","SUINotice.react","SUIText.react","asset","suiMargin"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k=b("React").createElement(b("SUIGlyphIcon.react"),{srcDefault:g("411468"),srcDisabled:g("411466")});function l(a){return b("React").createElement(b("SUIModal.react"),{footer:b("React").createElement(b("SUIModalFooter.react"),{primaryButton:b("React").createElement(b("SUIButton.react"),{use:"confirm",disabled:!a.isCheckboxTicked,label:i._("Remove"),onClick:a.onDelete}),secondaryButton:b("React").createElement(b("SUIModalCancelButton.react"),null)}),header:b("React").createElement(b("SUIModalHeader.react"),{title:i._({"*":"Remove {number} Location Pages","_1":"Remove 1 Location Page"},[i._plural(a.locationCount,"number")])}),isShown:a.isShown,onHide:a.onHide},b("React").createElement("div",null,b("React").createElement(b("SUINotice.react"),{type:"warning"},b("React").createElement(b("SUIText.react"),{display:"block",color:"secondary",size:"meta1"},i._({"*":"These location Pages will no longer be linked to your main Page or other business locations.","_1":" This location Page will no longer be linked to your main Page or other business locations."},[i._plural(a.locationCount)])),b("React").createElement(b("SUIText.react"),{margin:"_3-8x",display:"block",color:"secondary",size:"meta1"},i._("This means:"),b("React").createElement("ul",{className:"_6ddm"},b("React").createElement("li",null,i._({"*":"You won't be able to run store visits ads for these locations","_1":"You won't be able to run store visits ads for this location"},[i._plural(a.locationCount)])),b("React").createElement("li",null,i._({"*":"Store visits will no longer be reported for these locations","_1":"Store visits will no longer be reported for this location"},[i._plural(a.locationCount)])),b("React").createElement("li",null,i._({"*":"Posts from your main Page will stop appearing on these Pages","_1":"Posts from your main Page will stop appearing on this Page"},[i._plural(a.locationCount)])))),b("React").createElement(b("SUIText.react"),{margin:"_3-8x",display:"block",color:"secondary",size:"meta1"},i._({"*":"If you want to permanently delete these Pages after you've removed them from your business' location structure, you'll find the option in Page settings.","_1":"If you want to permanently delete this Page after you've removed it from your business' location structure, you'll find the option in Page settings."},[i._plural(a.locationCount)]))),b("React").createElement(b("SUICheckboxInput.react"),{label:i._({"*":"Yes, remove {number} location Pages","_1":"Yes, remove 1 location Page"},[i._plural(a.locationCount,"number")]),margin:"_3-8z",onChange:a.onChangeCheckbox,value:a.isCheckboxTicked})))}c=babelHelpers.inherits(a,b("React").PureComponent);j=c&&c.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=j.constructor).call.apply(a,[this].concat(d)),this.$2=function(){this.props.onClick(this.props.selectedLocationIDs)}.bind(this),b}a.prototype.$1=function(){if(!this.props.permissions.isAdmin)return i._("You don't have permission to remove locations.");return this.props.selectedLocationIDs.size===0?i._("Select one or more locations to be removed."):null};a.prototype.render=function(){var a=this.props.selectedLocationIDs.size;return b("React").createElement("div",null,b("React").createElement(b("SUIButton.react"),{disabled:this.props.disabled||!this.props.permissions.isAdmin||a===0,icon:k,label:a===0?i._("Remove Locations"):i._({"*":"Remove {number} Locations","_1":"Remove 1 Location"},[i._plural(a,"number")]),tooltip:this.$1(),onClick:this.props.onToggleDeleteModal}),b("React").createElement(l,{isCheckboxTicked:this.props.isCheckboxTicked,isShown:this.props.isConfirmModalShown,locationCount:a,onChangeCheckbox:this.props.onToggleDeleteModalCheckbox,onDelete:this.$2,onHide:this.props.onToggleDeleteModal}))};e.exports=a}),null);
__d("LMSelectedBusinessLocationsIndicator.react",["ix","cx","fbt","React","SUIGlyphIcon.react","SUILink.react","SUISpinner.react","SUIText.react","asset","formatNumber","suiMargin"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();a=function(a){var c=a.countError,d=a.countSelected,e=a.countTotal,f=a.isCountTotalEstimated,h=a.selectAllState,k=a.onCancelSelectAll;a=a.onClearSelection;return h.isLoading()?b("React").createElement("span",null,b("React").createElement(b("SUISpinner.react"),{size:"small",className:"_3-90"}),b("React").createElement(b("SUIText.react"),{size:"large_DEPRECATED"},i._("Selecting all locations... {=[percentage]}",[i._param("=[percentage]",b("React").createElement(b("SUIText.react"),{shade:"light",size:"meta1"},i._("{percentage}",[i._param("percentage",j(h))])))])),b("React").createElement(b("SUILink.react"),{margin:"_3-9a",onClick:k},i._("Cancel"))):b("React").createElement("span",null,d>0?b("React").createElement("span",null,b("React").createElement(b("SUIText.react"),{size:"large_DEPRECATED"},i._({"*":"{count_selected} locations {count_total}","_1":"{count_selected} location {count_total}"},[i._param("count_selected",d),i._plural(d),i._param("count_total",b("React").createElement(b("SUIText.react"),{shade:"light",size:"meta1"},"of ",e," ",i._({"*":"locations","_1":"location"},[i._plural(e)]),f?b("React").createElement("span",{className:"_3-9a"},i._("(estimated)")):null))])),b("React").createElement(b("SUILink.react"),{margin:"_3-9a",onClick:a},i._("Clear Selection"))):b("React").createElement(b("SUIText.react"),{size:"large_DEPRECATED"},i._({"*":"{count_total} locations","_1":"{count_total} location"},[i._param("count_total",e),i._plural(e)]),f?b("React").createElement(b("SUIText.react"),{className:"_3-9a",shade:"light",size:"meta1"},i._("(estimated)")):null),c>0?b("React").createElement("div",{className:"_1i3n"},b("React").createElement(b("SUIText.react"),{color:"secondary"},b("React").createElement("span",{className:"_3-90"},b("React").createElement(b("SUIGlyphIcon.react"),{srcDefault:g("390678")})),i._({"*":"Error loading {number} locations","_1":"Error loading 1 location"},[i._plural(c,"number")]))):null)};function j(a){a=a.getValue();if(a==null)return null;var c=a.loaded;a=a.total;c=a===0?0:c*100/a;return i._("({percentage}\u0025)",[i._param("percentage",b("formatNumber")(c,2))])}e.exports=a}),null);
__d("LMSelectedBusinessLocationsIndicatorContainer.react",["FluxContainer","LMActions","LMChildPageFastFieldsStore","LMConfigStore","LMFilterLocationsStore","LMQueryLocationStore","LMSelectAllStore","LMSelectedBusinessLocationsIndicator.react","LMSelectedLocationIDsStore","LoadObject","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(){var a=b("LMQueryLocationStore").getState(),c=b("LMConfigStore").getState();c=c.parentPageID;if(c==null)return;b("LMActions").dispatchActionFromView({type:"lm.select_all.cancel",parentPageID:c,query:a})}function h(){var a=b("LMQueryLocationStore").getState(),c=b("LMConfigStore").getState();c=c.parentPageID;if(c==null)return;b("LMActions").dispatchActionFromView({type:"lm.select_all.clear",parentPageID:c,query:a})}function a(a){var c=a.countError,d=a.countSelected,e=a.isCountTotalEstimated,f=a.selectAllState;a=a.countTotal.getValue();return a==null?null:b("React").createElement(b("LMSelectedBusinessLocationsIndicator.react"),{countError:c,countSelected:d,countTotal:a,isCountTotalEstimated:e,selectAllState:f,onCancelSelectAll:g,onClearSelection:h})}function c(){return[b("LMChildPageFastFieldsStore"),b("LMConfigStore"),b("LMFilterLocationsStore"),b("LMQueryLocationStore"),b("LMSelectAllStore"),b("LMSelectedLocationIDsStore")]}function d(){__p&&__p();var a=b("LMConfigStore").getState();a=a.parentPageID;var c=b("LMQueryLocationStore").getState(),d=b("LMSelectedLocationIDsStore").getState().count();c=a!=null?b("LMFilterLocationsStore").getFor(a,c):b("LoadObject").empty();var e=c.map(function(a){return a.isExhausted?a.ids.size:a.estimatedCount||0}),f=c.map(function(a){return!a.isExhausted}).getValue()||!1;c=c.map(function(a){return a.ids.toSet().map(function(a){return b("LMChildPageFastFieldsStore").get(a)}).filter(function(a){return a.hasError()}).count()}).getValue()||0;return{countError:c,countSelected:d,countTotal:e,isCountTotalEstimated:f,selectAllState:a!=null?b("LMSelectAllStore").get(a)||b("LoadObject").empty():b("LoadObject").empty()}}e.exports=b("FluxContainer").createFunctional(a,c,d)}),null);
__d("LMTableSettingsButton.react",["ix","fbt","FDSButton.react","React","SUIGlyphIcon.react","asset"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){return b("React").createElement(b("FDSButton.react"),{icon:b("React").createElement(b("SUIGlyphIcon.react"),{srcDefault:g("425375")}),label:h._("Table Settings"),labelIsHidden:!0,use:"flat",onClick:a.onClick})}e.exports=a}),null);
__d("LMSubNav.react",["cx","FDSHorizontalLayout.react","LMBulkEditButton.react","LMExportLocationsContainer.react","LMRemoveLocationsButton.react","LMSelectedBusinessLocationsIndicatorContainer.react","LMTableSettingsButton.react","React"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var c=a.permissions.getValue();return c==null?null:b("React").createElement("div",{className:"_ipl"},b("React").createElement(b("LMSelectedBusinessLocationsIndicatorContainer.react"),null),b("React").createElement("div",{className:"_60vs"},b("React").createElement(b("FDSHorizontalLayout.react"),null,b("React").createElement(b("LMBulkEditButton.react"),{disabled:a.disabled,hasSeenNux:a.hasSeenEditButtonNux,permissions:c,selectedLocationIDs:a.selectedLocationIDs,onDismissNux:a.onDismissEditButtonNux,onToggle:a.onBulkEditLocations}),b("React").createElement(b("LMRemoveLocationsButton.react"),{disabled:a.disabled,isCheckboxTicked:a.isRemoveLocationsCheckboxTicked,isConfirmModalShown:a.isRemoveLocationsConfirmModalShown,permissions:c,selectedLocationIDs:a.selectedLocationIDs,onClick:a.onClickDelete,onToggleDeleteModal:a.onToggleDeleteModal,onToggleDeleteModalCheckbox:a.onToggleDeleteModalCheckbox}),b("React").createElement(b("LMExportLocationsContainer.react"),null),b("React").createElement(b("LMTableSettingsButton.react"),{onClick:a.onClickTableSettings}))))}e.exports=a}),null);
__d("LMSubNavContainer.react",["FluxContainer","LMActions","LMChildCountStore","LMChildPageFastFieldsStore","LMConfigStore","LMKeyboardShortcutsModalStore","LMNuxDataManager","LMNuxStore","LMPermissionsStore","LMSelectAllStore","LMSelectedLocationIDsStore","LMSubNav.react","LoadObject","React","SimpleNUXMessageTypes"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("SimpleNUXMessageTypes").LM_EDIT_BUTTON_NUX;function a(){return[b("LMChildCountStore"),b("LMConfigStore"),b("LMKeyboardShortcutsModalStore"),b("LMNuxStore"),b("LMPermissionsStore"),b("LMSelectAllStore"),b("LMSelectedLocationIDsStore")]}function c(){var a=b("LMConfigStore").getState();a=a.parentPageID;var c=a?b("LMChildCountStore").get(a).getValue():null,d=a?b("LMPermissionsStore").get(a):b("LoadObject").empty();a=a?b("LMSelectAllStore").getFor(a).isLoading():!1;c=c==null||a;a=b("LMKeyboardShortcutsModalStore").getState();var e=a.isRemoveLocationsCheckboxTicked;a=a.isRemoveLocationsConfirmModalShown;return{disabled:c,hasSeenEditButtonNux:b("LMNuxStore").getState().get(g,!1),isRemoveLocationsCheckboxTicked:e,isRemoveLocationsConfirmModalShown:a,permissions:d,selectedLocationIDs:b("LMSelectedLocationIDsStore").getState()}}function h(){b("LMActions").dispatchActionFromView({type:"lm.click_bulk_edit_locations"})}function i(){b("LMNuxDataManager").dismissNux(g)}function j(){b("LMActions").dispatchActionFromView({type:"lm.table_settings.click"})}function k(){b("LMActions").dispatchActionFromView({type:"lm.modal.toggle_deletion_confirmation"})}function l(){b("LMActions").dispatchActionFromView({type:"lm.modal.deletion_confirmation_checkbox"})}function m(a){var c=b("LMConfigStore").getState();c=c.parentPageID;if(c==null)return;a=a.map(function(a){return b("LMChildPageFastFieldsStore").get(a).getValueEnforcing()}).toArray();b("LMActions").dispatchActionFromView({type:"lm.modal.toggle_deletion_confirmation"});b("LMActions").dispatchActionFromView({type:"lm.publish.start",locations:a,operationID:null,operationType:"delete",parentPageID:c})}function d(a){return b("React").createElement(b("LMSubNav.react"),{disabled:a.disabled,hasSeenEditButtonNux:a.hasSeenEditButtonNux,isRemoveLocationsCheckboxTicked:a.isRemoveLocationsCheckboxTicked,isRemoveLocationsConfirmModalShown:a.isRemoveLocationsConfirmModalShown,permissions:a.permissions,selectedLocationIDs:a.selectedLocationIDs,onBulkEditLocations:h,onClickDelete:m,onClickTableSettings:j,onDismissEditButtonNux:i,onToggleDeleteModal:k,onToggleDeleteModalCheckbox:l})}e.exports=b("FluxContainer").createFunctional(d,a,c)}),null);
__d("LMColumnGroups",["fbt","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=[{columnGroupKey:"location_information",columnKeys:["address","street","city","zip","state","country_code","is_eligible_for_store_visit_reporting"].concat(b("gkx")("AT5wVtgqcnnYXqoxS-J6PiItnT_8-Aevy6T72Y-1Ke0_7o0dMHI92KFSFmzeSSX6_5W7vDfdY0O5r81tEE0A2uaz")?["wifi_information_name"]:[]),label:g._("Location Information")},{columnGroupKey:"page_information",columnKeys:["name","phone","status","id","is_review_eligible","can_others_add_photos_and_videos","can_others_message","can_others_post","link"],label:g._("Page Information")},{columnGroupKey:"business_information",columnKeys:["price_range","store_number","website"],label:g._("Business Information")}];e.exports=a}),null);
__d("LMTableSettingsForm.react",["cx","BUIDraggableList.react","BUISwitch.react","React","SUICheckboxInput.react","SUIText.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j;c=babelHelpers.inherits(k,b("React").Component);h=c&&c.prototype;function k(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=h.constructor).call.apply(a,[this].concat(d)),this.$1=function(a){var b=this.props,c=b.columnConfig;b=b.columns;this.props.onChange(a?b.set(c.columnKey,{width:c.defaultWidth}):b.remove(c.columnKey))}.bind(this),b}k.prototype.render=function(){var a=this.props,c=a.columnConfig;a=a.columns;return b("React").createElement(b("SUICheckboxInput.react"),{display:"block",label:b("React").createElement(b("SUIText.react"),{shade:"medium",size:"meta1",weight:"bold"},c.label),value:a.has(c.columnKey),onChange:this.$1})};var l={marginRight:"auto"};d=babelHelpers.inherits(m,b("React").Component);i=d&&d.prototype;function m(){__p&&__p();var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=i.constructor).call.apply(a,[this].concat(d)),this.$2=function(){var a=this.props,b=a.columnGroup,c=a.columns;a=b.columnKeys.map(function(a){return[a,{width:null}]}).filter(function(a,b){return!c.has(a[0])});this.props.onChange(this.$1()?c.filter(function(a,c){return!b.columnKeys.includes(c)}):c.concat(a))}.bind(this),b}m.prototype.render=function(){return b("React").createElement("div",{className:"_3-95 _3nf2"},b("React").createElement(b("SUIText.react"),{headingLevel:2,shade:"medium",size:"large_DEPRECATED",style:l,weight:"bold"},this.props.columnGroup.label),b("React").createElement(b("BUISwitch.react"),{animate:!0,inline:!0,value:this.$1(),onToggle:this.$2}))};m.prototype.$1=function(){var a=this.props,b=a.columnGroup,c=a.columns;return b.columnKeys.every(function(a){return c.has(a)})};function n(a){return b("React").createElement("div",{className:"_3nf3"},b("React").createElement(m,{columnGroup:a.columnGroup,columns:a.columns,onChange:a.onChange}),b("React").createElement("div",{className:"_4tep"},a.columnGroup.columnKeys.map(function(b){return a.availableColumns.get(b)}).filter(function(a){return a!=null}).map(function(c){return b("React").createElement("div",{className:"_3nf4",key:c.columnKey},b("React").createElement(k,{columnConfig:c,columns:a.columns,onChange:a.onChange}))})))}f=babelHelpers.inherits(o,b("React").Component);j=f&&f.prototype;function o(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=j.constructor).call.apply(a,[this].concat(d)),this.$2=function(a){this.props.onChange(this.props.columns.remove(a))}.bind(this),this.$3=function(a,b){var c=this.props.columns.get(a).width,d=this.props.columns.remove(a).toSeq().flatMap(function(d,e){return e===b?[[a,{width:c}],[e,d]]:[[e,d]]}).toOrderedMap().set(a,{width:c});this.props.onChange(d)}.bind(this),b}o.prototype.$1=function(){return this.props.availableColumns.map(function(a){return{id:a.columnKey,label:a.label,isMovable:!a.isRequired,isRemovable:!a.isRequired}}).toObject()};o.prototype.render=function(){return b("React").createElement("div",{className:"_4u3h"},b("React").createElement(b("BUIDraggableList.react"),{itemIDs:this.props.columns.keySeq().toArray(),itemsByID:this.$1(),onRemove:this.$2,onReorder:this.$3}))};function a(a){return b("React").createElement("div",{className:"_4u3_"},b("React").createElement("div",{className:"_4u40"},a.columnGroups.map(function(c){return b("React").createElement(n,{availableColumns:a.availableColumns,columnGroup:c,key:c.columnGroupKey,columns:a.columns,onChange:a.onChange})})),b("React").createElement(o,{availableColumns:a.availableColumns,columns:a.columns,onChange:a.onChange}))}e.exports=a}),null);
__d("LMTableSettingsModal.react",["fbt","LMColumnGroups","LMTableColumns","LMTableSettingsForm.react","React","SUIButton.react","SUILink.react","SUIModal.react","SUIModalFooter.react","SUIModalHeader.react"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return b("React").createElement(b("SUIModal.react"),{footer:b("React").createElement(b("SUIModalFooter.react"),{leftContent:a.canReset?b("React").createElement(b("SUILink.react"),{onClick:a.onReset},g._("Reset to default")):null,primaryButton:b("React").createElement(b("SUIButton.react"),{disabled:!a.canSave,use:"confirm",label:g._("Save"),layerAction:"confirm",onClick:a.onSave}),secondaryButton:b("React").createElement(b("SUIButton.react"),{label:g._("Cancel"),layerAction:"cancel",onClick:a.onCancel})}),header:b("React").createElement(b("SUIModalHeader.react"),{title:g._("Customize Columns")}),isShown:a.newColumns!=null,width:800,onHide:a.onHide},a.newColumns!=null?b("React").createElement(b("LMTableSettingsForm.react"),{availableColumns:b("LMTableColumns"),columnGroups:b("LMColumnGroups"),columns:a.newColumns,onChange:a.onChange}):null)}e.exports=a}),null);
__d("LMTableSettingsModalContainer.react",["FluxContainer","LMActions","LMColumnEditStore","LMColumnStore","LMDefaultColumns","LMTableSettingsModal.react","React","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){return[b("LMColumnStore"),b("LMColumnEditStore")]}function c(){var a=b("LMColumnStore").getState(),c=b("LMColumnEditStore").getState();a=c!=null&&c.size>0&&!b("immutable").is(a,c);var d=c!=null&&!b("immutable").is(c,b("LMDefaultColumns"));return{canReset:d,canSave:a,newColumns:c}}function g(){b("LMActions").dispatchActionFromView({type:"lm.table_settings.cancel"})}function h(){b("LMActions").dispatchActionFromView({type:"lm.table_settings.hide"})}function i(){var a=b("LMColumnEditStore").getState();if(a==null)return;b("LMActions").dispatchActionFromView({type:"lm.table_settings.save_columns",columns:a})}function j(a){b("LMActions").dispatchActionFromView({type:"lm.table_settings.set_columns",columns:a})}function k(){b("LMActions").dispatchActionFromView({type:"lm.table_settings.reset_columns"})}function d(a){return b("React").createElement(b("LMTableSettingsModal.react"),{canReset:a.canReset,canSave:a.canSave,newColumns:a.newColumns,onCancel:g,onChange:j,onHide:h,onReset:k,onSave:i})}e.exports=b("FluxContainer").createFunctional(d,a,c)}),null);
__d("LMLocationsTab.react",["cx","ErrorBoundary.react","FDSSpinner.react","LMBulkBusinessLocationEditorContainer.react","LMChoosePageToClaimDialogContainer.react","LMCoreNavActiveContainer.react","LMFiltersContainer.react","LMImportMenuContainer.react","LMImportMenuOverlayContainer.react","LMSubNavContainer.react","LMTableSettingsModalContainer.react","LocationManagerWebDriverTestIDs","React","SUINotice.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();function h(a){a=a.parentPage;if(a.isLoading())return b("React").createElement(b("FDSSpinner.react"),null);a=a.getError();return a!=null?b("React").createElement(b("SUINotice.react"),{type:"error"},a.message):b("React").createElement(b("LMCoreNavActiveContainer.react"),null)}function a(a){var c=a.onboardingStepType;a=a.parentPage;return b("React").createElement("div",{className:"_2goq","data-testid":b("LocationManagerWebDriverTestIDs").LOCATIONS_TAB},c==="edit_locations"?b("React").createElement(b("ErrorBoundary.react"),null,b("React").createElement(b("LMImportMenuContainer.react"),null)):null,b("React").createElement(b("ErrorBoundary.react"),null,b("React").createElement(b("LMImportMenuOverlayContainer.react"),null)),b("React").createElement(b("ErrorBoundary.react"),null,b("React").createElement(b("LMChoosePageToClaimDialogContainer.react"),null)),b("React").createElement(b("ErrorBoundary.react"),null,b("React").createElement(b("LMBulkBusinessLocationEditorContainer.react"),null)),b("React").createElement(b("ErrorBoundary.react"),null,b("React").createElement(b("LMTableSettingsModalContainer.react"),null)),b("React").createElement("div",{className:"_2gox"},c==="edit_locations"?b("React").createElement(b("ErrorBoundary.react"),null,b("React").createElement(b("LMFiltersContainer.react"),null)):null,b("React").createElement("div",{className:"_2goy"},c==="edit_locations"?b("React").createElement(b("ErrorBoundary.react"),null,b("React").createElement(b("LMSubNavContainer.react"),null)):null,b("React").createElement("div",{className:"_2goz"},b("React").createElement(b("ErrorBoundary.react"),null,b("React").createElement(h,{parentPage:a}))))))}e.exports=a}),null);
__d("LMAddLocationsButton.react",["ix","fbt","FDSButton.react","Image.react","React","asset"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){return b("React").createElement(b("FDSButton.react"),{icon:b("React").createElement(b("Image.react"),{src:g("394279")}),isDisabled:a.isDisabled,label:h._("Add Locations"),tooltip:a.isDisabled?h._("You don't have permission to add new locations."):null,use:"special",onClick:a.onClick})}e.exports=a}),null);
__d("LMAddLocationsButtonContainer.react",["FluxContainer","LMActions","LMAddLocationsButton.react","LMChildCountStore","LMConfigStore","LMPermissionsStore","LMSelectAllStore","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){return[b("LMChildCountStore"),b("LMConfigStore"),b("LMPermissionsStore"),b("LMSelectAllStore")]}function c(){var a=b("LMConfigStore").getState();a=a.parentPageID;if(a==null)return{isDisabled:!0};var c=b("LMPermissionsStore").get(a).getValue();c=c==null||!c.canEdit||b("LMChildCountStore").get(a).getValue()==null||b("LMSelectAllStore").getFor(a).isLoading();return{isDisabled:c}}function g(){b("LMActions").dispatchActionFromView({type:"lm.import_menu.toggle"})}function d(a){return b("React").createElement(b("LMAddLocationsButton.react"),{isDisabled:a.isDisabled,onClick:g})}e.exports=b("FluxContainer").createFunctional(d,a,c)}),null);
__d("AdsPageSelectorSearchDataAction",["AdsDataAction"],(function(a,b,c,d,e,f){"use strict";a=b("AdsDataAction").create([],"PAGE.SELECTOR.SEARCH");e.exports=a}),null);
__d("LMPageSelector.react",["cx","fbt","ix","AdsAssetSectionType","AdsPageAssetSelector.react","AdsShimmerBar.react","ApiPagePaths","ContextualLayerAutoFlipHorizontal","CurrentUser","Image.react","LayerHideOnBlur","LayerHideOnEscape","LMPageUtils","LMUtils","LoadObject","React","SUIHelpMessage.react","XUIContextualDialog.react","XUIPopoverButton.react","emptyFunction","getByPath","immutable","joinClasses","suiMargin"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k=b("LMUtils").getSearchState,l=400,m=16;c=babelHelpers.inherits(a,b("React").Component);j=c&&c.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=j.constructor).call.apply(a,[this].concat(d)),this.$2=function(){return this.refs.openMenuButton}.bind(this),b}a.prototype.$1=function(){return b("React").createElement(b("XUIContextualDialog.react"),{alignment:"left",behaviors:{LayerHideOnBlur:b("LayerHideOnBlur"),LayerHideOnEscape:b("LayerHideOnEscape"),ContextualLayerAutoFlipHorizontal:b("ContextualLayerAutoFlipHorizontal")},contextRef:this.$2,label:h._("Parent Page Selector"),position:"below",shown:!0,onToggle:this.props.onToggleDialog},this.$3())};a.prototype.$3=function(){var a=b("LMPageUtils").getLoadedPages(this.props.pages).toArray(),c=k(this.props.searchedPage),d=this.props.searchedPage.getValue(),e=b("CurrentUser").isEmployee();return b("React").createElement("div",{className:b("joinClasses")("_21wq _70b")},b("React").createElement(b("AdsPageAssetSelector.react"),{bookmarkedPages:[],compactLayout:!0,currentUserID:b("CurrentUser").getID(),listItemHoverStyle:"light-gray",maxListHeight:l,pages:a,searchBarVisible:e,searchedPages:d?[d]:[],searchState:c,searchQuery:this.props.searchQuery,selectedBusinessID:this.props.selectedBusinessID,selectedPageID:this.props.selectedPageID,selectedSectionType:b("AdsAssetSectionType").OWNED,showBookmarks:!1,showBottomBorder:!1,showNonBizGroupTitle:!0,showPageCount:!1,shownBusinessID:this.props.shownBusinessID,showPageIDs:e,onPageBookmarked:b("emptyFunction"),onPageRemoved:b("emptyFunction"),onPageSelected:this.props.onSelectedPageIDChange,onSearch:this.props.onSearch}))};a.prototype.$4=function(){var a=this.props.selectedPageID;return!a?h._("Choose Facebook Page"):this.$5().map(function(a){return a.name}).getValue()||a};a.prototype.$6=function(){var a=this.$5().getValue();if(!a)return null;if(a.picture&&typeof a.picture==="object")return b("getByPath")(a,b("ApiPagePaths").PICTURE.DATA.URL)||b("getByPath")(a,b("ApiPagePaths").PICTURE.path);else if(a.picture&&typeof a.picture==="string")return a.picture;return null};a.prototype.$5=function(){var a=this.props.selectedPageID;return a!=null?this.props.pages.get(a,b("LoadObject").empty()):b("LoadObject").empty()};a.prototype.$7=function(){return this.$5().hasValue()};a.prototype.render=function(){var a=this.props.pages;if(!a)return b("React").createElement("div",{className:"_1zzu"},b("React").createElement(b("AdsShimmerBar.react"),{height:"10px",width:"180px"}));a=null;this.props.dialogShown&&(a=this.$1());return b("React").createElement("div",null,b("CurrentUser").isEmployee()&&this.props.isGlobalBrand.match({loading:function(){return null},error:function(){return null},loaded:function(a){return a?b("React").createElement(b("SUIHelpMessage.react"),{margin:"_3-91",value:h._("[FB-Only] This Page is part of a global brand structure.")}):null}}),b("React").createElement(b("XUIPopoverButton.react"),{className:"_4z8-",disabled:!1,haschevron:!0,image:b("React").createElement(b("Image.react"),{className:this.$7()?"":"hidden_elem",height:m,src:this.props.covered?i("95410"):this.$6()||i("22120"),width:m}),label:this.$4(),ref:"openMenuButton",size:"large",suppressed:!1,type:"button",onClick:this.props.onToggleDialogClick}),a)};e.exports=a}),null);
__d("LMPageSelectorContainer.react",["AdsPageSelectorSearchDataAction","AdsPageSelectorStore","AdsValidatorTests","CurrentUser","FluxContainer","LMActions","LMConfigStore","LMOwnedPageListStore","LMOwnedPageStore","LMPageSelector.react","LMPageSelectorStore","LoadObject","NullBusinessID","React","getByPath","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("AdsValidatorTests").isFBIDString,i=b("LMActions").dispatchActionFromView;c=b("React").Component;var j=function(a){i({type:"lm.navigation.selected_page_change",pageID:a})},k=function(){i({type:"lm.page_selector.dialog",dialogShown:!1})},l=function(){var a=b("LMPageSelectorStore").getState();a=a.dialogShown;i({type:"lm.page_selector.dialog",dialogShown:!a})},m=function(a,c){__p&&__p();if(!a&&c){c=b("LMOwnedPageStore").get(c).getValue();c=b("getByPath")(c,["userpermissions","data"],[]);for(var d=c.length-1;d>=0;d--){a=b("getByPath")(c[d],["business","id"]);if(a)return a}}return a||b("NullBusinessID")};function n(a,b){return Math.abs(a.length-b.length)>3&&b.length>5&&h(b).isValid}var o=function(a){var c=b("AdsPageSelectorStore").getSearchQuery();n(c,a)&&(j(a),k());b("AdsPageSelectorSearchDataAction").dispatch({searchQuery:a})};g=babelHelpers.inherits(a,c);g&&g.prototype;a.getStores=function(){return[b("AdsPageSelectorStore"),b("LMConfigStore"),b("LMOwnedPageListStore"),b("LMOwnedPageStore"),b("LMPageSelectorStore")]};a.calculateState=function(a){__p&&__p();var c=b("LMConfigStore").getState(),d=c.businessID;c=c.parentPageID;var e=b("LMOwnedPageListStore").getForCurrentUser().map(function(a){return a.toArray()}).getValue()||[];e=[].concat(e);c!=null&&e.push(c);e=b("LMOwnedPageStore").getAll(e,a?a.pages:null);a=b("LMPageSelectorStore").getState();a=a.dialogShown;var f=b("AdsPageSelectorStore").getSearchQuery(),g=f&&b("CurrentUser").isEmployee()?b("LMOwnedPageStore").get(f):b("LoadObject").empty();d=m(d,c);var h=(c!=null?b("LoadObject").withValue(c):b("LoadObject").empty()).map(function(a){return b("LMOwnedPageStore").get(a)}).map(function(a){return a.global_brand_root_id!=null});return{dialogShown:a,isGlobalBrand:h,pages:e,parentPageID:c,searchedPage:g,searchQuery:f,selectedBusinessID:d,onSelectedPageIDChange:j,onToggleDialog:k,onToggleDialogClick:l}};a.prototype.render=function(){return b("React").createElement(b("LMPageSelector.react"),{dialogShown:this.state.dialogShown,isGlobalBrand:this.state.isGlobalBrand,pages:this.state.pages,searchedPage:this.state.searchedPage,searchQuery:this.state.searchQuery,selectedBusinessID:this.state.selectedBusinessID,selectedPageID:this.state.parentPageID,onSearch:o,onSelectedPageIDChange:this.state.onSelectedPageIDChange,onToggleDialog:this.state.onToggleDialog,onToggleDialogClick:this.state.onToggleDialogClick})};function a(){g.apply(this,arguments)}e.exports=b("FluxContainer").create(a)}),null);
__d("LMPublishingMenuImportItem.react",["ix","cx","fbt","Date.react","Link.react","LMImportStatusUtils","LMPublishingUtils","React","SUIButton.react","SUIGlyphIcon.react","SUIText.react","Tooltip","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k=b("LMImportStatusUtils").getStatus,l=b("LMImportStatusUtils").getSubmitTime,m=b("LMImportStatusUtils").isImportFinished,n=b("LMPublishingUtils").ICONS,o=b("LMPublishingUtils").IMPORT_LABELS,p="g:ia M j";c=babelHelpers.inherits(a,b("React").Component);j=c&&c.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=j.constructor).call.apply(a,[this].concat(d)),this.$1=function(){this.props.onImportStatusDismissButtonClick(this.props.importStatus)}.bind(this),b}a.prototype.$2=function(){return b("React").createElement("div",{className:"_6dt1"},b("React").createElement(b("SUIButton.react"),{icon:b("React").createElement(b("SUIGlyphIcon.react"),{srcDefault:g("363590"),srcHover:g("409005")}),label:i._("Dismiss"),labelIsHidden:!0,suppressed:!0,onClick:this.$1}))};a.prototype.$3=function(a,c){return a!=="fail"?null:b("React").createElement(b("Link.react"),{href:c,s:"skip Linkshim"},b("React").createElement(b("SUIButton.react"),{icon:b("React").createElement(b("SUIGlyphIcon.react"),{srcDefault:g("406900"),srcHover:g("419576")}),label:i._("Download"),labelIsHidden:!0,suppressed:!0,tooltip:i._("Download spreadsheet with errors")}))};a.prototype.$4=function(a,c){return!m(a)?null:b("React").createElement("span",null,this.$3(a,c),this.$2())};a.prototype.render=function(){var a=k(this.props.importStatus),c=l(this.props.importStatus);if(a!=null){var d=n[a],e=o[a];return b("React").createElement("div",{className:"_45jy"},b("React").createElement("div",{className:"_45j-"},b("React").createElement("div",{className:"_4bf1"},this.props.tooltip!=null?b("React").createElement("span",b("Tooltip").propsFor(this.props.tooltip,"below","center"),d):b("React").createElement("span",null,d)),b("React").createElement("div",{className:"_45k0"},b("React").createElement("span",null,e," ",b("React").createElement(b("SUIText.react"),{shade:"light",size:"xsmall_DEPRECATED"},i._("({import_status_success} of {import_status_total})",[i._param("import_status_success",this.props.importStatus.success),i._param("import_status_total",this.props.importStatus.total)])))),b("React").createElement("div",null,this.$4(a,this.props.importStatus.error_rows_log_url))),b("React").createElement("div",{className:"_6dt2"},b("React").createElement(b("SUIText.react"),{color:"secondary",size:"meta1"},b("React").createElement("span",null,b("React").createElement(b("Date.react"),{date:c,format:p})))))}return null};e.exports=a}),null);
__d("LMPublishingMenuItem.react",["cx","LMPublishingUtils","React","Tooltip"],(function(a,b,c,d,e,f,g){"use strict";var h=b("LMPublishingUtils").ICONS;function a(a){var c=h[a.status];return b("React").createElement("div",{className:"_45jy"},b("React").createElement("div",{className:"_45j-"},b("React").createElement("div",{className:"_4bf1"},a.tooltip!=null?b("React").createElement("span",b("Tooltip").propsFor(a.tooltip,"below","center"),c):b("React").createElement("span",null,c)),b("React").createElement("div",{className:"_45k0"},a.label),b("React").createElement("div",null,a.action)))}e.exports=a}),null);
__d("LMPublishingOperationActionButton.react",["ix","fbt","React","SUIButton.react","SUIGlyphIcon.react","asset"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=babelHelpers.inherits(a,b("React").Component);i=c&&c.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=i.constructor).call.apply(a,[this].concat(d)),this.$1=function(){this.props.onRestoreEditSession(this.props.operation)}.bind(this),this.$2=function(){this.props.onRemoveOperation(this.props.operation.id)}.bind(this),this.$3=function(){this.props.onRestartOperation(this.props.operation)}.bind(this),b}a.prototype.render=function(){switch(this.props.status){case"progress":return null;case"success":return b("React").createElement(b("SUIButton.react"),{icon:b("React").createElement(b("SUIGlyphIcon.react"),{srcDefault:g("368785"),srcHover:g("409002")}),label:h._("Dismiss"),labelIsHidden:!0,suppressed:!0,onClick:this.$2});case"fail":switch(this.props.operation.operationType){case"delete":return b("React").createElement(b("SUIButton.react"),{icon:b("React").createElement(b("SUIGlyphIcon.react"),{srcDefault:g("435670"),srcHover:g("460336")}),label:h._("Retry"),labelIsHidden:!0,suppressed:!0,onClick:this.$3});default:return b("React").createElement(b("SUIButton.react"),{icon:b("React").createElement(b("SUIGlyphIcon.react"),{srcDefault:g("386534"),srcHover:g("387952")}),label:h._("Edit"),labelIsHidden:!0,suppressed:!0,onClick:this.$1})}}return null};e.exports=a}),null);
__d("LMPublishingMenu.react",["cx","fbt","ContextualLayerUpdateOnScroll","FDSDropdownButton.react","immutable","LayerHideOnBlur","LayerHideOnEscape","LMImportStatusUtils","LMPublishingMenuImportItem.react","LMPublishingMenuItem.react","LMPublishingOperationActionButton.react","LMPublishingUtils","React","ScrollableArea.react","XUIAmbientNUX.react","XUIContextualDialog.react","XUIContextualDialogTitle.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=b("LMPublishingUtils").ICONS,k=b("LMPublishingUtils").IMPORT_LABELS,l=b("LMPublishingUtils").getLocations,m=b("LMPublishingUtils").getLocationStatus,n=b("LMPublishingUtils").getOperationLabel,o=b("LMPublishingUtils").getOperationStatus,p=b("LMPublishingUtils").getOperationTooltip,q={ContextualLayerUpdateOnScroll:b("ContextualLayerUpdateOnScroll"),LayerHideOnBlur:b("LayerHideOnBlur"),LayerHideOnEscape:b("LayerHideOnEscape")},r=400;c=babelHelpers.inherits(a,b("React").Component);i=c&&c.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=i.constructor).call.apply(a,[this].concat(e)),this.state={isShown:!1},this.$2=function(a){return this.$1=a}.bind(this),this.$3=function(){return this.$1}.bind(this),this.$6=function(a){return b("React").createElement(b("LMPublishingMenuImportItem.react"),{key:a.submission_id,importStatus:a,onImportStatusDismissButtonClick:this.props.onImportStatusDismissButtonClick})}.bind(this),this.$7=function(a){var c=n(a),d=o(a),e=p(a);return b("React").createElement(b("LMPublishingMenuItem.react"),{action:b("React").createElement(b("LMPublishingOperationActionButton.react"),{operation:a,status:d,onRemoveOperation:this.props.onRemoveOperation,onRestartOperation:this.props.onRestartOperation,onRestoreEditSession:this.props.onRestoreEditSession}),key:a.id,label:c,status:d,tooltip:e})}.bind(this),this.$8=function(event){event.stopPropagation(),this.setState({isShown:!this.state.isShown})}.bind(this),this.$10=function(a){this.$9()&&this.props.onDismissNux(),this.setState({isShown:a})}.bind(this),c}a.prototype.$4=function(a,c){return a==null?"":h._("{=[Label for the menu button]}",[h._param("=[Label for the menu button]",b("React").createElement("span",{className:"_4bf2"+(c==="progress"?" _4bf3":"")+(c==="success"?" _4bf4":"")+(c==="fail"?" _4bf5":"")},h._("{Label for the menu button}",[h._param("Label for the menu button",a)])))])};a.prototype.$5=function(a){if(a!=null)return b("React").createElement("span",null,b("React").createElement("div",{className:"_6ftj"},j[a]));var c=this.props.publishingState.valueSeq().flatMap(l).map(m).countBy(function(a){return a});a=["progress","fail","success"].map(function(a){return c.get(a)>0?b("React").createElement("span",{className:"_4bf2 _4bf-"+(a==="progress"?" _4bf3":"")+(a==="success"?" _4bf4":"")+(a==="fail"?" _4bf5":""),key:a},j[a]," ",c.get(a)):null});return b("React").createElement("div",null,a)};a.prototype.$9=function(){return!this.props.hasSeenNux&&this.props.importStatuses.hasValue()};a.prototype.render=function(){__p&&__p();var a=this.props.importStatuses.map(function(a){return a.filter(function(a){return b("LMImportStatusUtils").isImportStatusVisible(a)&&b("LMImportStatusUtils").isImportStatusWithinLastWeek(a)}).sortBy(function(a){return a.submit_time}).reverse()}).getValue()||b("immutable").List(),c=this.props.publishingState.valueSeq();if(c.isEmpty()&&a.size===0)return null;c=b("LMImportStatusUtils").getStatus(a.first());var d=this.props.publishingState.size===1?this.props.publishingState.first():null,e=c?c:d!=null?o(d):null;c=c?k[c]:d!=null?n(d):null;return b("React").createElement("span",null,b("React").createElement(b("FDSDropdownButton.react"),{icon:this.$5(e),label:this.$4(c,e),ref:this.$2,size:"medium",onClick:this.$8}),b("React").createElement(b("XUIContextualDialog.react"),{alignment:"right",behaviors:q,contextRef:this.$3,position:"below",shown:this.state.isShown,onToggle:this.$10},b("React").createElement(b("XUIContextualDialogTitle.react"),null,b("React").createElement("div",{className:"_4be-"},h._("Locations Status"))),b("React").createElement(b("ScrollableArea.react"),{maxHeight:r},b("React").createElement("div",{className:"_4be_"},a.map(this.$6),this.props.publishingState.valueSeq().map(this.$7).reverse()))),b("React").createElement(b("XUIAmbientNUX.react"),{alignment:"right",contextRef:this.$3,position:"below",shown:this.$9(),onCloseButtonClick:this.props.onDismissNux},h._("If you have any active file imports, your locations will continue to be added in the background")))};e.exports=a}),null);
__d("LMPublishingMenuContainer.react",["CurrentUser","FluxContainer","LMActions","LMConfigStore","LMImportStatusStore","LMNuxDataManager","LMNuxStore","LMPublishingMenu.react","LMPublishingOperation","LMPublishingStore","LMPublishingUtils","LoadObject","React","SimpleNUXMessageTypes"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("LMActions").dispatchActionFromView,h=b("LMPublishingUtils").getLocations,i=b("SimpleNUXMessageTypes").LM_JOB_STATUS_INDICATOR_NUX;function a(){return[b("LMConfigStore"),b("LMImportStatusStore"),b("LMNuxStore"),b("LMPublishingStore")]}function c(){var a=b("LMConfigStore").getState();a=a.parentPageID;return{currentUserID:b("CurrentUser").getID(),importStatuses:a!=null?b("LMImportStatusStore").get(a):b("LoadObject").empty(),hasSeenNux:b("LMNuxStore").getState().get(i,!1),publishingState:b("LMPublishingStore").getState()}}function j(a){g({type:"lm.publish.restore_edit_session",operation:a})}function k(a){g({type:"lm.publish.remove_operation",operationID:a})}function l(a){var b=h(a).filter(function(a){return a.hasError()}).map(function(a){return a.getValueEnforcing()}).toArray(),c=a.operationType,d=a.parentPageID;a=a.id;g({type:"lm.publish.start",locations:b,operationType:c,parentPageID:d,operationID:a})}function m(){b("LMNuxDataManager").dismissNux(i)}function n(a){g({type:"lm.upload_locations.import_status.dismissed",importStatus:a})}function d(a){return b("React").createElement(b("LMPublishingMenu.react"),babelHelpers["extends"]({},a,{onDismissNux:m,onImportStatusDismissButtonClick:n,onRemoveOperation:k,onRestartOperation:l,onRestoreEditSession:j}))}e.exports=b("FluxContainer").createFunctional(d,a,c)}),null);
__d("LMSearchInput.react",["cx","fbt","React","SUISearchInput.react"],(function(a,b,c,d,e,f,g,h){"use strict";var i;i=babelHelpers.inherits(a,b("React").Component);i&&i.prototype;a.prototype.render=function(){return b("React").createElement(b("SUISearchInput.react"),{className:"_4xpc",onChange:this.props.onSearchTextChange,placeholder:h._("Search locations"),value:this.props.searchText,hasTooltip:!1})};function a(){i.apply(this,arguments)}e.exports=a}),null);
__d("LMSearchInputContainer.react",["FluxContainer","LMActions","LMQueryLocationStore","LMSearchInput.react","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("LMActions").dispatchActionFromView;function a(){return[b("LMQueryLocationStore")]}function c(){var a=b("LMQueryLocationStore").getState();a=a.searchText;return{searchText:a}}function d(a){return b("React").createElement(b("LMSearchInput.react"),babelHelpers["extends"]({},a,{onSearchTextChange:h}))}function h(a){g({type:"lm.set_search_text",searchText:a})}e.exports=b("FluxContainer").createFunctional(d,a,c)}),null);
__d("LMNav.react",["cx","fbt","ErrorBoundary.react","FDSHorizontalLayout.react","LMAddLocationsButtonContainer.react","LMEnvironment","LMPageSelectorContainer.react","LMPublishingMenuContainer.react","LMSearchInputContainer.react","LMTabs","LocationManagerWebDriverTestIDs","React","SUITabGroup.react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=[{"data-testid":b("LocationManagerWebDriverTestIDs").LOCATIONS_TAB_LINK,label:h._("Locations"),value:b("LMTabs").LOCATIONS},{"data-testid":b("LocationManagerWebDriverTestIDs").SETTINGS_TAB_LINK,label:h._("Settings"),value:b("LMTabs").SETTINGS}];function a(a){var c=a.environment!==b("LMEnvironment").PAGE_SETTINGS&&a.onboardingStepType!=="no_pages";return b("React").createElement("div",{className:"_4eey"},c?b("React").createElement(b("ErrorBoundary.react"),null,b("React").createElement(b("LMPageSelectorContainer.react"),null)):null,a.onboardingStepType==="edit_locations"?b("React").createElement("div",{className:"_3qkp"},b("React").createElement(b("SUITabGroup.react"),{className:"_3qko",tabs:i,value:a.tab,onChange:a.onChangeTab}),a.tab==="locations"?b("React").createElement("div",{className:"_60vs"},b("React").createElement(b("FDSHorizontalLayout.react"),null,b("React").createElement(b("ErrorBoundary.react"),null,b("React").createElement(b("LMPublishingMenuContainer.react"),null)),b("React").createElement(b("ErrorBoundary.react"),null,b("React").createElement(b("LMSearchInputContainer.react"),null)),b("React").createElement(b("ErrorBoundary.react"),null,b("React").createElement(b("LMAddLocationsButtonContainer.react"),null)))):null):null)}e.exports=a}),null);
__d("LMKeyboardShortcutsInfo.react",["cx","fbt","InfoTable.react","InfoTableRow.react","InfoTableSection.react","React","SUIText.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=function(a){a=a.children;return b("React").createElement("kbd",{className:"_63nt"},a)};i=babelHelpers.inherits(a,b("React").Component);i&&i.prototype;a.prototype.render=function(){var a=navigator.platform==="MacIntel",c=a?b("React").createElement(j,null,h._("^")):b("React").createElement(j,null,h._("ctrl")),d=a?b("React").createElement(j,null,h._("\u2325")):b("React").createElement(j,null,h._("alt")),e=a?b("React").createElement(j,null,h._("\u2318")):b("React").createElement(j,null,h._("ctrl")),f=b("React").createElement(j,null,h._("\u21e7")),g=a?e:c;return b("React").createElement("div",{className:"_63nu"},b("React").createElement(b("InfoTable.react"),null,b("React").createElement(b("InfoTableSection.react"),null,this.props.shortcuts.map(function(a){return b("React").createElement(b("InfoTableRow.react"),{key:a.title,label:b("React").createElement("div",{className:"_63nv"},a.ctrlOrCmd&&g,a.ctrl&&c,a.alt&&d,a.shift&&f,b("React").createElement(j,null,[].concat(a.key)[0])),className:"_63nw"},b("React").createElement("div",null,b("React").createElement(b("SUIText.react"),{display:"block",headingLevel:3,shade:"medium",size:"meta1",weight:"bold"},a.title),b("React").createElement(b("SUIText.react"),{color:"secondary",display:"block",size:"meta1",style:{marginBottom:8}},a.description)))}))))};function a(){i.apply(this,arguments)}e.exports=a}),null);
__d("LMPageSettingsItem.react",["cx","FDSSimplePopover.react","React","SUIRadioList.react","SUIText.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("SUIRadioList.react").Item;c=babelHelpers.inherits(a,b("React").Component);h=c&&c.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=h.constructor).call.apply(a,[this].concat(d)),this.$1=function(a){this.props.onChange({setting:this.props.pageSettingSpec.setting,value:a})}.bind(this),b}a.prototype.render=function(){var a=this.props,c=a.disabled,d=a.page,e=a.pageSetting;a=a.pageSettingSpec;return e==null?null:b("React").createElement("div",{className:"_2ys4"},b("React").createElement("div",{className:"_2ys5"},b("React").createElement(b("SUIText.react"),{size:"meta1",weight:"bold"},a.label),b("React").createElement(b("FDSSimplePopover.react"),{alignment:"right",display:"inline",position:"below",content:a.helpText})),b("React").createElement("div",{className:"_2ys8"},b("React").createElement(b("SUIRadioList.react"),{value:e.value,onChange:this.$1},a.options.map(function(a){return b("React").createElement(i,{disabled:c,key:a.value,value:a.value},a.label)})),b("React").createElement("div",{className:"_3-8y"},b("React").createElement(b("SUIText.react"),{shade:"light",size:"meta1"},a.renderDescription(d)))))};e.exports=a}),null);
__d("LMPageName.react",["fbt","FDSSpinner.react","React","loadObjectComponent"],(function(a,b,c,d,e,f,g){"use strict";var h=b("loadObjectComponent")({loading:function(){return b("React").createElement(b("FDSSpinner.react"),{size:"small"})},error:function(){return g._("Unknown")},loaded:function(a){return a.name}});function a(a){a=a.page;return b("React").createElement(h,{object:a})}e.exports=a}),null);
__d("LMPageSettingsSpecs",["fbt","LMPageName.react","React"],(function(a,b,c,d,e,f,g){"use strict";a=[{setting:"SHOW_PARENT_POSTS_ON_LOCATIONS",label:g._("Local Content"),renderDescription:function(a){return g._("Show posts from {name of the page} on your location Pages",[g._param("name of the page",b("React").createElement(b("LMPageName.react"),{page:a}))])},helpText:g._("Location Page admins can chose whether or not to show the parent Page posts on the locations pages."),options:[{value:"Always show",label:g._("Always show")},{value:"Only show on location Pages that don't publish their own posts",label:g._("Only show on location Pages that don't publish their own posts")},{value:"Never show",label:g._("Never show")}]},{setting:"SHOW_LOCATIONS_TAB",label:g._("Locations Tab"),renderDescription:function(a){return g._("Allow visitors on your location Pages to see other {name of the page} locations nearby",[g._param("name of the page",b("React").createElement(b("LMPageName.react"),{page:a}))])},helpText:g._("Location Page admins can chose whether or not to show these other locations."),options:[{value:"Allow",label:g._("Allow")},{value:"Allow on mobile only",label:g._("Allow on mobile only")},{value:"Don't allow",label:g._("Don't allow")}]}];e.exports=a}),null);
__d("LMPageSettings.react",["cx","fbt","FDSSpinner.react","LMPageSettingsItem.react","LMPageSettingsSpecs","LoadObject","React","SUIModalCancelButton.react","SUIModalFooter.react","SUIModalSaveButton.react","SUINotice.react","SUISpinner.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=h._("Something went wrong. Please try again.");function k(a){return b("React").createElement("div",{className:"_3-94"},b("React").createElement(b("SUINotice.react"),{type:"error"},a.error.error_user_msg||a.error.message||j))}c=babelHelpers.inherits(a,b("React").Component);i=c&&c.prototype;function a(a){i.constructor.call(this,a),this.$1=function(a){var b=this.state.pageSettings.map(function(b){return b.map(function(b){return b.setting===a.setting?a:b})});this.setState({pageSettings:b})}.bind(this),this.$2=function(){this.setState({pageSettings:this.props.pageSettings})}.bind(this),this.$3=function(){var a=this.state.pageSettings.getValue();a!=null&&this.props.onSave(a)}.bind(this),this.state={pageSettings:a.pageSettings}}a.prototype.UNSAFE_componentWillReceiveProps=function(a){a=a.pageSettings;this.props.pageSettings!==a&&this.setState({pageSettings:a})};a.prototype.render=function(){var a=this.state.pageSettings,c=a.getError(),d=a!==this.props.pageSettings,e=a.isLoading(),f=a.isUpdating(),g=a.hasOperation(),i=a.getValue();a=d;d=!e&&!f&&i!=null&&d;return b("React").createElement("div",{className:e?"_63o0":""},b("React").createElement("div",{className:"_2ph_ _63o1"},c!=null?b("React").createElement(k,{error:c}):null,i==null&&e?b("React").createElement(b("FDSSpinner.react"),null):null,i!=null?b("React").createElement("div",null,b("LMPageSettingsSpecs").map(function(a){return b("React").createElement(b("LMPageSettingsItem.react"),{disabled:g,key:a.setting,page:this.props.page,pageSettingSpec:a,pageSetting:i.find(function(b){b=b.setting;return b===a.setting}),onChange:this.$1})}.bind(this))):null),b("React").createElement(b("SUIModalFooter.react"),{leftContent:f?b("React").createElement("span",null,b("React").createElement(b("SUISpinner.react"),{className:"_3-8_",size:"small"}),h._("Saving changes\u2026")):null,secondaryButton:b("React").createElement(b("SUIModalCancelButton.react"),{disabled:!a,onClick:this.$2}),primaryButton:b("React").createElement(b("SUIModalSaveButton.react"),{disabled:!d,onClick:this.$3})}))};e.exports=a}),null);
__d("LMPageSettingsContainer.react",["FluxContainer","LMActions","LMConfigStore","LMOwnedPageStore","LMPageSettings.react","LMPageSettingsStore","LoadObject","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=babelHelpers.inherits(a,b("React").Component);g=c&&c.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=g.constructor).call.apply(a,[this].concat(e)),this.$1=function(a){var c=this.state.parentPageID;if(c==null)return;b("LMActions").dispatchActionFromView({type:"lm.page_settings.save",pageID:c,pageSettings:a})}.bind(this),c}a.getStores=function(){return[b("LMPageSettingsStore"),b("LMConfigStore"),b("LMOwnedPageStore")]};a.calculateState=function(){var a=b("LMConfigStore").getState();a=a.parentPageID;return{parentPageID:a,page:a!=null?b("LMOwnedPageStore").get(a):b("LoadObject").empty(),pageSettings:a!=null?b("LMPageSettingsStore").get(a):b("LoadObject").empty()}};a.prototype.render=function(){return b("React").createElement(b("LMPageSettings.react"),{page:this.state.page,pageSettings:this.state.pageSettings,onSave:this.$1})};e.exports=b("FluxContainer").create(a)}),null);
__d("LMSettingsTabConfig",["ix","fbt","LMKeyboardShortcutsInfo.react","LMPageSettingsContainer.react","LMShortcuts","LMSidebarItemIDs","React","asset","gkx"],(function(a,b,c,d,e,f,g,h){"use strict";c={sidebarItems:[[{activeIconSrc:g("402732"),defaultIconSrc:g("375571"),id:b("LMSidebarItemIDs").PARENT_PAGE_SETTINGS,label:h._("Location Page Settings")}].concat(b("gkx")("AT6J6UkLaNfuWItBIlb0TyPQJRQNK8FP8CQehfQmaGwfAZMniRX9eQs-HTtwPSbsU4rw2yYOmwtQJRSBxNPWR6Wu")?[{activeIconSrc:g("402738"),defaultIconSrc:g("396084"),id:b("LMSidebarItemIDs").PAGE_NAMING,label:h._("Page Naming")}]:[]),[{activeIconSrc:g("402729"),defaultIconSrc:g("396078"),id:b("LMSidebarItemIDs").KEYBOARD_SHORTCUTS,label:h._("Keyboard Shortcuts")}]],mainContent:(a={},a[b("LMSidebarItemIDs").PARENT_PAGE_SETTINGS]={description:h._("Manage local content controls for your Location Pages."),iconSrc:g("348947"),render:function(){return b("React").createElement(b("LMPageSettingsContainer.react"),null)},title:h._("Location Page Settings")},a[b("LMSidebarItemIDs").PAGE_NAMING]={description:h._("Change how your location pages are named and shown to your visitors on Facebook."),iconSrc:g("396088"),render:function(){return null},title:h._("Page Naming")},a[b("LMSidebarItemIDs").KEYBOARD_SHORTCUTS]={description:h._("A list of useful keyboard shortcuts to make editing multiple locations easier."),iconSrc:g("396082"),render:function(){return b("React").createElement(b("LMKeyboardShortcutsInfo.react"),{shortcuts:Array.from(b("LMShortcuts").getAllShortcuts().values())})},title:h._("Keyboard Shortcuts")},a)};e.exports=c}),null);
__d("LMSettingsTab.react",["cx","AbstractButton.react","Image.react","LMSettingsTabConfig","LocationManagerWebDriverTestIDs","React","SUIText.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;function i(event){event.preventDefault()}c=babelHelpers.inherits(j,b("React").Component);h=c&&c.prototype;function j(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=h.constructor).call.apply(a,[this].concat(d)),this.$1=function(){this.props.onClick(this.props.id)}.bind(this),b}j.prototype.render=function(){var a=this.props.isActive?this.props.activeIconSrc:this.props.defaultIconSrc;return b("React").createElement(b("AbstractButton.react"),{className:"_1bg8"+(this.props.isActive?" _mjp":""),image:b("React").createElement(b("Image.react"),{className:"_3-91",src:a}),label:this.props.label,onClick:this.$1,onMouseDown:i})};function k(a){return b("React").createElement("div",{className:"_1bg9"},b("React").createElement("header",{className:"_1bgc"},b("React").createElement("div",{className:"_1bge"},b("React").createElement(b("SUIText.react"),{className:"_3-96",display:"block",headingLevel:2,size:"headline_DEPRECATED",weight:"bold"},a.title),b("React").createElement(b("SUIText.react"),{size:"meta1",shade:"light"},a.description)),b("React").createElement(b("Image.react"),{src:a.iconSrc})),b("React").createElement("main",null,a.children))}function a(a){var c=b("LMSettingsTabConfig").mainContent[a.activeSidebarItemID];return b("React").createElement("div",{className:"_1bgg","data-testid":b("LocationManagerWebDriverTestIDs").SETTINGS_TAB},b("React").createElement("div",{className:"_1bgh"},b("React").createElement("div",{className:"_63nx"},b("LMSettingsTabConfig").sidebarItems.map(function(c,d){return b("React").createElement("div",{className:"_1bgi",key:d},c.map(function(c){return b("React").createElement(j,{activeIconSrc:c.activeIconSrc,defaultIconSrc:c.defaultIconSrc,id:c.id,isActive:a.activeSidebarItemID===c.id,key:c.id,label:c.label,onClick:a.onClickSidebarItem})}))}))),c!=null?b("React").createElement(k,{description:c.description,iconSrc:c.iconSrc,render:c.render,title:c.title},c.render()):null)}e.exports=a}),null);
__d("LMSettingsTabContainer.react",["FluxContainer","LMActions","LMConfigStore","LMSettingsTab.react","LMSidebarItemIDs","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){return[b("LMConfigStore")]}function c(){var a=b("LMConfigStore").getState();a=a.sidebarItemID;return{sidebarItemID:a!=null?a:b("LMSidebarItemIDs").PARENT_PAGE_SETTINGS}}function g(a){b("LMActions").dispatchActionFromView({type:"lm.settings.click_side_bar_item",sidebarItemID:a})}function d(a){return b("React").createElement(b("LMSettingsTab.react"),{activeSidebarItemID:a.sidebarItemID,onClickSidebarItem:g})}e.exports=b("FluxContainer").createFunctional(d,a,c)}),null);
__d("LocationManager.react",["cx","LMEmployeeInternSwitchNotice.react","LMLocationsTab.react","LMNav.react","LMSettingsTabContainer.react","LocationManagerWebDriverTestIDs","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.$1=function(){switch(this.props.tab){case"settings":return b("React").createElement(b("LMSettingsTabContainer.react"),null);case"locations":default:return b("React").createElement(b("LMLocationsTab.react"),{parentPage:this.props.parentPage,onboardingStepType:this.props.onboardingStepType})}};a.prototype.render=function(){return b("React").createElement("div",{"data-testid":b("LocationManagerWebDriverTestIDs").LOCATION_MANAGER,className:"_19y4 _4eym"},b("React").createElement(b("LMEmployeeInternSwitchNotice.react"),{environment:this.props.environment,permissions:this.props.permissions}),b("React").createElement(b("LMNav.react"),{environment:this.props.environment,onboardingStepType:this.props.onboardingStepType,tab:this.props.tab,onChangeTab:this.props.onChangeTab}),this.$1())};function a(){h.apply(this,arguments)}e.exports=a}),null);
__d("LocationManagerContainer.react",["cx","FluxContainer","LMActions","LMConfigStore","LMCoreNavStore","LMEnvironment","LMOwnedPageStore","LMPermissionsStore","LMUploadLocationsActionCreators","LoadObject","LocationManager.react","React","SUIBusinessThemeContainer.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("LMActions").dispatchActionFromView;function i(){b("LMUploadLocationsActionCreators").onOpenUpload()}function j(){h({type:"lm.click_add_new_page"})}function k(){h({type:"lm.click_add_existing_page"})}function l(a){h({type:"lm.tabs.click_tab",tab:a})}function a(){var a=b("LMConfigStore").getState(),c=a.environment,d=a.parentPageID;a=a.tab;return{environment:c,onboardingStepType:b("LMCoreNavStore").getState(),parentPageID:d,parentPage:d!=null?b("LMOwnedPageStore").get(d):b("LoadObject").empty(),permissions:d!=null?b("LMPermissionsStore").get(d):b("LoadObject").empty(),tab:a}}function c(){return[b("LMConfigStore"),b("LMCoreNavStore"),b("LMOwnedPageStore"),b("LMPermissionsStore")]}function d(a){return b("React").createElement(b("SUIBusinessThemeContainer.react"),null,b("React").createElement("div",{className:"_3m89"+(a.environment===b("LMEnvironment").PAGE_SETTINGS?" _3v0r":"")+(a.environment!==b("LMEnvironment").PAGE_SETTINGS?" _3v0s":"")},b("React").createElement(b("LocationManager.react"),babelHelpers["extends"]({},a,{onAddSingleLocation:j,onChangeTab:l,onMakeLocationFromExistingPage:k,onUploadLocations:i}))))}e.exports=b("FluxContainer").createFunctional(d,c,a)}),null);
__d("LMBootstrapper",["AdsDataAtom","BLRouting","LMActions","LMConfigStore","LMLoggingUtils","LMShortcuts","LMStores","LocationManagerContainer.react","React","ReactRenderer","Run","URI"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(){function a(){b("LMActions").dispatchActionFromView({type:"lm.routing.popstate",uri:b("URI").getMostRecentURI().getUnqualifiedURI()})}b("BLRouting").init(b("LMConfigStore"),a)}function h(){b("LMShortcuts").init(),b("Run").onLeave(function(){b("LMShortcuts").cleanup()})}function i(){var a=new Set(["lm.page_selector.dialog","lm.search_location","lm.update_location"]),c=b("AdsDataAtom").register(function(c){c=c.action;a.has(c.type)||b("LMLoggingUtils").logAction(c.type)});b("Run").onLeave(function(){b("AdsDataAtom").unregister(c)})}function a(a,c){b("AdsDataAtom").explicitlyRegisterStores(b("LMStores").LIST),b("LMActions").dispatchActionFromView({type:"lm.bootstrap",config:c}),g(),h(),i(),b("ReactRenderer").renderComponent(b("React").createElement(b("LocationManagerContainer.react"),null),a)}e.exports={init:a}}),null);